
# Banach spaces {#banachSpaces}

Nontrivialities arise when we generalize from finite-dimensional 
to infinite-dimensional vector spaces. 
Banach spaces capture the $L^p$ spaces of integrable 
functions we will later be working with. We take care 
to develop some of its properties. In this section, 
we work with $\mbb F$ which can be either real or complex. 

1. [Vector space and duals](#vectorSpace): 
    existence of a basis, normed space of linear operators, 
    characterization of continuous linear functionals and operators, 
    graphs, the Hahn-Banach theorem. 
2. [Banach theorems](#banachSpace): 
    Baire's (category) theorem, 
    open mapping theorem, inverse mapping theorem, 
    principle of uniform boundedness, bounded inverse theorem, 
    closed graph theorem. 

Key takeaways: 

1. A basis in infinite-dimensional vector spaces spans by 
    **finite** linear combinations, and dual space 
    (definition \@ref(def:dualSpace))
    consists of the set of **bounded** or, equivalently, continuous 
    linear functionals under the operator norm
     (definition \@ref(def:operatorNorm)). 
1. The existence of a basis for infinite-dimensional vector space is 
    is nontrivial and nonconstructive (theorem \@ref(thm:vectorBasisExistence)). 
2. Continuity of linear maps cannot be taken for granted in 
    infinite-dimensional vector spaces. A linear map is continuous 
    iff bounded (theorem \@ref(thm:continuousLinear)). 
    Every infinite-dimensional normed vector space has a 
    discontinuous linear functional 
    (proposition \@ref(prp:disctLinearFunctional)). 
3. Hahn-Banach theorem \@ref(thm:hahnBanach): 
4. Baire's theorem \@ref(thm:baire): 
    every closed cover of a Banach space contains an element which has 
    nonempty interior. 
5. Baire's theorem leads to the principle of 
    uniform boundedness (corollary \@ref(cor:uniformBounded)): 
    every family of pointwise bounded linear operators from a 
    Banach space to a normed vector space is uniformly bounded. 

<span style="color:green">TODO: Hahn-Banach theorem</span> 


## Vector space and duals {#vectorSpace -}

:::{.definition name="(Hamel) basis"}
A subset $B\subset V$ of a vector space $V$ is a (Hamel) 
basis if it is linearly independent and every $v\in V$ can 
be written as a <span style="color:green">finite</span> 
linear combination of elements in $V$. 
:::

Zorn's lemma is in fact equivalent to the axiom of choice; 
it is responsible for the nonconstructive existence result 
for the basis of infinite-dimensional vector spaces. 
We will take it for granted. 
Fun quote from Wikipedia: 

> If you are building a mathematical object in stages and 
> find that (i) you have not finished even after infinitely 
> many stages, and (ii) there seems to be nothing to stop you 
> continuing to build, then Zornâ€™s lemma may well be able to 
> help you. 
> `r tufte::quote_footer('--- William Timothy Gowers')`

:::{.lemma name="Zorn's lemma"}
Given a partially ordered set $P$ in which every 
chain (subset with pairwise comparable elements) has an upper bound 
in $P$, then $P$ contains at least one maximal element. 
:::

:::{.theorem #vectorBasisExistence name="existence of basis"}
Every infinite-dimensional vector space $V$ has a basis. 
:::
<details>
<summary>Proof</summary>
Consider the space $A\subset 2^V$ of all linearly independent 
subsets of $V$, partially-ordered by set inclusion. 
Every chain $B_1\subset B_2\cdots \in A$ is upper-bounded 
$B_j\nearrow B$ (which is still linearly independent!), 
then the maximal element is precisely a basis, else 
the vector not in the finite linear span could be added to 
extend the basis. 
</details>

:::{.definition #operatorNorm name="(normed) space of linear operators"}
Given two vector spaces $U, V$, the set of linear 
operators from $U$ to $V$ is also a vector space, 
which we denote $\mca L(U, V)$. If $U, V$ are normed, 
then $\mca L(U, V)$ is equipped with the **operator norm**
\[ 
    \|T\| = \sup_{\|f\in U\|\leq 1} \|Tf\|
\] 
:::

:::{.definition name="bounded linear functional"}
A linear functional on a vector space $V$ 
is a linear map of signature $T:V\to \mbb F$. 
It is bounded if $\|T\|<\infty$ using the operator norm. 
:::

:::{.theorem #continuousLinear name="characterization of continuous linear maps"}
A linear map $T:U\to V$ is continuous iff it is bounded. 
:::
<details>
<summary>Proof</summary>
Given $T$ bounded, for every $f_j\to f\in U$, 
we have continuity from 
\[ 
    \|Tf_k - Tf\| \leq \|T\| \, \|f_k - f\|
\]
Conversely, assume $T$ unbounded, then there exists 
a sequence $f_j\in V$ with $\|f_j\|\leq 1$ and $\|T f_{k\to \infty}\| \to \infty$. 
Then 
\[ 
    \lim_{k\to \infty} \df{f_k}{\|T f_k\|} = 0, \quad T\, \df{f_k}{\|T f_k\|} 
    \not \to 0
\]  
</details>

:::{.theorem #continuousLinear name="characterization of continuous linear functionals"}
A linear functional $\varphi:U\to \F$ which is not identally $0$ 
is continuous iff it is bounded iff: 

1. $\ker \varphi$ is a closed subspace of $V$. 
2. $\overline{\ker \varphi} \neq V$. 
:::
<details>
<summary>Proof</summary>
Continuity implies (1) since $\ker \varphi = \varphi^{-1}(\{0\})$ and 
continuous maps send closed singletons to closed sets. Conversely, 
$\varphi$ unbounded implies $\exists f_j\in V$ such that $\|f_j\|\leq 1$ 
and $|\varphi\, f_j|>j$ for each $j$, note that 
\[ 
    \forall j, \quad \df{f_1}{\varphi\, f_1} 
    - \df{f_k}{\varphi\, f_k} \in \ker \varphi
\] 
On the other hand, we have 
\[ 
    \lim_{k\to \infty} \df{f_1}{\varphi\, f_1} 
    - \df{f_k}{\varphi\, f_k} = \df{f_1}{\varphi\, f_1} 
    \notin \ker \varphi 
\] 
thus $\overline{\ker \varphi}\neq \ker \varphi$ if $\varphi$ unbounded. 
Finally prove equivalence with (2), we have (1) implies (2) 
since $V$ is closed. Conversely, if 
$\overline{\ker \varphi} \supsetneq \ker \varphi$, we will show that 
$\overline{\ker \varphi} = V$. To do so, let 
$f\in \overline{\ker \varphi} - \ker \varphi$, then $\forall g\in V$: 
\[ 
    g = \left(g - \df{\varphi\, g}{\varphi\, f} 
    f\right) + \df{\varphi\, g}{\varphi\, f} f
\] 
Recall that $\overline{\ker \varphi}$ is a vector space. 
The term in the big paranthesis is in $\ker \varphi$, and the 
trailing term is in $\overline{\ker \varphi}$, thus
$g\in \overline{\ker \varphi}$ for every $g\in V$. 
</details>

:::{.proposition #disctLinearFunctional}
Every infinite-dimensional normed vector space has a 
    discontinuous linear functional. 
:::
_Proof:_ Consider a basis $\{e_j\in V\}_{j\in \Gamma \supset \mbb N}$. 
The linear functional which maps $e_j$ to $j$ is discontinuous.  

:::{.definition #dualSpace name="dual space"}
Given a normed vector space $V$, its dual space $V^*$ 
consists of the vector space of bounded linear operators 
under the operator norm (definition \@ref(def:operatorNorm)). 
:::


:::{.theorem #hahnBanach name="Hahn-Banach theorem"}
Given a normed vector space $V$ with subspace $U$ 
a bounded linear functional $\psi\in U^*$, then 
there exists $\tilde \psi\in V^*$ with $\|\tilde \psi\|_V = \|\psi\|_U$ 
and $\tilde \psi_{|U} = \psi$. 
:::

## Banach theorems {#banachSpace -}

:::{.definition name="completeness, Banach space"}
A metric space is complete if every Cauchy sequence 
in the space converges. A Banach space is 
a complete normed metric space. 
:::

:::{.proposition name="connection between complete and closed metric spaces"}
A complete subset of a metric space is closed, and a closed 
subset of a complete metric space is complete. 
:::
<details>
<summary>Proof</summary>
Given a complete subset $V$ of a metric space, every convergent 
sequence is also a convergent Cauchy sequence whose limit 
stays inside $V$. Given a closed subset, the convergent 
limit of every Cauchy sequence must say within $V$ by closure 
property, so $V$ is complete. 
</details>

Recall that to argue for Cauchy convergence we can 
drop to subsequences (proposition \@ref(prp:cauchySubsequence)). 

:::{.proposition name="characterization of Banach space"}
A normed vector space $V$ is complete (i.e. a Banach space) 
iff $\sum_{k=1}^\infty g_k$ converges for every sequence 
$g_j\in V$ satisfying $\sum_{k=1}^\infty \|g_k\|<\infty$. 
:::
<details>
<summary>Proof</summary>
Given $V$ complete, the partial sum of $g$ is a Cauchy 
sequence thus converges. Conversely, 
given a Cauchy sequence, drop to a subsequence $f_j$ 
and set $f_0=0$ so that  
\[ 
    \sum_{k=1}^\infty \|f_k - f_{k-1}\| < \infty 
\] 
then by assumption 
$\sum_{k=1}^\infty (f_k - f_{k-1})=\lim_{n\to \infty} f_n$ 
exists. 
</details>

:::{.theorem #baire name="Baire's theorem"}
Given a Banach space: 

1. the intersection of countably many dense open sets is nonempty. 
2. if $X$ is the countable union of 
    closed subsets $G_1, \cdots$, then some $G_j$ 
    contains an open ball. 
:::
<span style="color:green">
Proof idea: for (1), by denseness construct a Cauchy sequence; 
argue (2) by contradiction.
</span>
<details>
<summary>Proof</summary> 
We prove first prove (1): 
given a countable sequence of dense open sets $U_j$, 
we want to show that $\bigcap_{k=1}^\infty U_k \neq \infty$. 

1. Choose $f_1\in U_1$ and $r_1\in (0, 1)$ with 
    $\bar B_{r_1}(f_1)\subset U_1$ (denoting closure). 
2. For each $j$, choose $0<r_j<1/j$, $\bar B_{r_j}(f_j) \subset U_j$ 
    and $\bar B_{r_j}(f_j)\subset \bar B_{r_{j-1}}(f_{j-1})$. 
    We can do this because, fixing $r_{j-1}, f_{j-1}$, the ball 
    $B_{r_{j-1}}(f_{j-1})\cap U_j$ is a nontrivial (by $U_j$ dense) 
    open set, from which we can choose $f_j$ and the radius 
    such that $\bar B_{r_j}(f_j)\subset U_{j-1}$. 
3. Then $f_j$ is naturally a Cauchy sequence because 
    $|f_{j>N} - f_{k>n}| < 1/N$. 

By completeness, $f_j\to f\in X$, completing the proof of (1). 
To prove (2) suppose for contradiction that $X=\bigcup G_j$, 
each of which has empty interior, then $U_j = G_j^c$ 
is open and dense; by (1) there exists 
$f\in \bigcap (G_j^c) = (\bigcup G_j)^c$, contradicting $\bigcup G_j=X$. 
</details>

:::{.corollary #uniformBounded name="principle of uniform boundedness"}
Given $\mca A\subset \mca B(V, W)$ with 
$V$ Banach and $W$ normed satisfiny pointwise boundedness: 
\[ 
    \sup_{T\in \mca A} \|Tf\| < \infty, \quad \text{ for every } f\in V 
\] 
Then $\sup_{T\in \mca A} \|T\|<\infty$. 
:::

:::{.theorem name="open mapping theorem"}
Placeholder. 
:::

:::{.corollary name="bounded inverse theorem"}
Given $T\in \mca B(V, W)$ where $V, W$ are Banach spaces, 
$T^{-1}$ is a bounded linear map $W\to V$. 
:::

:::{.theorem name="closed graph theorem"}
Placeholder. 
:::

:::{.theorem name="Hahn-Banach theorem"}
Placeholder. 
:::