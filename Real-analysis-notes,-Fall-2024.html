<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Math 114 Notes</title>
  <meta name="description" content="Math 114 Notes" />
  <meta name="generator" content="bookdown #bookdown:version# and GitBook 2.6.7" />

  <meta property="og:title" content="Math 114 Notes" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Math 114 Notes" />
  
  
  

<meta name="author" content="Nicholas Lyu" />


<meta name="date" content="2024-10-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



<!--bookdown:title:start-->
<div id="header">
<h1 class="title">Math 114 Notes</h1>
<p class="author"><em>Nicholas Lyu</em></p>
<p class="date"><em>2024-10-13</em></p>
</div>
<!--bookdown:title:end-->

<!--bookdown:toc:start-->
  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">
<!--bookdown:toc2:start-->
<ul>
<li><a href="#preface" id="toc-preface">Preface</a></li>
<li><a href="#prelimaries" id="toc-prelimaries"><span class="toc-section-number">1</span> Prelimaries</a>
<ul>
<li><a href="#topology" id="toc-topology">Topology</a></li>
<li><a href="#real-analysis" id="toc-real-analysis">Real analysis</a></li>
</ul></li>
<li><a href="#abstractMachinery" id="toc-abstractMachinery"><span class="toc-section-number">2</span> Measures and σ-algebra</a>
<ul>
<li><a href="#sigmaDefinition" id="toc-sigmaDefinition">σ-algebra</a></li>
<li><a href="#measurableSpaceFunctions" id="toc-measurableSpaceFunctions">Measure spaces, measurable functions</a></li>
<li><a href="#caratheodory" id="toc-caratheodory">Carathéodory theorem</a></li>
</ul></li>
<li><a href="#realMeasures" id="toc-realMeasures"><span class="toc-section-number">3</span> Measure on <span class="math inline">\(\mathbb R^n\)</span></a>
<ul>
<li><a href="#extMeasure" id="toc-extMeasure">Rectangles, exterior measure</a></li>
<li><a href="#lebMeasure" id="toc-lebMeasure">Lebesgue measure, Borel regularity</a>
<ul>
<li><a href="#a-non-measurable-set" id="toc-a-non-measurable-set">A non-measurable set</a></li>
<li><a href="#approximation-of-measurable-sets" id="toc-approximation-of-measurable-sets">Approximation of measurable sets</a></li>
</ul></li>
<li><a href="#realMeasurableFunctions" id="toc-realMeasurableFunctions">Measurable functions on <span class="math inline">\(\mathbb R^n\)</span></a></li>
<li><a href="#simple-functions" id="toc-simple-functions">Simple functions</a></li>
<li><a href="#littlewoods-three-principles" id="toc-littlewoods-three-principles">Littlewood’s three principles</a></li>
<li><a href="#product-measures-fubini" id="toc-product-measures-fubini">Product measures, Fubini</a></li>
</ul></li>
<li><a href="#realMeasures" id="toc-realMeasures"><span class="toc-section-number">4</span> Measure on <span class="math inline">\(\mathbb R^n\)</span></a>
<ul>
<li><a href="#extMeasure" id="toc-extMeasure">Rectangles, exterior measure</a></li>
<li><a href="#lebMeasure" id="toc-lebMeasure">Lebesgue measure, Borel regularity</a>
<ul>
<li><a href="#a-non-measurable-set-1" id="toc-a-non-measurable-set-1">A non-measurable set</a></li>
<li><a href="#approximation-of-measurable-sets-1" id="toc-approximation-of-measurable-sets-1">Approximation of measurable sets</a></li>
</ul></li>
<li><a href="#realMeasurableFunctions" id="toc-realMeasurableFunctions">Measurable functions on <span class="math inline">\(\mathbb R^n\)</span></a></li>
<li><a href="#simple-functions-1" id="toc-simple-functions-1">Simple functions</a></li>
<li><a href="#littlewoods-three-principles-1" id="toc-littlewoods-three-principles-1">Littlewood’s three principles</a></li>
<li><a href="#product-measures-fubini-1" id="toc-product-measures-fubini-1">Product measures, Fubini</a></li>
</ul></li>
<li><a href="#lp-spaces" id="toc-lp-spaces"><span class="toc-section-number">5</span> <span class="math inline">\(L^p\)</span> Spaces</a>
<ul>
<li><a href="#definitions" id="toc-definitions">Definitions</a>
<ul>
<li><a href="#convexity-youngs-inequality" id="toc-convexity-youngs-inequality">Convexity, Young’s inequality</a></li>
</ul></li>
<li><a href="#space-and-norm" id="toc-space-and-norm">Space and norm</a></li>
<li><a href="#major-inequalities" id="toc-major-inequalities">Major inequalities</a></li>
</ul></li>
<li><a href="#bibliography" id="toc-bibliography">Bibliography</a></li>
</ul>
<!--bookdown:toc2:end-->
      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Math 114 Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:toc:end-->
<!--bookdown:body:start-->
<div id="preface" class="section level1 unnumbered hasAnchor">
<h1 class="unnumbered hasAnchor">Preface<a href="#preface" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>These notes accompany the Fall 2024 iteration of Math 114, a second-semester
undergraduate course on real analysis and measure theory. The notes
deviate quite a bit from lecture materials, in particular:</p>
<ol style="list-style-type: decimal">
<li>I prefer a more principled construction of the Lebesgue measure as the restriction of
the exterior measure using the Carathéodory theorem.
<ul>
<li>Sets declared measurable by the Carathéodory criteria are automatically
closed under <span class="math inline">\(\sigma\)</span>-algebra operations, so
one only needs to show the measurability of rectangles
to establish the measurability of the Borel sets.</li>
</ul></li>
<li>Materials are heavily supplemented by Sheldon Axler’s
<em>Measure, Integration and Real Analysis</em>.</li>
</ol>
<p>These notes are organized as follows:</p>
<ol style="list-style-type: decimal">
<li>Abstract machinery of <a href="#abstractMachinery">measures and <span class="math inline">\(\sigma\)</span>-algebra</a>.
<ul>
<li>Lieb and Loss, <em>Analysis</em> (2nd ed), chapter 1.</li>
</ul></li>
<li>The <a href="#realMeasures">exterior measure and Lebesgue measure</a> on <span class="math inline">\(\mathbb R^n\)</span>.
<ul>
<li>John K. Hunter, <a href="https://www.math.ucdavis.edu/~hunter/measure_theory/measure_notes_ch2.pdf"><em>Measure theory</em></a>
chapter 2.</li>
</ul></li>
<li><a href="#integration">Measurable functions, Lebesgue’s theory of integration, and Fubini</a>.
<ul>
<li>Rudin, <em>Principles of Real Analysis</em>, chapter 11;
Axler, chapter 2; Lieb and Loss, chapter 1.</li>
</ul></li>
<li><span class="math inline">\(L^p\)</span> spaces.
<ul>
<li>Lieb and Loss, chapter 2; Axler, chapter 7.</li>
</ul></li>
</ol>
<p>Course agenda:</p>
<ol style="list-style-type: decimal">
<li>Basic elements of measure theory: Lebesgue integration.</li>
<li><span class="math inline">\(L^p\)</span>-spaces, which are constructions which internalize Lebesgue integration.</li>
<li>Fourier analysis, Hilbert spaces.</li>
<li>Radon-Nikadym theorem and Hölder spaces, which are constructions
internalizing the RN-theorem and differentiation.</li>
</ol>
<p>Nontrivial results:</p>
<ol style="list-style-type: decimal">
<li>Monotone class theorem @ref(thm:monotoneClassTheorem):
freely-generated monotone class equals freely-generated <span class="math inline">\(\sigma\)</span>-algebra
for algebra of sets containing <span class="math inline">\(\Omega\)</span>.
<ul>
<li>Techniques for use (example theorem @ref(thm:uniqueMeasure)):
rewrite nested chain as disjoint union, then pass through the limit
using the countable additivity of measures.
Next apply the reduction from finite to <span class="math inline">\(\sigma\)</span>-finite measures.</li>
</ul></li>
<li>Carathéodory measurability theorem @ref(thm:measureConstruction):
given an outer measure <span class="math inline">\(\mu\)</span>, the measurable sets <span class="math inline">\(B\subset \Omega\)</span> satisfying
<span class="math inline">\(\mu(\forall E) = \mu(E\cap B) + \mu(E\cap B^c)\)</span> form a <span class="math inline">\(\sigma\)</span>-algebra
and obey countable additivity.</li>
</ol>
<!--chapter:end:index.Rmd-->
</div>
<div id="prelimaries" class="section level1 hasAnchor" number="1">
<h1 class="hasAnchor"><span class="header-section-number">1</span> Prelimaries<a href="#prelimaries" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section is a dump of various preliminary results for reference.
Please see the next section for the main content of the course.</p>
<div id="topology" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Topology<a href="#topology" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First recall some topological definitions:</p>
<ol start="2" style="list-style-type: decimal">
<li>The <strong>norm</strong> <span class="math inline">\(|x|\)</span> of <span class="math inline">\(x\)</span> equals <span class="math inline">\((\sum x_j^2)^{1/2}\)</span>.</li>
<li>The <strong>distance</strong> between two points is is <span class="math inline">\(|x-y|\)</span>.</li>
<li>The <strong>distance</strong> between two sets is <span class="math inline">\(d(E, F)=\inf_{x\in E, y\in F}|x-y|\)</span>.</li>
<li>A set <span class="math inline">\(E\)</span> is <strong>bounded</strong> if it is contained in some ball of finite radius.</li>
<li>A bounded set is <strong>compact</strong> if it is also closed.</li>
<li>A point <span class="math inline">\(x\)</span> is a <strong>limit point</strong> of the set
<span class="math inline">\(E\)</span> if <span class="math inline">\(\forall r&gt;0, B_r(x)\cap E\neq \emptyset\)</span>.</li>
<li><span class="math inline">\(x\in E\)</span> is <strong>isolated</strong> if <span class="math inline">\(\exists r&gt;0: B_r(x)\cap E=\{x\}\)</span>.</li>
<li><span class="math inline">\(x\in E\)</span> is an <strong>interior</strong> point if <span class="math inline">\(\exists r&gt;0: B_r(x)\subset E\)</span>; the
interior points of <span class="math inline">\(E\)</span> is denoted <span class="math inline">\(\mathrm{Int}(E)\)</span>.</li>
<li>The <strong>boundary</strong> <span class="math inline">\(\partial E = \bar E - \mathrm{Int}(E)\)</span>.</li>
<li>A closed set <span class="math inline">\(E\)</span> is <strong>perfect</strong> if it does not have any isolated points.</li>
</ol>
<div class="proposition">
<p><span id="prp:closedSubsetCompact" class="proposition"><strong>(#prp:closedSubsetCompact) </strong></span>A closed subset <span class="math inline">\(A\subset K\)</span> where <span class="math inline">\(K\)</span> is compact, is compact.</p>
</div>
<p><em>Proof:</em> <span class="math inline">\(V=K-A\)</span> is open
(if <span class="math inline">\(K\)</span> is a subset, then in the subsace topology), then
for any <span class="math inline">\(\{U_j\}\)</span> covering <span class="math inline">\(A\)</span>, <span class="math inline">\(\{U_j\}\cup \{V\}\)</span> will
cover <span class="math inline">\(K\)</span>. Choose a finite subcover and remove <span class="math inline">\(V\)</span> to obtain
a finite subcover for <span class="math inline">\(A\)</span>.</p>
<div class="proposition">
<p><span id="prp:compactHausdorffClosed" class="proposition"><strong>(#prp:compactHausdorffClosed) </strong></span>A compact subset <span class="math inline">\(K\)</span> of a Hausdorff space <span class="math inline">\(\Omega\)</span> is closed.</p>
</div>
<details>
<summary>
Proof
</summary>
We show that <span class="math inline">\(\Omega-K\)</span> is open: for each <span class="math inline">\(y\in \Omega-K\)</span>,
use Hausdorff to construct a open covering <span class="math inline">\(\{(U_x, V_x)\}_{x\in K}\)</span>
separating <span class="math inline">\(x, y\)</span> such that <span class="math inline">\(x\in U_x, y\in V_y\)</span>.
Choose a finite subset of <span class="math inline">\((U_x)_{x\in J\subsetneq K}\)</span> covering <span class="math inline">\(K\)</span>,
then <span class="math inline">\(y\in \bigcap_{x\in J} V_x \subset \Omega-K\)</span>, so <span class="math inline">\(\Omega-K\)</span> is open.
</details>
<div class="proposition">
<p><span id="prp:closedBoundedCompact" class="proposition"><strong>(#prp:closedBoundedCompact) (closed+bounded=compact) </strong></span>For <span class="math inline">\(\mathbb R^d\)</span>, a set <span class="math inline">\(A\)</span> is compact if and only if it is
closed and bounded.</p>
</div>
<details>
<summary>
Proof
</summary>
Given compactness, choose a cover by unit-cube coverings,
then <span class="math inline">\(A\subset [-R, R]^n\)</span>, which is bounded. Closure follows
from proposition @ref(prp:compactHausdorffClosed).
Conversely, given <span class="math inline">\(A\subset [-R, R]^n\)</span> and closed, it is
a closed subset of a compact set, so it is compact by proposition
@ref(prp:closedSubsetCompact)
</details>
<div class="lemma">
<p><span id="lem:compactClosedDistance" class="lemma"><strong>(#lem:compactClosedDistance) (finite distance between compact and closed sets) </strong></span>If <span class="math inline">\(F\)</span> is closed and <span class="math inline">\(K\)</span> compact, and <span class="math inline">\(F\cap K = \emptyset\)</span>, then
<span class="math inline">\(d(F, K)&gt;0\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
By <span class="math inline">\(F^c\)</span> open for each <span class="math inline">\(x\in K\)</span> choose <span class="math inline">\(B(2\delta_x, x)\subset F^c\)</span>.
Choose an finite open subcover <span class="math inline">\(\{B_{\delta_x, x}\}_{x\in [n]}\)</span> of <span class="math inline">\(K\)</span>, then
<span class="math inline">\(d(F, K) &gt; \min_{x\in [n]} \delta_x\)</span>.
</details>
<div class="proposition">
<p><span id="prp:unlabeled-div-1" class="proposition"><strong>(#prp:unlabeled-div-1) (compactness and product) </strong></span><span class="math inline">\(\Omega, Y\)</span> compact implies <span class="math inline">\(\Omega\times Y\)</span> compact.</p>
</div>
<div class="lemma">
<p><span id="lem:distanceContinuity" class="lemma"><strong>(#lem:distanceContinuity) (continuity of distance) </strong></span>Given a metric space <span class="math inline">\((\Omega, d)\)</span> and a subset <span class="math inline">\(Y\subset \Omega\)</span>,
the function <span class="math inline">\(\varphi:\Omega\to \mathbb R\)</span> defined below is continuous:
<span class="math display">\[
    \varphi(x) = \inf_{y\in Y} d(x, y)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
The preimage operation commutes with arbitrary
union and intersections, so it suffices to demonstrate this
for open intervals <span class="math inline">\(\{(0, a)\}\cup \{(b, \infty)\}\)</span>, to show that
<span class="math display">\[
    \varphi^{-1}((0, a)) = \{
        x\in \Omega: \forall \epsilon&gt;0,
        \exists y\in Y: d(x, y) &lt; a+\epsilon
    \}
\]</span>
is open, similarly for the other subbasis component. Standard
argument is omitted.
</details>
<div class="lemma">
<p><span id="lem:unlabeled-div-2" class="lemma"><strong>(#lem:unlabeled-div-2) (Lebesgue number lemma) </strong></span>Given a compact metric space <span class="math inline">\((\Omega, d)\)</span> and an open cover <span class="math inline">\((U_j)\)</span>
of <span class="math inline">\(\Omega\)</span>, there <span class="math inline">\(\exists\delta&gt;0\)</span> such that any subset of diameter <span class="math inline">\(&lt;\delta\)</span>
is entirely contained in a single open set.</p>
</div>
<details>
<summary>
Proof
</summary>
Select a finite subcover <span class="math inline">\(U_1\cup \cdots \cup U_n\)</span> of
<span class="math inline">\(\Omega\)</span>. The function
<span class="math display">\[
    f(x) = \min_j d(x, \Omega-U_j)
\]</span>
is continuous on compact interval, thus achieves its min <span class="math inline">\(\delta\)</span>.
</details>
<div class="definition">
<p><span id="def:unlabeled-div-3" class="definition"><strong>(#def:unlabeled-div-3) (connected sets) </strong></span>A space <span class="math inline">\(\Omega\)</span> is connected if any of the following equivalent conditions
are true:</p>
<ul>
<li>Every binary partition <span class="math inline">\(U\sqcup V=\Omega\)</span> of <span class="math inline">\(\Omega\)</span> is trivial: <span class="math inline">\(U\)</span> or <span class="math inline">\(V=\emptyset\)</span>
and the other <span class="math inline">\(\Omega\)</span>.</li>
<li>The only subsets which are both open and closed in <span class="math inline">\(\Omega\)</span> is <span class="math inline">\(\emptyset, \Omega\)</span>.<br />
</li>
</ul>
</div>
</div>
<div id="real-analysis" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Real analysis<a href="#real-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-4" class="definition"><strong>(#def:unlabeled-div-4) (limit inferior) </strong></span>Given a countable sequence of reals <span class="math inline">\((a_j)\)</span>, the limit inferior is
<span class="math display">\[
    \liminf_{n\to \infty} a_n = \lim_{n\to \infty} g_n, \quad
    g_n = \inf_{k\geq n} a_k
\]</span>
The counterpart <span class="math inline">\(\limsup\)</span> is defined similarly.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-5" class="definition"><strong>(#def:unlabeled-div-5) (Riemann integral) </strong></span>Fix <span class="math inline">\([a, b]\)</span> and a partition <span class="math inline">\(a=x_0\leq \cdots \leq x_n =b\)</span>,
define <span class="math inline">\(\Delta x_j = x_j - x_{j-1}\)</span> and
<span class="math display">\[\begin{align}
    M_j &amp;= \sup f([x_{j-1} \leq x\leq x_j]), \quad
    m_j = \inf f([x_{j-1} \leq x\leq x_j]) \\
    U(P, f) &amp;= \sum_{j=1}^n M_j \Delta x_j, \quad
    L(P, f) = \sum_{j=1}^n m_j \Delta x_j
\end{align}\]</span>
The upper and lower integrals are defined as
<span class="math display">\[\begin{align}
    \bar{\int}^b_a f\, d\alpha = \inf U(P, f, \alpha), \quad
    \underline{\int}^b_a f\, d\alpha = \sup L(P, f, \alpha)
\end{align}\]</span></p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-6" class="definition"><strong>(#def:unlabeled-div-6) (semi-continuity) </strong></span>A real-valued function <span class="math inline">\(f\)</span> is <strong>lower-semicontinuous</strong>
if
<span class="math display">\[
    f^{-1}((t, \infty)) \text{ is open }\forall t
\]</span>
It is <strong>upper-semicontinuous</strong> when
<span class="math inline">\(f^{-1}((-\infty, t))\)</span> is open for all <span class="math inline">\(t\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-7" class="proposition"><strong>(#prp:unlabeled-div-7) (equivalent characterization) </strong></span><span class="math inline">\(f:\Omega\to \mathbb R\)</span> is lower semi-continuous
iff any of the following holds for all <span class="math inline">\(x\)</span>:</p>
<ol style="list-style-type: decimal">
<li>Sequential characterization:
<span class="math inline">\(x_n\to x \implies f(x)\leq \liminf f(x_n)\)</span>.</li>
<li>Epsilon-delta characterization:
<span class="math inline">\(\forall \epsilon&gt;0, \exists \delta&gt;0:
f(B_\delta(x))&gt;f(x)-\epsilon\)</span>.</li>
</ol>
<p>The corresponding characterizations of lower-continuity are:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(x_n\to x \implies f(x)\)</span></li>
<li><span class="math inline">\(\forall \epsilon&gt;0, \exists \delta&gt;0:
f(B_\delta(x)) &lt; f(x)+\epsilon\)</span>.</li>
</ol>
</div>
<!--chapter:end:01-Preliminaries.Rmd-->
</div>
</div>
<div id="abstractMachinery" class="section level1 hasAnchor" number="2">
<h1 class="hasAnchor"><span class="header-section-number">2</span> Measures and σ-algebra<a href="#abstractMachinery" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section develops the abstract machinery of measures and <span class="math inline">\(\sigma\)</span>-algebras:</p>
<ol style="list-style-type: decimal">
<li><a href="#sigmaDefinition">Definitions</a> of <span class="math inline">\(\sigma\)</span>-algebra and monotone class theorem.</li>
<li><a href="#measurableSpaceFunctions">Measure spaces and measurable functions</a>:
<span class="math inline">\(\sigma\)</span>-finite measures, measures of nested intersections or unions;
sufficient conditions for measurable functions; uniqueness of <span class="math inline">\(\sigma\)</span>-finite
measures (a prime demonstration of the monotone class theorem);
product <span class="math inline">\(\sigma\)</span>-algebras and measures.</li>
<li><a href="#caratheodory">Carathéodory theorem</a>: constructing
a measure by restricting an outer measure.</li>
</ol>
<p>Key takeaways:</p>
<ol style="list-style-type: decimal">
<li>A measure space specifies the well-behaved, measurable
sets (<span class="math inline">\(\sigma\)</span>-algebra), together with a function (called measure) which assigns a measure value
to each measurable set. The key desired property of a measure is
countable additivity under disjoint unions.</li>
<li>The preimage-operation commutes with all closure operations
of the <span class="math inline">\(\sigma\)</span>-algebra.</li>
<li>Monotone class theorem @ref(thm:monotoneClassTheorem):
the monotone class freely generated by an algebra of sets is also its
freely-generated <span class="math inline">\(\sigma\)</span>-algebra.</li>
<li>The product algebra <span class="math inline">\(\Sigma_1\times \Sigma_2\)</span> is universal and satisfies
the section property (proposition @ref(prp:productSection)).</li>
<li>General method of constructing measures: restricted finite additive measure <span class="math inline">\(\to\)</span>
unrestricted countably subadditive (outer) measure <span class="math inline">\(\to\)</span>
restricted countably additive measure.</li>
<li>Measurable sets by the Carathéodory criteria
(definition @ref(def:caratheodoryCriteria)) are closed under
<span class="math inline">\(\sigma\)</span>-algebra operations.</li>
</ol>
<div id="sigmaDefinition" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">σ-algebra<a href="#sigmaDefinition" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:setAlgebra" class="definition"><strong>(#def:setAlgebra) (algebra of sets) </strong></span>A collection <span class="math inline">\(\mathcal A\)</span> of sets is an algebra
of sets if it is closed under finite union and
differences:
<span class="math display">\[
    A, B\in \mathcal A\implies A\cup B, A-B, B-A\in \mathcal A
\]</span></p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-8" class="definition"><strong>(#def:unlabeled-div-8) (σ-algebra) </strong></span>Given a set <span class="math inline">\(\Omega\)</span>, <span class="math inline">\(\Sigma\subset 2^\Omega\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(\Omega\)</span> if:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\emptyset\in \Sigma\)</span>.</li>
<li>Closure under complement: <span class="math inline">\(E\in \Sigma\implies \Omega-E\in \Sigma\)</span>.</li>
<li>Closure under countable union:
<span class="math inline">\(\{E_j\}\in \Sigma\implies \bigcup_{k=1}^\infty E_k \in \Sigma\)</span>.</li>
</ol>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-9" class="proposition"><strong>(#prp:unlabeled-div-9) (derived properties of σ-algebras) </strong></span>Given a <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\Sigma\)</span> on <span class="math inline">\(\Omega\)</span>, then</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\Omega\in \Sigma\)</span>.</li>
<li>Closure under finite union, intersection, and difference:
<span class="math display">\[
D, E\in \Sigma\implies D\cup E, D\cap E, D-E\in \Sigma
\]</span></li>
<li><span class="math inline">\(E_1, \cdots\in \Sigma\implies \bigcap_{k=1}^\infty E_k \in \Sigma\)</span></li>
</ol>
</div>
<p><em>Proof:</em> (1) follows from <span class="math inline">\(\Omega=\Omega-\emptyset\)</span>.
(2) follows from <span class="math inline">\(D\cap E = (\Omega-D)\cup (\Omega_E)\)</span> and <span class="math inline">\(D-E=(D\cap E)\cup E\)</span>.
(3) follows from <span class="math inline">\(\bigcap_{k=1}^\infty E_k = \Omega - \bigcup_{k=1}^\infty (\Omega-E_k)\)</span>.</p>
<details>
<summary>
Examples and remark
</summary>
<div class="example">
<p><span id="exm:unlabeled-div-10" class="example"><strong>(#exm:unlabeled-div-10) </strong></span>Given any set <span class="math inline">\(\Omega\)</span>, both <span class="math inline">\(\{\emptyset, \Omega\}\)</span> and <span class="math inline">\(2^\Omega\)</span> are <span class="math inline">\(\sigma\)</span>-algebras
on <span class="math inline">\(\Omega\)</span>. The set of all subsets <span class="math inline">\(E\)</span> such that <span class="math inline">\(E\)</span>
is countable or <span class="math inline">\(\Omega-E\)</span> countable is a <span class="math inline">\(\sigma\)</span>-algebra (countable
union of countable set is countable, else if one element’s complement
is countable, then the union’s complement is countable, too).</p>
</div>
<div class="remark">
<p><span id="unlabeled-div-11" class="remark"><em>Remark</em>. </span>A <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(\Omega\)</span> is a subset of <span class="math inline">\(2^\Omega\)</span> that contains <span class="math inline">\(\emptyset\)</span>
and is closed under countable union. Compare to a topology on <span class="math inline">\(\Omega\)</span>, which
is a subset of <span class="math inline">\(2^\Omega\)</span> that contains <span class="math inline">\(\emptyset, \Omega\)</span>, and is closed under
arbitrary unions and finite intersections.</p>
</div>
</details>
<div class="definition">
<p><span id="def:unlabeled-div-12" class="definition"><strong>(#def:unlabeled-div-12) (measurable space, measurable set) </strong></span>A measurable space is a pair <span class="math inline">\((\Omega, \Sigma)\)</span> where <span class="math inline">\(\Sigma\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra
on <span class="math inline">\(\Omega\)</span>.
A subset <span class="math inline">\(S\subset \Omega\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable iff <span class="math inline">\(S\in \Sigma\)</span>.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-13" class="definition"><strong>(#def:unlabeled-div-13) (freely generated σ-algebra) </strong></span>Given a set <span class="math inline">\(\Omega\)</span> and <span class="math inline">\(\mathcal A\subset 2^\Omega\)</span>, the intersection
of all <span class="math inline">\(\sigma\)</span>-algebras <span class="math inline">\(\Sigma\)</span> on <span class="math inline">\(\Omega\)</span> such that
<span class="math inline">\(\mathcal A\subset \Sigma\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra on <span class="math inline">\(\Omega\)</span>.</p>
<p>In other words, every subset <span class="math inline">\(A\subset 2^\Omega\)</span> freely generates
a <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\sigma_{\mathrm{Alg}}(A)\)</span> on <span class="math inline">\(\Omega\)</span>.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-14" class="definition"><strong>(#def:unlabeled-div-14) (monotone class) </strong></span>A monotone class <span class="math inline">\(\mathcal M\)</span> is a set of sets with the following
properties:
<span class="math display">\[\begin{align}
    A_1, \cdots \in \mathcal M, \quad A_j\nearrow A &amp;\implies A\in \mathcal M \\
    A_1, \cdots \in \mathcal M, \quad A_j\searrow A &amp;\implies A\in \mathcal M
\end{align}\]</span></p>
</div>
<div class="theorem">
<p><span id="thm:monotoneClassTheorem" class="theorem"><strong>(#thm:monotoneClassTheorem) (monotone class theorem) </strong></span>Given a set <span class="math inline">\(\Omega\)</span> and an algebra (definition @ref(def:setAlgebra)) <span class="math inline">\(\mathcal A\)</span>
of subsets of <span class="math inline">\(\Omega\)</span> such that <span class="math inline">\(\Omega, \emptyset\in \mathcal A\)</span>.
The smallest monotone class <span class="math inline">\(\mathcal M\supset \mathcal A\)</span> is <span class="math inline">\(\sigma_{\mathrm{Alg}}(\mathcal A)\)</span>.</p>
</div>
<span style="color:green">
Proof idea: every <span class="math inline">\(\sigma\)</span>-algebra is trivially a monotone class.
Monotone class and closure under finite union and complement implies <span class="math inline">\(\sigma\)</span>-algebra.
Show that <span class="math inline">\(\mathcal M\)</span> is closed under finite union and complements.
</span>
<details>
<summary>
Proof
</summary>
If a monotone class <span class="math inline">\(\mathcal M\supset \mathcal A\)</span>
is closed under complement and finite unions,
then for any <span class="math inline">\(A_1, \cdots\in \mathcal A\)</span>, the sequence of partial unions
approaches the countable union in limit:
<span class="math display">\[
    \left(B_j = \bigcup_{k=1}^j A_j \in \mathcal M\right) \nearrow
    \bigcup_{j=1}^\infty A_j \in \mathcal M
\]</span>
Together with complements, this shows that that
<span class="math inline">\(\mathcal M\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra. To show that <span class="math inline">\(\mathcal M\)</span>
is indeed closed under complement and finite union, argue for
every set <span class="math inline">\(A\in \mathcal M\)</span> that the set <span class="math inline">\(C(A)\)</span> of all sets which
stay within <span class="math inline">\(\mathcal M\)</span> under union is a
monotone class:
<span class="math display">\[
    A\cup \bigcup_{j=1}^\infty B_j = \bigcup_{j=1}^\infty A\cup B \in \mathcal M
\]</span>
By the algebraic property of <span class="math inline">\(\mathcal A\)</span> we have
<span class="math inline">\(\mathcal A\subset C(A) =\mathcal M\)</span> (this step requires the minimality of <span class="math inline">\(\mathcal M\)</span>!).
This shows that <span class="math inline">\(\mathcal M\)</span> is
closed under complement and finite union,
hence is a <span class="math inline">\(\Sigma\)</span>-algebra.
</details>
<div class="corollary">
<p><span id="cor:unlabeled-div-15" class="corollary"><strong>(#cor:unlabeled-div-15) </strong></span>Given an algebra of sets, its freely generated monotone class
(smallest monotone class containing it) is also its freely generated
<span class="math inline">\(\sigma\)</span>-algebra.</p>
</div>
</div>
<div id="measurableSpaceFunctions" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Measure spaces, measurable functions<a href="#measurableSpaceFunctions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-16" class="definition"><strong>(#def:unlabeled-div-16) (measure, measure space) </strong></span>Given a measurable space <span class="math inline">\((\Omega, \Sigma)\)</span>, a
measure on <span class="math inline">\((\Omega, \Sigma)\)</span> is a function
<span class="math inline">\(\mu:\Sigma\to [0, \infty]\)</span> with
<span class="math display">\[
    \mu \left(\bigsqcup_{k=1}^\infty E_k\right)
    = \sum_{k=1}^\infty \mu(E_k), \quad \mu(\emptyset) = 0
\]</span>
for every disjoint sequence <span class="math inline">\(\{E_j\} \in \Sigma\)</span>.
A measure space is an ordered triple <span class="math inline">\((\Omega, \Sigma, \mu)\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-17" class="proposition"><strong>(#prp:unlabeled-div-17) (elementary properties of measures) </strong></span>Given a measure space <span class="math inline">\((\Omega, \Sigma, \mu)\)</span> and <span class="math inline">\(D\subset E\in \Sigma\)</span>:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(\mu(D) \leq \mu(E)\)</span>.</li>
<li><span class="math inline">\(\mu(E - D) = \mu(E) - \mu(D)\)</span>.</li>
</ol>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-18" class="proposition"><strong>(#prp:unlabeled-div-18) (measure of nested union) </strong></span>Under a measure space <span class="math inline">\((\Omega, \Sigma, \mu)\)</span> with a nested
chain <span class="math inline">\(E_1\subset E_2\subset \cdots\)</span>, we have
<span class="math inline">\(\mu \bigcup_{j=1}^\infty E_j = \lim_{j\to \infty} \mu(E_j)\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
Only consider the case <span class="math inline">\(\mu(E_k) &lt; \infty\)</span>
and define <span class="math inline">\(E_0=\emptyset\)</span>, then
<span class="math inline">\(\bigcup_{j=1}^\infty E_j = \bigsqcup_{j=1}^\infty E_j - E_{j-1}\)</span>.
Using the disjoint union additivity
<span class="math display">\[\begin{align}
    \bigcup_{j=1}^\infty E_j
    &amp;= \sum_{j=1}^\infty \mu(E_j - E_{j-1})
    = \lim_{k\to \infty} \sum_{j=1}^k \mu(E_j) - \mu(E_{j-1})
    = \lim_{k\to \infty} \mu(E_k)
\end{align}\]</span>
The dual of the proposition above leads to the following:
</details>
<div class="corollary">
<p><span id="cor:unlabeled-div-19" class="corollary"><strong>(#cor:unlabeled-div-19) (measure of nested intersection) </strong></span>Under a measure space <span class="math inline">\((\Omega, \Sigma, \mu)\)</span> with a nested
chain <span class="math inline">\(E_1\supset E_2\supset \cdots\)</span>, we have
<span class="math inline">\(\mu \bigcap_{j=1}^\infty E_j = \lim_{j\to \infty} \mu(E_j)\)</span>.</p>
</div>
<div class="definition">
<p><span id="def:finiteMeasure" class="definition"><strong>(#def:finiteMeasure) (finite and σ-finite measures) </strong></span>A measure space <span class="math inline">\((\Omega, \Sigma, \mu)\)</span> is <span class="math inline">\(\sigma\)</span>-finite
if there are countably many sets <span class="math inline">\(A_1, \cdots\)</span> such that
<span class="math display">\[
    \mu(A_{\forall j}) &lt; \infty, \quad \Omega = \bigcup_j A_j
\]</span>
with <span class="math inline">\(\sigma\)</span>-finiteness, w.l.o.g. we can prove <span class="math inline">\(A_j\)</span> to be disjoint.
The measure space is finite if <span class="math inline">\(\mu(\Omega)&lt;\infty\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-20" class="proposition"><strong>(#prp:unlabeled-div-20) (composition preserves measurability) </strong></span>Given measurable <span class="math inline">\(f:(\Omega, \Sigma)\to \mathbb R^n\)</span> and <span class="math inline">\(g:\mathbb R^n\to \mathbb R^m\)</span>
measurable, then <span class="math inline">\(g\circ f\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable.</p>
</div>
<p>We next prove a convenient criteria for proving measurability.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-21" class="proposition"><strong>(#prp:unlabeled-div-21) (algebra of function preimages) </strong></span>The inverse image operation commutes with elementary algebraic operations:
given <span class="math inline">\(f:\Omega\to Y\)</span>, then</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(f^{-1}(Y-A) = \Omega - f^{-1}(A)\)</span>.</li>
<li><span class="math inline">\(f^{-1}(\bigcup_{A\in \mathcal A} A) = \bigcup_{A\in \mathcal A} f^{-1}(A)\)</span>.</li>
<li><span class="math inline">\(f^{-1}(\bigcap_{A\in \mathcal A} A) = \bigcap_{A\in \mathcal A} f^{-1}(A)\)</span>.</li>
</ol>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-22" class="proposition"><strong>(#prp:unlabeled-div-22) (condition for measurable function) </strong></span>Given measurable spaces <span class="math inline">\((\Omega_1, \Sigma_1), (\Omega_2, \Sigma_2)\)</span>,
such that <span class="math inline">\(\Sigma_2 = \sigma_{\mathrm{Alg}}(\mathcal A)\)</span>.
For every function <span class="math inline">\(f:\Omega_1\to \Omega_2\)</span>
<span class="math display">\[
    f^{-1}(\forall A\in \mathcal A) \in \Sigma_1 \implies
    f \quad \Sigma_1\text{-measurable}.
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
<p>Consider the subsets
whose preimage are measurable
<span class="math display">\[  
    \mathcal T = \{B\in \Sigma_2 | f^{-1}(B)\in \Sigma_1\} \supset \mathcal A
\]</span>
It suffices to show that <span class="math inline">\(\Sigma_2 \subset \mathcal T\)</span>.
To do so, we show that <span class="math inline">\(\mathcal T\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra
by the well-behavior of set operations under preimage:</p>
<ul>
<li><span class="math inline">\(\emptyset = f^{-1}(\emptyset) = \emptyset \in \Sigma_1,
  f^{-1}(\Omega_2) = \Omega_1\in \Sigma_1\)</span>.</li>
<li>For complement: given <span class="math inline">\(B\in \mathcal T: f^{-1}(\Omega_2-B) = \Omega_1-f^{-1}(B) \in \Sigma_1\)</span>.</li>
<li>For countable union:
<span class="math inline">\(\displaystyle f^{-1}\bigcup B_j = \bigcup f^{-1}B_j \in \Sigma_1\)</span>.</li>
</ul>
The algebra of preimage commutes with all elementary set operations.
</details>
<div class="theorem">
<p><span id="thm:uniqueMeasure" class="theorem"><strong>(#thm:uniqueMeasure) (uniqueness of measures) </strong></span>Given <span class="math inline">\(\Omega\)</span> and <span class="math inline">\(\Sigma = \sigma_{\mathrm{Alg}}(\mathcal A)\)</span>, where <span class="math inline">\(\mathcal A\)</span>
is a set algebra with <span class="math inline">\(\Omega, \emptyset \in \mathcal A\)</span>.
If <span class="math inline">\(\mu_1\)</span> is a <span class="math inline">\(\sigma\)</span>-finite measure in the stronger sense such that
<span class="math display">\[
    \exists \{A_j\in \mathcal A\}_{i=1}^\infty, \quad \mu_1(A_j)&lt;\infty, \quad
    \bigcup_{j=1}^\infty A_j=\Omega
\]</span>
Then every <span class="math inline">\(\mu_2\)</span> which coincides with <span class="math inline">\(\mu_1\)</span> on <span class="math inline">\(\mathcal A\)</span>
satisfies <span class="math inline">\(\mu_1=\mu_2\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
First assume that <span class="math inline">\(\mu_1(\Omega)&lt;\infty\)</span>. Consider
<span class="math display">\[
    \mathcal M = \{A\in \Sigma: \mu_1(A) = \mu_2(A)\} \supset \mathcal A
\]</span> If this is shown to be a monotone class, then <span class="math inline">\(\Sigma\subseteq \mathcal M\)</span>
(in fact it’s equality by <span class="math inline">\(A\in \Sigma\)</span> condition). Given an
increasing sequence of sets <span class="math inline">\(A_j\subset \mathcal M\)</span>, construct
<span class="math inline">\(B_1 = A_1, B_{j&gt;1} = A_j - A_{j-1}\)</span>, then
<span class="math display">\[
    \mu_1(A_{n\to \infty})
    = \mu_1 \bigsqcup_{j=1}^{n\to \infty} B_j
    = \lim_{n\to \infty} \sum_{j=1}^n \mu_1(B_j)
    = \lim_{n\to \infty} \mu_1(A_n) = \lim_{n\to \infty} \mu_2(A_n)
    = \mu_2(A_{n\to \infty})
\]</span>
Additionally, <span class="math inline">\(A\in \mathcal A\implies A^c\in \mathcal M\)</span> since <span class="math inline">\(\mu_j(A^c) = \mu_j(\Omega)-\mu_j(A)\)</span>
by <span class="math inline">\(\mu_j\)</span> finite, from which <span class="math inline">\(\mathcal M\)</span> is a monotone class.
Next, for general <span class="math inline">\(\sigma\)</span>-finite measures, <span class="math inline">\(\mu_1(B\cap A_0) = \mu_2(B\cap A_0)\)</span> for every
<span class="math inline">\(\mu(A_0)&lt;\infty\)</span> and <span class="math inline">\(B\in \Sigma\)</span> since <span class="math inline">\(A_0\cap \Sigma = \sigma_{\mathrm{Alg}}(A_0 \cap \mathcal A)\)</span>.
By <span class="math inline">\(\sigma\)</span>-finite assumption choose <span class="math inline">\(\Omega = \bigsqcup A_j\)</span> each with finite measure, then
<span class="math display">\[
    \mu_1(B\in \Sigma) = \mu_1 \bigsqcup_{j=1}^\infty A_j\cap B
    = \sum_{j=1}^\infty \mu_1(A_j\cap B)
    = \sum_{j=1}^\infty \mu_2(A_j\cap B) = \mu_2(B)
\]</span>
</details>
<div class="definition">
<p><span id="def:productSigmaAlg" class="definition"><strong>(#def:productSigmaAlg) (product σ-algebra) </strong></span>The product <span class="math inline">\(\sigma\)</span>-algebra is the smallest
<span class="math inline">\(\sigma\)</span>-algebra containing all rectangles.
<span class="math display">\[
    \Sigma = \sigma_{\mathrm{Alg}}(\Sigma_1\times \Sigma_2)
    = \sigma_{\mathrm{Alg}}\left(\{
        A_1\times A_2 | A_1\in \Sigma_1, A_2\in \Sigma_2
    \}\right)
\]</span>
where here <span class="math inline">\(\Sigma_1\times \Sigma_2\)</span> denotes the Cartesian
product of sets. The product measure <span class="math inline">\(\mu = \mu_1\times \mu_2\)</span> is</p>
</div>
<div class="proposition">
<p><span id="prp:productSection" class="proposition"><strong>(#prp:productSection) (section property of product algebra) </strong></span>The product <span class="math inline">\(\sigma\)</span>-algebra <span class="math inline">\(\Sigma = \Sigma_1\times \Sigma_2\)</span>
has the <u>section property</u>: <span class="math inline">\(\forall A\in \Sigma\)</span>, define
<span class="math display">\[
    A_1(x_2)\in \Omega_1 = \{x_1\in \Omega_1: (x_1, x_2)\in A\}
\]</span>
then <span class="math inline">\(A_1(x_2)\in \Sigma_1\)</span> for every choice of <span class="math inline">\(x_2\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
The set <span class="math inline">\(\Sigma&#39;\)</span> of all subsets of <span class="math inline">\(\Omega_1\times \Omega_2\)</span>
(regarded as Cartesian product of sets)
satisfying the section property is a <span class="math inline">\(\sigma\)</span>-algebra containing
<span class="math inline">\(\Sigma_1\times \Sigma_2\)</span>; the proof concludes by the universal
property of <span class="math inline">\(\Sigma_1\times \Sigma_2\)</span>.
</details>
<div class="definition">
<p><span id="def:unlabeled-div-23" class="definition"><strong>(#def:unlabeled-div-23) (product measures) </strong></span>The product of two measure spaces is
<span class="math display">\[
    (\Omega_1\times \Omega_2, \Sigma_1\times \Sigma_2, \mu_1\times \mu_2)
    = (\Omega_1, \Sigma_1, \mu_1)\times (\Omega_2, \Sigma_2, \mu_2)
\]</span>
where <span class="math inline">\(\Omega_1\times \Omega_2\)</span> is the Cartesian product of sets,
<span class="math inline">\(\Sigma_1\times \Sigma_2\)</span> is the <span class="math inline">\(\sigma\)</span>-algebra product
@ref(def:productSigmaAlg),
and <span class="math inline">\(\mu_1\times \mu_2\)</span> is uniquely
defined by the requirement
<span class="math display">\[
    \mu(A_1\times A_2) = \mu_1(A_1) \mu_2(A_2)
\]</span>
The exact definition and uniqueness of the
product measure is postponed to
theorem @ref(thm:productMeasure).</p>
</div>
</div>
<div id="caratheodory" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Carathéodory theorem<a href="#caratheodory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:defOuterMeasure" class="definition"><strong>(#def:defOuterMeasure) (outer measure) </strong></span>Given a set <span class="math inline">\(\Omega\)</span>, a function <span class="math inline">\(\mu:2^\Omega\to \mathbb R_{\geq 0}\)</span>
is an outer measure if it satisfies:</p>
<ol style="list-style-type: decimal">
<li><u>non-negativity</u>: <span class="math inline">\(\mu(\emptyset) = 0\)</span>.</li>
<li><u>monotonicity</u>: <span class="math inline">\(A\subset B\implies \mu(A) \leq \mu(B)\)</span>.</li>
<li><u>countable sub-additivity</u>: for any countable collection of
subsets <span class="math inline">\(A_j\subset \Omega\)</span>:
<span class="math display">\[
     \mu \bigcup_{j=1}^\infty A_j \leq \sum_{j=1}^\infty \mu(A_j)
\]</span></li>
</ol>
</div>
<div class="definition">
<p><span id="def:caratheodoryCriteria" class="definition"><strong>(#def:caratheodoryCriteria) (Carathéodory criteria) </strong></span>Given an outer measure <span class="math inline">\(\mu:2^\Omega\to \mathbb R_{\geq 0}\)</span>,
a set <span class="math inline">\(S\subset \Omega\)</span> satisfies the Carathéodory criteria (for measurability)
if
<span class="math display">\[
    \mu(\forall E) = \mu(E\cap A) + \mu(E\cap A^c)
\]</span>
The set <span class="math inline">\(S\)</span> is also said to be measurable (by the Carathéodory criteria).</p>
</div>
<div class="lemma">
<p><span id="lem:caratheodorySetAlgebra" class="lemma"><strong>(#lem:caratheodorySetAlgebra) (measurable sets form a set-algebra) </strong></span>The set <span class="math inline">\(\Sigma\subset 2^\Omega\)</span> of measurable sets is an algebra of sets
that contains <span class="math inline">\(\emptyset, \Omega\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
We have <span class="math inline">\(\emptyset, \Omega \in \Sigma\)</span>
by definition @ref(def:caratheodoryCriteria) immediately.
To show that <span class="math inline">\(\Sigma\)</span> is closed under countable intersection:
given <span class="math inline">\(A, B\in \Sigma\)</span>, applying the given condition on <span class="math inline">\((E, A), (\cdot, B)\)</span> yields<br />
<span class="math display">\[\begin{align}
    \mu(E)
    &amp;= \mu(E\cap A) + \mu(E\cap A^c)  \\
    &amp;= \mu(E\cap A\cap B) + \mu(E\cap A\cap B^c) + \mu(E\cap A^c\cap B)
    + \mu(E\cap A^c \cap B^c)
\end{align}\]</span>
We wish to show that the RHS equals
<span class="math inline">\(\mu(E\cap A\cap B) + \mu(E\cap (A\cap B)^c)\)</span>.
To this end, note that (using addition in place of union to reduce clutter):
<span class="math display">\[\begin{align}
    (A\cap B)^c &amp;= A^c\cap B + A\cap B^c + A^c\cap B^c \\
    \mu(E\cap (A\cap B)^c) &amp;= \mu(E\cap (A\cap B)^c\cap A) +
    \mu(E\cap (A\cap B)^c \cap A^c) \\
    &amp;= \mu(E\cap A\cap B^c) + \mu(E\cap A^c\cap B + E\cap A^c\cap B^c) \\
    &amp;= \mu(E\cap A\cap B^c) + \mu(E\cap A^c\cap B) + \mu(E\cap A^c\cap B^c) \\
\end{align}\]</span>
</details>
<p>The following lemmas each depend on the previous one and culminates in the
Carathéodory theorem.</p>
<div class="lemma">
<p><span id="lem:unlabeled-div-24" class="lemma"><strong>(#lem:unlabeled-div-24) (countable additivity on measurable sets) </strong></span>Given disjoint sets <span class="math inline">\(B_1, \cdots \in \Sigma\)</span>:
<span class="math display">\[
    \mu \left(
        E\cap \bigsqcup_{j=1}^\infty B_j
    \right) = \sum_{j=1}^\infty \mu(E\cap B_j)
\]</span>
In particular, <span class="math inline">\(\mu\)</span> is countable additive on <span class="math inline">\(\Sigma\)</span> by setting <span class="math inline">\(E=\Omega\)</span>:
<span class="math display">\[
    \mu \bigsqcup_{j=1}^\infty (B_j\in \Sigma) = \sum_{j=1}^\infty \mu(B_j)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
For disjoint <span class="math inline">\(B_1, B_2\in \Sigma\)</span>, applying
definition @ref(def:caratheodoryCriteria) yields
<span class="math inline">\(\mu(B_1\sqcup B_2) = \mu(B_1) + \mu(B_2)\)</span>; finite additivity follows by induction.
In particular, this implies the following limit
since it holds for each <span class="math inline">\(m\)</span>
<span class="math display">\[
    \lim_{m\to \infty} \mu\left(
        E\cap \bigsqcup_{j=1}^m B_j
    \right)
    = \sum_{j=1}^\infty \mu(E\cap B_j)
    (\#eq:caratheodoryLimit)
\]</span>
We next show countable additivity: given disjoint <span class="math inline">\(B_1, \cdots\)</span>
<span class="math display">\[
    \lim_{m\to \infty} \mu\left(
        E\cap \bigsqcup_{j=1}^m B_j
    \right) \leq \mu \left(
        E\cap \bigsqcup_{j=1}^\infty B_j
    \right) = \mu \left(\bigsqcup_{j=1}^\infty E\cap B_j\right)
    \leq \sum_{j=1}^\infty \mu(E\cap B_j)
\]</span>
But the LHS and RHS are exactly those of equation @ref(eq:caratheodoryLimit), so
we obtain the equality by sandwich-ing
<span class="math display">\[
    \mu \left(
        E\cap \bigsqcup_{j=1}^\infty B_j
    \right) = \sum_{j=1}^\infty \mu(E\cap B_j)
\]</span>
</details>
<div class="lemma">
<p><span id="lem:unlabeled-div-25" class="lemma"><strong>(#lem:unlabeled-div-25) (Carathéodory-measurable sets form a sigma-algebra) </strong></span><span class="math inline">\(\Sigma\)</span> is a <span class="math inline">\(\sigma\)</span>-algebra; equivalently
in light of lemma @ref(lem:caratheodorySetAlgebra),
<span class="math display">\[
    B_{\forall j}\in \Sigma\implies \bigcup_{j=1}^\infty B_j \in \Sigma
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
Without loss of generality assume <span class="math inline">\(B_j\)</span> distinct.
One direction follows from countable subadditivity:
<span class="math display">\[
    \mu(E) = \mu((E\cap B)\cup (E\cap B^c)) \leq \mu(E\cap B) + \mu(E\cap B^c)
\]</span>
For the other direction, the following equation holds for each <span class="math inline">\(m\)</span> thus in limit
<span class="math display">\[
    \mu_E = \lim_{m\to \infty} \mu\left(E\cap \bigcup_{j=1}^m B_j \right) + \mu \left[
        E\cap \left(\bigcup_{j=1}^m B_j\right)^c
    \right]
    (\#eq:caratheodoryuni)
\]</span>
The limit of the first term is known to be <span class="math inline">\(\mu(E\cap B)\)</span>, the second term
<span class="math display">\[
    \mu \left[
        E\cap \left(\bigcup_{j=1}^m B_j\right)^c
    \right] \geq \mu(E\cap B^c)
\]</span>
by subadditivity; substituting into equation @ref(eq:caratheodoryuni)
completes the proof.
<span class="math display">\[
    \mu_E \geq \mu\left(E\cap \bigcup_{j=1}^\infty B_j \right) + \mu \left[
        E\cap \left(\bigcup_{j=1}^\infty B_j\right)^c
    \right]
\]</span>
</details>
<div class="theorem">
<p><span id="thm:measureConstruction" class="theorem"><strong>(#thm:measureConstruction) (Carathéodory theorem) </strong></span>Given an outer measure <span class="math inline">\(\mu:2^\Omega\to \mathbb R_{\geq 0}\)</span>:</p>
<ol style="list-style-type: decimal">
<li>The collection <span class="math inline">\(\Sigma\subset 2^\Omega\)</span> of subsets
satisfying Carathéodory’s criterion is a <span class="math inline">\(\sigma\)</span>-algebra,</li>
<li><span class="math inline">\(\mu:\Sigma\to \mathbb R_{\geq 0}\)</span> is a countably additive measure on <span class="math inline">\(\Sigma\)</span>.</li>
</ol>
</div>
<!--chapter:end:02-Measure.Rmd-->
</div>
</div>
<div id="realMeasures" class="section level1 hasAnchor" number="3">
<h1 class="hasAnchor"><span class="header-section-number">3</span> Measure on <span class="math inline">\(\mathbb R^n\)</span><a href="#realMeasures" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section establishes the base case of the Lebesgue
measure on <span class="math inline">\(\mathbb R^n\)</span>:</p>
<ol style="list-style-type: decimal">
<li><a href="#extMeasure">Exterior measure</a>: foundational properties of the exterior
measure and interaction with rectangles.</li>
<li><a href="#lebMeasure">Lebesgue measure and Borel regularity</a>:
definition and relation with Borel sets,
characterization of measurable sets, example of a non-measurable set.</li>
<li><a href="#realMeasurableFunctions">Measurable functions</a>: .</li>
</ol>
<p>Key takeaways:</p>
<ol style="list-style-type: decimal">
<li>The exterior measure is the natural outer-measure extension of rectangle volume that
satisfies <em>monotonicity</em>, <em>countable subadditivity</em>,
and agrees with our initial definition.</li>
<li>The Lebesgue measure is the Carathéodory restriction of the exterior measure.</li>
<li>Rectangles are measurable (proposition @ref(prp:rectangleMeasurable)),
so Borel sets are measurable since they
are freely-generated by rectangles.</li>
<li>The exterior measure (rectangle cover infimum)
is equivalent to open cover infimum, and on measurable sets equivalent
to compact subset supremum.</li>
<li>A set is measurable iff
<ul>
<li>it can be upper-approximated by an open cover
or lower-approximated by a closed subset up to arbitrarily small but
finite measure @ref(thm:squeezeMeasurable).</li>
<li>it can be approximated by a Borel set up
to zero measure @ref(thm:borelApprox).</li>
</ul></li>
</ol>
<div id="extMeasure" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Rectangles, exterior measure<a href="#extMeasure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-26" class="definition"><strong>(#def:unlabeled-div-26) (exterior measure) </strong></span>The exterior measure <span class="math inline">\(\mu_*(E)\)</span> of any subset <span class="math inline">\(E\subset \mathbb R^n\)</span> is
<span class="math display">\[
    \mu_*(E) = \inf \sum_{j=1}^\infty |R_j|
\]</span>
where the <span class="math inline">\(\inf\)</span> is over all countable coverings of <span class="math inline">\(E\)</span> by
closed rectangles, the measure of a closed rectangle
<span class="math inline">\(R_j = \prod_{j=1}^n [a_j, b_j]\)</span> is <span class="math inline">\(|Q_j| = \prod_{j=1}^n (b_j - a_j)\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-27" class="proposition"><strong>(#prp:unlabeled-div-27) </strong></span>The exterior is an outer measure per definition @ref(def:defOuterMeasure).</p>
<ul>
<li><span class="math inline">\(E_1\subset E_2\implies \mu_*(E_1)\leq \mu_*(E_2)\)</span>.</li>
<li><span class="math inline">\(E=\bigcup_{j=1}^\infty E_j\implies \mu_*(E)\leq \sum_{j=1}^\infty \mu_*(E_j)\)</span>.</li>
</ul>
</div>
<details>
<summary>
Proof
</summary>
To prove monotonicity, every covering of <span class="math inline">\(E_2\)</span> by a countable set of cubes
is also a covering of <span class="math inline">\(E_1\)</span>.
For countable subadditivity, the main idea is to construct increasingly
tight covers such that the countable union of
these covers is still finitely tight.
Assume the nontrivial case <span class="math inline">\(\mu_*(E_j)&lt;\infty\)</span>.
For every <span class="math inline">\(\epsilon&gt;0\)</span>, we can construct for each <span class="math inline">\(j\)</span> a covering
<span class="math display">\[
    E_j\subset \bigcup_{k=1}^\infty R_{k, j}, \quad
    \sum_{k=1}^\infty |R_{k, j}| \leq \mu_*(E_j) + \dfrac{\epsilon}{2^j}
\]</span>
The increasingly tight bound ensures that
<span class="math display">\[\begin{align}
    \mu_*(E)
    &amp;\leq \sum_{j, k}|R_{k, j}| \leq \sum_{j=1}^\infty \mu_*(E_j) + \dfrac\epsilon {2^j}
    = \sum_{j=1}^\infty \mu_*(E_j)+\epsilon
\end{align}\]</span>
</details>
<div class="proposition">
<p><span id="prp:openCoverInfimum" class="proposition"><strong>(#prp:openCoverInfimum) (equivalence with open cover infimum) </strong></span>Given <span class="math inline">\(E\subset \mathbb R^n\)</span>, <span class="math inline">\(\mu_*(E)=\inf \mu_*(\mathcal O)\)</span>, where <span class="math inline">\(\inf\)</span> is
over all open sets <span class="math inline">\(\mathcal O\)</span> covering <span class="math inline">\(E\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
<span class="math inline">\(\mu_*(E)\leq \inf \mu_*(\mathcal O)\)</span> holds by monotonicity.
For the other direction, choose cubes <span class="math inline">\(R_j\)</span> covering <span class="math inline">\(E\)</span>
with margin <span class="math inline">\(\epsilon/2\)</span>, and for each cube choose open cube
<span class="math inline">\(O_j\)</span> covering <span class="math inline">\(R_j\)</span> with margin <span class="math inline">\(\epsilon/2^{j+1}\)</span>, then <span class="math inline">\((O_j)\)</span>
cover <span class="math inline">\(E\)</span> with margin <span class="math inline">\(\epsilon\)</span>.
</details>
<p>Given a countable set <span class="math inline">\(R_j\)</span> of disjoint rectangles, it is
intuitive (and easy to show that)
<span class="math display">\[
    \mu_*\bigsqcup_{j=1}^\infty R_j = \sum_{j=1}^\infty \mu_*(R_j)
\]</span>
This is our base case for establishing measurability later on.</p>
<p>The following proposition is the main reason why we chose closed
rectangles (instead of open, though they are effectively the same)
as the basic measurable sets.</p>
<div class="proposition">
<p><span id="prp:finiteDistanceAdditivity" class="proposition"><strong>(#prp:finiteDistanceAdditivity) (additivity with finite distance) </strong></span>If <span class="math inline">\(E=E_1\cup E_2\)</span> and <span class="math inline">\(d(E_1, E_2)&gt;0\)</span>, then
<span class="math display">\[
    \mu_*(E) = \mu_*(E_1)+\mu_*(E_2)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
By subadditivity, <span class="math inline">\(\mu_*(E)\leq \mu_*(E_1)+\mu_*(E_2)\)</span>.
To show the converse, select <span class="math inline">\(0&lt;\delta &lt; d(E_1, E_2)\)</span> and
choose a cover <span class="math inline">\((Q_j)\)</span> of <span class="math inline">\(E\)</span> by closed cubes with margin <span class="math inline">\(\epsilon\)</span>.
Subdivide <span class="math inline">\((Q_j)\)</span> so that each has size less than <span class="math inline">\(\delta\)</span>, so
that each cube intersects at most one of <span class="math inline">\(E_1, E_2\)</span>. Denote by
<span class="math inline">\(J_1, J_2\)</span> the indices for which <span class="math inline">\(Q_j\)</span> intersects <span class="math inline">\(E_1, E_2\)</span>, then
<span class="math inline">\(E_1, E_2\)</span> are covered by <span class="math inline">\(Q_{J_1}, Q_{J_2}\)</span> respectively.
</details>
<div class="corollary">
<p><span id="cor:almostDisjointAdditivity" class="corollary"><strong>(#cor:almostDisjointAdditivity) (additivity of almost-disjoint rectangles) </strong></span>The exterior measure is additive on
countable collections of almost-disjoint rectangles <span class="math inline">\(R_j\in \mathbb R^d\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
Give <span class="math inline">\(\epsilon&gt;0\)</span>, shrink rectangle <span class="math inline">\(j\)</span> by <span class="math inline">\(\epsilon/2^j\)</span> so they
are closed sets with finite distance, then invoke additivity through
proposition @ref(prp:finiteDistanceAdditivity).
</details>
<div class="proposition">
<p><span id="prp:rectangleMeasurable" class="proposition"><strong>(#prp:rectangleMeasurable) (Carathéodory criteria for rectangles) </strong></span>Given a rectangle <span class="math inline">\(\subset \mathbb R^n\)</span>,
<span class="math display">\[
    \mu_*(\forall E\subset \mathbb R^n) = \mu_*(E\cap R)+ \mu_*(E\cap R^c)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
To prove the nontrivial direction
<span class="math inline">\(\mu_*(E\cap R)+ \mu_*(E\cap R^c)\leq \mu_*(\forall E\subset \mathbb R^n)\)</span>,
choose an <span class="math inline">\(\epsilon\)</span>-cover <span class="math inline">\(R_j\)</span> of <span class="math inline">\(E\)</span>, then
rectang-ify <span class="math inline">\(R_j\)</span> into <span class="math inline">\(R^1_j, R^2_j\)</span> covering
<span class="math inline">\(E\cap R, E\cap R^c\)</span> respectively and invoke corollary
@ref(cor:almostDisjointAdditivity). This shows that
<span class="math display">\[
    \mu_*(E\cap R)+ \mu_*(E\cap R^c)
    \leq \mu_*(\forall E\subset \mathbb R^n) + \epsilon, \quad \forall \epsilon&gt;0
\]</span>
</details>
<p><span style="color:green">
Boundaries to not always have nontrivial measures
(e.g. <span class="math inline">\(\mathbb Q\cap [0, 1]\)</span>). There are even
boundaries of closed sets which have nontrivial measure
(e.g. fat Cantor set).
</span></p>
</div>
<div id="lebMeasure" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Lebesgue measure, Borel regularity<a href="#lebMeasure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-28" class="definition"><strong>(#def:unlabeled-div-28) (Lebesgue measure) </strong></span>The set <span class="math inline">\(\mathcal L\subset \mathbb R^n\)</span> of Lebesgue measurable sets
are the Carathéodory-measurable sets of the exterior measure:
<span class="math display">\[
    S\in \mathcal L \iff \mu(\forall E\subset \mathbb R^n) = \mu(E\cap S)+\mu(E\cap S^c)
\]</span></p>
</div>
<p>Note that one direction in the Carathéodory criterion always holds:
<span class="math display">\[
    \mu(E) \leq \mu(E\cap B) + \mu(E\cap B^c)
\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-29" class="proposition"><strong>(#prp:unlabeled-div-29) (null sets are measurable) </strong></span><span class="math inline">\(\mu(E\subset \mathbb R^n)=0\implies E\in \mathcal L\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
To show the nontrivial direction, <span class="math inline">\(\mu(E\cap B)\leq \mu(E)=0\)</span>, then
<span class="math inline">\(\mu(E\cap B^c) \leq \mu(E)\)</span> by subadditivity.
</details>
<div class="definition">
<p><span id="def:unlabeled-div-30" class="definition"><strong>(#def:unlabeled-div-30) (Borel sets) </strong></span>The Borel set <span class="math inline">\(\mathcal B\subset 2^{R^n}\)</span> is the <span class="math inline">\(\sigma\)</span>-algebra
freely generated by rectangles.</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-31" class="theorem"><strong>(#thm:unlabeled-div-31) (Borel sets are Lebesgue measurable) </strong></span><span class="math inline">\(\mathcal B\subset \mathcal L\)</span>.</p>
</div>
<p><em>Proof:</em> Proposition @ref(prp:rectangleMeasurable) states that rectangles
are measurable; invoking the machinery we built in the section
on the <a href="#caratheodory">Carathéodory theorem</a> we obtain that
the elements of the <span class="math inline">\(\sigma\)</span>-algebra freely generated by rectangles (Borel subsets)
are measurable.</p>
<div id="a-non-measurable-set" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">A non-measurable set<a href="#a-non-measurable-set" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Write <span class="math inline">\(x\sim y\)</span> if <span class="math inline">\(x-y\)</span> is rational and let <span class="math inline">\(\mathcal E_\alpha\)</span>
be the equivalence class of <span class="math inline">\(\alpha\)</span>. Then
<span class="math inline">\([0, 1]=\bigcup \mathcal E_\alpha\)</span> and construct
<span class="math inline">\(\mathcal N\)</span> by choosing one element <span class="math inline">\(x_\alpha\)</span> from
each <span class="math inline">\(\mathcal E_\alpha\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-32" class="proposition"><strong>(#prp:unlabeled-div-32) </strong></span><span class="math inline">\(\mathcal N\)</span> is not measurable.</p>
</div>
<p><em>Proof:</em> Assume <span class="math inline">\(\mathcal N\)</span> measurable and let
<span class="math inline">\(\{r_k\}_{k=1}^\infty\)</span> be an enumeration of all rationals
in <span class="math inline">\([-1, 1]\)</span> and consider <span class="math inline">\(\mathcal N_k = \mathcal N + r_k\)</span>. Then
all <span class="math inline">\(\{\mathcal N_k\}\)</span> are disjoint. Note that
<span class="math display">\[
    [0, 1] \subset \bigsqcup_{k=1}^\infty \mathcal N_k \subset [-1, 2]
\]</span>
Assuming measurability (contradiction!), we have
<span class="math display">\[
    1\leq \sum_{k=1}^\infty \mu(\mathcal N_k) \leq 3
\]</span>
Every term in the sum is equal, but there is no real number
which satisfies the construction above; contradiction:
there cannot be a disjoint-additive function on the disjoint
countable collection <span class="math inline">\(\{\mathcal N_k\}\)</span>.</p>
</div>
<div id="approximation-of-measurable-sets" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">Approximation of measurable sets<a href="#approximation-of-measurable-sets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have seen that the exterior measure is equivalent to open cover infinum
@ref(prp:openCoverInfimum). We also have</p>
<div class="proposition">
<p><span id="prp:measurableCompactSupremum" class="proposition"><strong>(#prp:measurableCompactSupremum) (compact subset supremum) </strong></span>If <span class="math inline">\(A\)</span> is Lebesgue measurable, then
<span class="math display">\[
    \mu(A) = \sup_{K\subset A\text{ compact}} \mu(K)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
<p>The trivial direction is <span class="math inline">\(\sup_{K\subset A\text{ compact}} \mu(K) \leq \mu(A)\)</span>.
We wish to show, <span class="math inline">\(\forall \epsilon&gt;0\)</span>, that
<span class="math display">\[
    \exists K\subset A\text{ compact}: \mu(K) + \epsilon \geq \mu(A)
\]</span></p>
<div class="figure" style="text-align: center">
<img src="images/compactApprox.jpeg" alt="$A$ bounded" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-1)<span class="math inline">\(A\)</span> bounded
</p>
</div>
<ol style="list-style-type: decimal">
<li>First suppose <span class="math inline">\(A\)</span> bounded; consider compact <span class="math inline">\(F\supset A\)</span>,
then there is an open set <span class="math inline">\(G\supset F-A\)</span> which <span class="math inline">\(\epsilon\)</span>-approximates
<span class="math inline">\(F-A\)</span>, then <span class="math inline">\(K=A\cap O^c\)</span> is a compact sub-<span class="math inline">\(\epsilon\)</span> subset approximation
of <span class="math inline">\(A\)</span>.
<ul>
<li><span class="math inline">\(K\)</span> must be compact, else <span class="math inline">\(F\subset K\cup O\)</span> will not be compact.</li>
</ul></li>
<li><span class="math inline">\(A\)</span> unbounded: we can construct for each <span class="math inline">\(j\in \mathbb N\)</span>
an <span class="math inline">\(\epsilon\)</span>-approximation of <span class="math inline">\(A_j = A\cap \overline{B_j(0)}\)</span>
with <span class="math inline">\(A_j\to A\implies \mu(A_j)\to \mu(A)\)</span>.</li>
</ol>
</details>
<div class="theorem">
<p><span id="thm:openCoverMeasureApprox" class="theorem"><strong>(#thm:openCoverMeasureApprox) (measurability by open cover approximation) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff <span class="math inline">\(\forall \epsilon&gt;0\)</span>,
there exists <span class="math inline">\(G\supset A\)</span> such that
<span class="math display">\[
    \mu_*(G - A) &lt; \epsilon
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
Given <span class="math inline">\(A\)</span> measurable, the result follows from open cover
infimum proposition @ref(prp:openCoverInfimum).
Conversely, suppose <span class="math inline">\(A\subset \mathbb R^n\)</span> satisfies the conditions
in the theorem, then choose an <span class="math inline">\(\epsilon\)</span>-cover <span class="math inline">\(G\supset A\)</span>.
Note that
<span class="math display">\[
    E\cap A^c = E\cap G^c + E\cap (G-A)
\]</span>
Directly verify the Carathéodory criterion: we use the
measurability of <span class="math inline">\(G\)</span> and subadditivity
<span class="math display">\[\begin{align}
    \mu_*(E\cap A) + \mu_*(E\cap A^c)
    &amp;= \mu_*(E\cap A) + \mu_*(E\cap A^c)  \\
    &amp;\leq \mu_*(E\cap G) + \mu_*(E\cap G^c) + \mu_*(E\cap (G-A)) \\
    &amp;\leq \mu_*(E\cap G) + \mu_*(E\cap G^c) + \mu_*(G-A)_{&lt; \epsilon} \\
    &amp;&lt; \mu_*(E\cap G) + \mu_*(E\cap G^c) + \epsilon
    = \mu_*(E\cap G) + \epsilon
\end{align}\]</span>
</details>
<div class="theorem">
<p><span id="thm:squeezeMeasurable" class="theorem"><strong>(#thm:squeezeMeasurable) (measurability by squeezing) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff <span class="math inline">\(\forall \epsilon&gt;0\)</span>,
there exists open <span class="math inline">\(G\)</span>, closed <span class="math inline">\(F\)</span>, with <span class="math inline">\(F\subset A\subset G\)</span> such that
<span class="math inline">\(\mu_*(G - F) &lt; \epsilon\)</span>.</p>
</div>
<p><em>Proof:</em> If <span class="math inline">\(A\)</span> satisfies the theorem conditions, then
<span class="math inline">\(\mu_*(G - A) \leq \mu_*(G - F)&lt;\epsilon\)</span> so <span class="math inline">\(A\)</span> is measurable
by theorem @ref(thm:openCoverMeasureApprox).
Conversely, given <span class="math inline">\(A\)</span> measurable, by theorem @ref(thm:openCoverMeasureApprox)
choose <span class="math inline">\(\epsilon/2\)</span>-covers of both <span class="math inline">\(A\)</span> and <span class="math inline">\(A^c\)</span>.</p>
<div class="theorem">
<p><span id="thm:borelApprox" class="theorem"><strong>(#thm:borelApprox) (measurability by Borel approximation) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff there
exists Borel sets <span class="math inline">\(G, F\)</span> with <span class="math inline">\(F\subset A\subset G\)</span> such that
<span class="math display">\[
    \mu(G - A) = \mu(A - F) = 0
\]</span></p>
</div>
<p><em>Proof:</em> By theorem @ref(thm:squeezeMeasurable), construct for each
<span class="math inline">\(k\in \mathbb N\)</span> sets <span class="math inline">\(G_k, F_k\)</span> which <span class="math inline">\(1/k\)</span>-squeeze <span class="math inline">\(G\)</span>, then
<span class="math inline">\(G=\bigcap G_k, F=\bigcup F_k\)</span> proves the theorem.</p>
</div>
</div>
<div id="realMeasurableFunctions" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Measurable functions on <span class="math inline">\(\mathbb R^n\)</span><a href="#realMeasurableFunctions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="proposition">
<p><span id="prp:unlabeled-div-33" class="proposition"><strong>(#prp:unlabeled-div-33) (measurable function) </strong></span>Given a measurable space <span class="math inline">\((\Omega, \Sigma)\)</span>. A function
<span class="math inline">\(\Omega\to \mathbb R^n\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable if
<span class="math inline">\(f^{-1}(B) \in \Sigma\)</span>
for every Borel set <span class="math inline">\(B\subset \mathbb R^n\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-34" class="example"><strong>(#exm:unlabeled-div-34) </strong></span>If <span class="math inline">\(\Sigma=\{\emptyset, \Omega\}\)</span>, then the only <span class="math inline">\(\Sigma\)</span>-measurable
functions from <span class="math inline">\(\Omega\to \mathbb R^n\)</span> are constant functions. On the
other extreme, if <span class="math inline">\(\Sigma=2^\Omega\)</span>, then every function is measurable.
For a nontrivial example, if <span class="math inline">\(\Sigma=\{\emptyset, (-\infty, 0), [0, \infty), \mathbb R\}\)</span>
then <span class="math inline">\(f:\mathbb R\to \mathbb R\)</span> is measurable iff it is
constant on <span class="math inline">\((-\infty, 0), [0, \infty)\)</span>.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-35" class="definition"><strong>(#def:unlabeled-div-35) (characteristic function) </strong></span>Given <span class="math inline">\(E\subset \Omega\)</span>, the characteristic function <span class="math inline">\(\chi_E:\Omega\to \mathbb R\)</span> is
<span class="math display">\[
    \chi_E(x) = \begin{cases}
        1 &amp; x\in E \\
        0 &amp; x\notin E
    \end{cases}
\]</span></p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-36" class="proposition"><strong>(#prp:unlabeled-div-36) (property of characteristic function) </strong></span>Given <span class="math inline">\((\Omega, \Sigma), E\subset \Omega\)</span>, then <span class="math inline">\(\chi_E\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable
iff <span class="math inline">\(E\in \Sigma\)</span>.</p>
</div>
<p><em>Proof:</em>
<span class="math inline">\(\chi_E^{-1}(B) = \{E, \Omega-E, \Omega, \emptyset\}\)</span>
depending on how <span class="math inline">\(B\subset \mathbb R\)</span> intersects with <span class="math inline">\(\{0, 1\}\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-37" class="proposition"><strong>(#prp:unlabeled-div-37) (continuity implies Borel measurability) </strong></span>Every continuous function <span class="math inline">\(f:\Omega\to \mathbb R^n\)</span> defined on
a Borel subset <span class="math inline">\(\Omega\subset \mathbb R^m\)</span> is a Borel-measurable function.</p>
</div>
<p><em>Proof:</em> Consider the preimage of <span class="math inline">\(x&gt;a\)</span> (<span class="math inline">\(x, a\in \mathbb R^n\)</span> and inequality
holds elementwise). For any such <span class="math inline">\(a\)</span>, consider
<span class="math display">\[
    f^{-1}(x&gt;a)
    = \left[\bigcup_{x\in f^{-1}(x&gt;a)} (x-\delta_x, x+\delta_x) \right]\cap \Omega
\]</span>
Given every <span class="math inline">\(x\in \mathbb R^m: f(x)&gt;a\)</span>, by continuity <span class="math inline">\(\exists \delta_x\in \mathbb R\)</span>
such that <span class="math inline">\(f((x-\delta_x, x+\delta_x))&gt;a\)</span>. The term in the paranthesis
is an open set, hence its intersection with the Borel set <span class="math inline">\(\Omega\)</span> is Borel.</p>
<p><span class="math inline">\(f:(\Omega\subset \mathbb R)\to \mathbb R\)</span> is increasing if <span class="math inline">\(x &lt; y\implies f(x)\leq f(y)\)</span>;
it is monotonic if <span class="math inline">\(f\)</span> or <span class="math inline">\(-f\)</span> is increasing.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-38" class="proposition"><strong>(#prp:unlabeled-div-38) </strong></span>if <span class="math inline">\(f:\Omega\to \mathbb R\)</span> is monotonic and <span class="math inline">\(\Omega\)</span> is Borel, then <span class="math inline">\(f\)</span> is measurable.</p>
</div>
<p><em>Proof:</em> Fix <span class="math inline">\(a\in \mathbb R\)</span>, then for <span class="math inline">\(b=\inf f^{-1}((a, \infty))\)</span>,
monotonicity implies
<span class="math display">\[
    f^{-1}((a, \infty)) = (b, \infty)\cap \Omega
    \text{ or }
    [b, \infty)\cap \Omega
\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-39" class="proposition"><strong>(#prp:unlabeled-div-39) (preservation of measurability under limits) </strong></span>Suppose <span class="math inline">\(\{f_j\}\to f:(\Omega, \Sigma)\to \mathbb R^n\)</span> point-wise each <span class="math inline">\(f_j\)</span>
is <span class="math inline">\(\Sigma\)</span>-measurable, then <span class="math inline">\(f\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable.</p>
</div>
<p><em>Proof:</em> Unrolling the definition of the limit: for any
<span class="math inline">\(x\in \Omega, a\in \mathbb R^n\)</span>, <span class="math inline">\(f(x)&gt;a\)</span> iff
<span class="math display">\[\begin{align}
    &amp; \lim_{k\to \infty} f_k(x) &gt; a \\
    \iff &amp; \exists j&gt;0, \exists N: f_{\forall k&gt;N}(x)&gt;a+1/j \\
    \iff &amp; x\in \bigcup_{j=1}^\infty
        \bigcup_{N=1}^\infty
        \bigcap_{k=1}^\infty f_k^{-1}(y&gt;a+1/j)
\end{align}\]</span>
Note that we only need some <span class="math inline">\(j\)</span> to exist. Each <span class="math inline">\(\exists\)</span> translates
to <span class="math inline">\(\bigcup\)</span>, and each <span class="math inline">\(\forall\)</span> translates to <span class="math inline">\(\bigcap\)</span>. Then
the preimage of <span class="math inline">\(y&gt;a\)</span> the measurable set above.</p>
<div class="definition">
<p><span id="def:unlabeled-div-40" class="definition"><strong>(#def:unlabeled-div-40) (extended Borel) </strong></span><span class="math inline">\(A\subset [-\infty \infty]\)</span> is a Borel set if <span class="math inline">\(A\cap \mathbb R\)</span> is Borel.
Extended measurability is defined similarly.</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-41" class="theorem"><strong>(#thm:unlabeled-div-41) (variational limits are measurable) </strong></span>Given measurable <span class="math inline">\(\{f_k: (\Omega, \Sigma)\to \mathbb R\}\)</span>, the following functions
are also measurable:
<span class="math display">\[
    g(x) = \inf_k f_k(x), \quad h(x) = \sup_k f_k(x)
\]</span></p>
</div>
<p><em>Proof:</em> It suffices to verify for the <span class="math inline">\(\sup\)</span> case that
<span class="math display">\[\begin{align}
    h(x) &gt; a &amp;\implies \exists k: f_k(x) &gt; a \\
    h^{-1}((a, \infty]) &amp;= \bigcup_{k=1}^\infty f_k^{-1}((a, \infty])
\end{align}\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-42" class="proposition"><strong>(#prp:unlabeled-div-42) (a.e. measurability) </strong></span>Given <span class="math inline">\(f\)</span> measurable and <span class="math inline">\(f=g\)</span> a.e. (they differ on a set of
measure <span class="math inline">\(0\)</span> on the domain), then <span class="math inline">\(g\)</span> is measurable.</p>
</div>
<p><em>Proof:</em> Let <span class="math inline">\(\{\mathcal A\}\)</span> be a subbasis generating the measurable<br />
sets, then <span class="math inline">\(\forall A\in \mathcal A\)</span>, the symmetric difference of
pre-images <span class="math inline">\(f^{-1}(A), g^{-1}(A)\)</span> is dominated by a set of
measure <span class="math inline">\(0\)</span>; by measurability <span class="math inline">\(g^{-1}(A)\)</span> is measurable,
so <span class="math inline">\(f^{-1}(S)\)</span> is also measurable.</p>
<p>Some notations are convenient:</p>
<div class="definition">
<p><span id="def:setSequenceNotation" class="definition"><strong>(#def:setSequenceNotation) (sequence of sets) </strong></span>An increasing sequence of sets <span class="math inline">\(\{A_n\}\)</span> is a sequence
<span class="math display">\[
    A_1\subset A_2\subset \cdots \to A = \bigcup_{n=1}^\infty A_n
\]</span>
also written <span class="math inline">\(A_j\nearrow A\)</span>. Similarly, a decreasing
sequence of sets is written <span class="math inline">\(A_j\searrow A\)</span>.
<span class="math display">\[
    A_1\supset A_2\supset \cdots \to A = \bigcap_{n=1}^\infty A_n
\]</span></p>
</div>
</div>
<div id="simple-functions" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Simple functions<a href="#simple-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-43" class="definition"><strong>(#def:unlabeled-div-43) (simple function) </strong></span>A simple function is a finite sum
<span class="math display">\[
    f = \sum_{k=1}^N a_k \chi_{E_k}
\]</span>
where each <span class="math inline">\(E_k\)</span> is a finite-measurable set.</p>
</div>
<p>The following proof is from Ch. 11 of <span class="citation">(<a href="#ref-rudin1964principles">Rudin et al. 1964</a>)</span>.</p>
<div class="theorem">
<p><span id="thm:simpleFunctionApproximation" class="theorem"><strong>(#thm:simpleFunctionApproximation) (simple-function approximation) </strong></span>Given a real function <span class="math inline">\(f:\Omega\to \mathbb R\)</span>, there exists a sequence
<span class="math inline">\(\{s_n\}\)</span> of simple functions such that <span class="math inline">\(s_n(x)\to f(x)\)</span>
point-wise. If <span class="math inline">\(f\)</span> is measurable, then <span class="math inline">\(\{s_n\}\)</span>
may be chosen to be a sequence of measurable functions.
If <span class="math inline">\(f\geq 0\)</span>, then <span class="math inline">\(\{s_n\}\)</span> may be chosen to be a monotonically
increasing sequence.</p>
</div>
<p><em>Proof:</em> Given <span class="math inline">\(f\geq 0\)</span>, define <span class="math inline">\(F_n = f^{-1}([n, \infty))\)</span> and
<span class="math display">\[
    E_{n, i} = f^{-1} \left(\left[2^{-n}(i-1), 2^{-n}i \right]\right)
\]</span>
For <span class="math inline">\(n=1, 2, \cdots\)</span> and <span class="math inline">\(i=1, 2, \cdots, n2^n\)</span>, choose
<span class="math display">\[
    s_n = n\chi_{F_n} + \sum_{i=1}^{n2^n} \dfrac{i-1}{2^n} \chi_{E_{n, i}}
\]</span>
Note that <span class="math inline">\(E_{n, i}\)</span> is the pre-image of the <span class="math inline">\(i\)</span>-th slice of
nonnegative real blocks of size <span class="math inline">\(2^{-n}\)</span>, and the first term assigns
<span class="math inline">\(\inf f=2^{-n}(i-1)\)</span> on the corresponding intervals. The second
term just assigns approximates with <span class="math inline">\(n\)</span> all places where <span class="math inline">\(f(x)\geq n\)</span>.
The second term is reserved for cases where <span class="math inline">\(f(x)=\infty\)</span>. In short:</p>
<ol style="list-style-type: decimal">
<li>In the <span class="math inline">\(n\)</span>-th approximation, approximate <span class="math inline">\(f\)</span> up to value <span class="math inline">\(n\)</span>.</li>
<li>Divide <span class="math inline">\(f^{-1}([0, n])\)</span> into <span class="math inline">\(2^{-n}\)</span> pieces and assign a dominated
simple function. Approximate the rest simply with <span class="math inline">\(n\)</span>.</li>
</ol>
<p>If <span class="math inline">\(f\)</span> is measurable, the domains of the characteristic decomposition
are measurable so <span class="math inline">\(s_n\)</span> is measurable. The general case follows by
<span class="math inline">\(f=f^+-f^-\)</span>.</p>
</div>
<div id="littlewoods-three-principles" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Littlewood’s three principles<a href="#littlewoods-three-principles" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Littlewood’s three principles are:</p>
<ol style="list-style-type: decimal">
<li>Every finite-measurable set is almost a finite union of intervals.</li>
<li>Every measurable function is almost continuous.</li>
<li>Every pointwise convergent sequence of measurable functions
is almost uniformly convergent.</li>
</ol>
<p>To be precise, the third principle is formulated as follows:</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-44" class="theorem"><strong>(#thm:unlabeled-div-44) (Egorov's theorem) </strong></span>Given a a measurable sequence <span class="math inline">\((f_k)\)</span> on a finite-measurable set
<span class="math inline">\(E\)</span> with <span class="math inline">\(\mu(E)&lt;\infty\)</span> such that <span class="math inline">\(f_k\to f\)</span> a.e. on <span class="math inline">\(E\)</span>.
For every <span class="math inline">\(\epsilon&gt;0\)</span>, there exists a closed set <span class="math inline">\(A_\epsilon \subset E\)</span>
such that <span class="math inline">\(\mu(E-A_\epsilon)&lt;\epsilon\)</span> and <span class="math inline">\(f_k\to f\)</span> uniformly
on <span class="math inline">\(A_\epsilon\)</span></p>
</div>
<p><em>Proof:</em> without loss of generality assume <span class="math inline">\(f_k\to f\)</span> pointwise (not just
pointwise a.e.) since we only require <span class="math inline">\(\mu(E-A_\epsilon)&lt;\epsilon\)</span>;
for each <span class="math inline">\(n, k\)</span>, define
<span class="math display">\[
    E_k^n = \{x\in E: |f_{\forall j&gt;k}(x) - f(x)|&lt;1/n\}
\]</span>
In other words, this is the set on which <span class="math inline">\(f_{j&gt;k}\)</span> is
<span class="math inline">\(1/n\)</span>-close to <span class="math inline">\(f\)</span> on <span class="math inline">\(E\)</span>. Fix <span class="math inline">\(n\)</span>. Note that
<span class="math inline">\(E^n_k\nearrow E\)</span> by <span class="math inline">\(f_k\to f\)</span> (recall definition
@ref(def:setSequenceNotation)); then there exists <span class="math inline">\(k_n\)</span>
such that
<span class="math display">\[
    \mu(E - E^n_{k_n}) &lt; 2^{-n}, \quad
    \sup_{x\in E^n_{k_n}} |f_j(x) - f(x)| &lt; 1/n
\]</span>
Choose <span class="math inline">\(N\)</span> so that <span class="math inline">\(\sum_{n=N}^\infty 2^{-n}&lt;\epsilon/2\)</span> and let
<span class="math display">\[
    \tilde A_\epsilon = \bigcap_{n\geq N} E^n_{k_n}
\]</span>
This is domain subset on which, for each <span class="math inline">\(n\geq N\)</span>,
<span class="math inline">\(|f_{j\geq k_n}(x) - f(x)| \leq 1/N\)</span>; also note that
<span class="math display">\[
    \mu(E - \tilde A_\epsilon) \leq \sum_{n=N}^\infty \mu(E - E^n_{k_n})
    &lt; \epsilon/2
\]</span>
Also note that <span class="math inline">\(\tilde A_\epsilon\)</span> is measurable since it is the
intersection of <span class="math inline">\(E^n_k\)</span> which are pre-images; then by measurability
characterization @ref(thm:measurableCharacterization) there exists a
closed <span class="math inline">\(\epsilon/4\)</span>-coveree <span class="math inline">\(A_\epsilon\)</span> of <span class="math inline">\(\tilde A_\epsilon\)</span>.
Moreover, <span class="math inline">\(f_k\to f\)</span> uniformly on <span class="math inline">\(A_\epsilon\)</span> since for every
<span class="math inline">\(0&lt;\epsilon&#39;&lt;1/n\)</span>, <span class="math inline">\(|f_j(x)-f(x)|&lt;\epsilon&#39;\)</span> when <span class="math inline">\(j&gt;k_n\)</span> and
<span class="math inline">\(x\in E^n_{k_n} \supset A_\epsilon\)</span>.</p>
<p>Similarly, the precise statement of the second principle is:</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-45" class="theorem"><strong>(#thm:unlabeled-div-45) (Lusin's theorem) </strong></span>Given measurable <span class="math inline">\(f\)</span> finite-valued on <span class="math inline">\(E\)</span> and <span class="math inline">\(\mu(E)&lt;\infty\)</span>, then
for every <span class="math inline">\(\epsilon&gt;0\)</span> there exists a closed <span class="math inline">\(\epsilon\)</span>-coveree
<span class="math inline">\(F_\epsilon \subset E\)</span> with <span class="math inline">\(\mu(E-F_\epsilon)&lt;\epsilon\)</span> such that
<span class="math inline">\(f_{|F_\epsilon}\)</span> is continuous in the subspace topology.</p>
</div>
<p><em>Proof:</em> <span style="color:red"> TODO </span></p>
<p><span style="color:green">
Lusin’s theorem <em>does not claim</em> that <span class="math inline">\(f\)</span> is continuous on <span class="math inline">\(F_\epsilon\)</span>,
only that <span class="math inline">\(f_{|F_\epsilon}\)</span> is continuous in the subspace topology.
</span></p>
</div>
<div id="product-measures-fubini" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Product measures, Fubini<a href="#product-measures-fubini" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="theorem">
<p><span id="thm:productMeasure" class="theorem"><strong>(#thm:productMeasure) (characterization of product measure) </strong></span>Given two <span class="math inline">\(\sigma\)</span>-finite measure spaces <span class="math inline">\((\Omega_1, \Sigma_1, \mu_1)\)</span> and
<span class="math inline">\((\Omega_2, \Sigma_2, \mu_2)\)</span> define, for every measurable
<span class="math inline">\(A\in \Sigma_1\times \Sigma_2\)</span>:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(f(y) = \mu_1(A_1(y)) = \mu_1(\{x\in \Omega_1: (x, y)\in A\})\)</span>.</li>
<li><span class="math inline">\(g(x) = \mu_2(A_2(x)) = \mu_2(\{y\in \Omega_2: (x, y)\in A\})\)</span>.</li>
</ol>
Then <span class="math inline">\(f\)</span> is <span class="math inline">\(\Sigma_1\)</span>-measurable, <span class="math inline">\(g\)</span> is <span class="math inline">\(\Sigma_2\)</span>-measurable, and
<span class="math display">\[
    (\mu_1\times \mu_2)(A)
    = \int_{\Omega_2} f(y) d\mu_2 = \int_{\Omega_1} g(x) d\mu_1
\]</span>
<div class="figure" style="text-align: center">
<img src="images/fubini.jpg" alt="Visual example. " width="80%" />
<p class="caption">
(#fig:unnamed-chunk-2)Visual example.
</p>
</div>
</div>
<p>To prove that <span class="math inline">\(g\)</span> is <span class="math inline">\(\Sigma_1\)</span>-measurable, we prove that
the set <span class="math inline">\(\mathcal T\)</span> of all subsets of <span class="math inline">\(\mathbb R\)</span> whose preimage is <span class="math inline">\(\Sigma_1\)</span>-measurable
generates the measurable sets on <span class="math inline">\(\mathbb R\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-46" class="proposition"><strong>(#prp:unlabeled-div-46) (finiteness) </strong></span>The product <span class="math inline">\(\Sigma_1\times \Sigma_2\)</span> of
two <span class="math inline">\(\sigma\)</span>-finite measures is <span class="math inline">\(\sigma\)</span>-finite.</p>
</div>
<!--chapter:end:03-Lebesgue.Rmd-->
</div>
</div>
<div id="realMeasures" class="section level1 hasAnchor" number="4">
<h1 class="hasAnchor"><span class="header-section-number">4</span> Measure on <span class="math inline">\(\mathbb R^n\)</span><a href="#realMeasures" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section establishes the base case of the Lebesgue
measure on <span class="math inline">\(\mathbb R^n\)</span>:</p>
<ol style="list-style-type: decimal">
<li><a href="#extMeasure">Exterior measure</a>: foundational properties of the exterior
measure and interaction with rectangles.</li>
<li><a href="#lebMeasure">Lebesgue measure and Borel regularity</a>:
definition and relation with Borel sets,
characterization of measurable sets, example of a non-measurable set.</li>
<li><a href="#realMeasurableFunctions">Measurable functions</a>: .</li>
</ol>
<p>Key takeaways:</p>
<ol style="list-style-type: decimal">
<li>The exterior measure is the natural outer-measure extension of rectangle volume that
satisfies <em>monotonicity</em>, <em>countable subadditivity</em>,
and agrees with our initial definition.</li>
<li>The Lebesgue measure is the Carathéodory restriction of the exterior measure.</li>
<li>Rectangles are measurable (proposition @ref(prp:rectangleMeasurable)),
so Borel sets are measurable since they
are freely-generated by rectangles.</li>
<li>The exterior measure (rectangle cover infimum)
is equivalent to open cover infimum, and on measurable sets equivalent
to compact subset supremum.</li>
<li>A set is measurable iff
<ul>
<li>it can be upper-approximated by an open cover
or lower-approximated by a closed subset up to arbitrarily small but
finite measure @ref(thm:squeezeMeasurable).</li>
<li>it can be approximated by a Borel set up
to zero measure @ref(thm:borelApprox).</li>
</ul></li>
</ol>
<div id="extMeasure" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Rectangles, exterior measure<a href="#extMeasure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-47" class="definition"><strong>(#def:unlabeled-div-47) (exterior measure) </strong></span>The exterior measure <span class="math inline">\(\mu_*(E)\)</span> of any subset <span class="math inline">\(E\subset \mathbb R^n\)</span> is
<span class="math display">\[
    \mu_*(E) = \inf \sum_{j=1}^\infty |R_j|
\]</span>
where the <span class="math inline">\(\inf\)</span> is over all countable coverings of <span class="math inline">\(E\)</span> by
closed rectangles, the measure of a closed rectangle
<span class="math inline">\(R_j = \prod_{j=1}^n [a_j, b_j]\)</span> is <span class="math inline">\(|Q_j| = \prod_{j=1}^n (b_j - a_j)\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-48" class="proposition"><strong>(#prp:unlabeled-div-48) </strong></span>The exterior is an outer measure per definition @ref(def:defOuterMeasure).</p>
<ul>
<li><span class="math inline">\(E_1\subset E_2\implies \mu_*(E_1)\leq \mu_*(E_2)\)</span>.</li>
<li><span class="math inline">\(E=\bigcup_{j=1}^\infty E_j\implies \mu_*(E)\leq \sum_{j=1}^\infty \mu_*(E_j)\)</span>.</li>
</ul>
</div>
<details>
<summary>
Proof
</summary>
To prove monotonicity, every covering of <span class="math inline">\(E_2\)</span> by a countable set of cubes
is also a covering of <span class="math inline">\(E_1\)</span>.
For countable subadditivity, the main idea is to construct increasingly
tight covers such that the countable union of
these covers is still finitely tight.
Assume the nontrivial case <span class="math inline">\(\mu_*(E_j)&lt;\infty\)</span>.
For every <span class="math inline">\(\epsilon&gt;0\)</span>, we can construct for each <span class="math inline">\(j\)</span> a covering
<span class="math display">\[
    E_j\subset \bigcup_{k=1}^\infty R_{k, j}, \quad
    \sum_{k=1}^\infty |R_{k, j}| \leq \mu_*(E_j) + \dfrac{\epsilon}{2^j}
\]</span>
The increasingly tight bound ensures that
<span class="math display">\[\begin{align}
    \mu_*(E)
    &amp;\leq \sum_{j, k}|R_{k, j}| \leq \sum_{j=1}^\infty \mu_*(E_j) + \dfrac\epsilon {2^j}
    = \sum_{j=1}^\infty \mu_*(E_j)+\epsilon
\end{align}\]</span>
</details>
<div class="proposition">
<p><span id="prp:openCoverInfimum" class="proposition"><strong>(#prp:openCoverInfimum) (equivalence with open cover infimum) </strong></span>Given <span class="math inline">\(E\subset \mathbb R^n\)</span>, <span class="math inline">\(\mu_*(E)=\inf \mu_*(\mathcal O)\)</span>, where <span class="math inline">\(\inf\)</span> is
over all open sets <span class="math inline">\(\mathcal O\)</span> covering <span class="math inline">\(E\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
<span class="math inline">\(\mu_*(E)\leq \inf \mu_*(\mathcal O)\)</span> holds by monotonicity.
For the other direction, choose cubes <span class="math inline">\(R_j\)</span> covering <span class="math inline">\(E\)</span>
with margin <span class="math inline">\(\epsilon/2\)</span>, and for each cube choose open cube
<span class="math inline">\(O_j\)</span> covering <span class="math inline">\(R_j\)</span> with margin <span class="math inline">\(\epsilon/2^{j+1}\)</span>, then <span class="math inline">\((O_j)\)</span>
cover <span class="math inline">\(E\)</span> with margin <span class="math inline">\(\epsilon\)</span>.
</details>
<p>Given a countable set <span class="math inline">\(R_j\)</span> of disjoint rectangles, it is
intuitive (and easy to show that)
<span class="math display">\[
    \mu_*\bigsqcup_{j=1}^\infty R_j = \sum_{j=1}^\infty \mu_*(R_j)
\]</span>
This is our base case for establishing measurability later on.</p>
<p>The following proposition is the main reason why we chose closed
rectangles (instead of open, though they are effectively the same)
as the basic measurable sets.</p>
<div class="proposition">
<p><span id="prp:finiteDistanceAdditivity" class="proposition"><strong>(#prp:finiteDistanceAdditivity) (additivity with finite distance) </strong></span>If <span class="math inline">\(E=E_1\cup E_2\)</span> and <span class="math inline">\(d(E_1, E_2)&gt;0\)</span>, then
<span class="math display">\[
    \mu_*(E) = \mu_*(E_1)+\mu_*(E_2)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
By subadditivity, <span class="math inline">\(\mu_*(E)\leq \mu_*(E_1)+\mu_*(E_2)\)</span>.
To show the converse, select <span class="math inline">\(0&lt;\delta &lt; d(E_1, E_2)\)</span> and
choose a cover <span class="math inline">\((Q_j)\)</span> of <span class="math inline">\(E\)</span> by closed cubes with margin <span class="math inline">\(\epsilon\)</span>.
Subdivide <span class="math inline">\((Q_j)\)</span> so that each has size less than <span class="math inline">\(\delta\)</span>, so
that each cube intersects at most one of <span class="math inline">\(E_1, E_2\)</span>. Denote by
<span class="math inline">\(J_1, J_2\)</span> the indices for which <span class="math inline">\(Q_j\)</span> intersects <span class="math inline">\(E_1, E_2\)</span>, then
<span class="math inline">\(E_1, E_2\)</span> are covered by <span class="math inline">\(Q_{J_1}, Q_{J_2}\)</span> respectively.
</details>
<div class="corollary">
<p><span id="cor:almostDisjointAdditivity" class="corollary"><strong>(#cor:almostDisjointAdditivity) (additivity of almost-disjoint rectangles) </strong></span>The exterior measure is additive on
countable collections of almost-disjoint rectangles <span class="math inline">\(R_j\in \mathbb R^d\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
Give <span class="math inline">\(\epsilon&gt;0\)</span>, shrink rectangle <span class="math inline">\(j\)</span> by <span class="math inline">\(\epsilon/2^j\)</span> so they
are closed sets with finite distance, then invoke additivity through
proposition @ref(prp:finiteDistanceAdditivity).
</details>
<div class="proposition">
<p><span id="prp:rectangleMeasurable" class="proposition"><strong>(#prp:rectangleMeasurable) (Carathéodory criteria for rectangles) </strong></span>Given a rectangle <span class="math inline">\(\subset \mathbb R^n\)</span>,
<span class="math display">\[
    \mu_*(\forall E\subset \mathbb R^n) = \mu_*(E\cap R)+ \mu_*(E\cap R^c)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
To prove the nontrivial direction
<span class="math inline">\(\mu_*(E\cap R)+ \mu_*(E\cap R^c)\leq \mu_*(\forall E\subset \mathbb R^n)\)</span>,
choose an <span class="math inline">\(\epsilon\)</span>-cover <span class="math inline">\(R_j\)</span> of <span class="math inline">\(E\)</span>, then
rectang-ify <span class="math inline">\(R_j\)</span> into <span class="math inline">\(R^1_j, R^2_j\)</span> covering
<span class="math inline">\(E\cap R, E\cap R^c\)</span> respectively and invoke corollary
@ref(cor:almostDisjointAdditivity). This shows that
<span class="math display">\[
    \mu_*(E\cap R)+ \mu_*(E\cap R^c)
    \leq \mu_*(\forall E\subset \mathbb R^n) + \epsilon, \quad \forall \epsilon&gt;0
\]</span>
</details>
<p><span style="color:green">
Boundaries to not always have nontrivial measures
(e.g. <span class="math inline">\(\mathbb Q\cap [0, 1]\)</span>). There are even
boundaries of closed sets which have nontrivial measure
(e.g. fat Cantor set).
</span></p>
</div>
<div id="lebMeasure" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Lebesgue measure, Borel regularity<a href="#lebMeasure" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-49" class="definition"><strong>(#def:unlabeled-div-49) (Lebesgue measure) </strong></span>The set <span class="math inline">\(\mathcal L\subset \mathbb R^n\)</span> of Lebesgue measurable sets
are the Carathéodory-measurable sets of the exterior measure:
<span class="math display">\[
    S\in \mathcal L \iff \mu(\forall E\subset \mathbb R^n) = \mu(E\cap S)+\mu(E\cap S^c)
\]</span></p>
</div>
<p>Note that one direction in the Carathéodory criterion always holds:
<span class="math display">\[
    \mu(E) \leq \mu(E\cap B) + \mu(E\cap B^c)
\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-50" class="proposition"><strong>(#prp:unlabeled-div-50) (null sets are measurable) </strong></span><span class="math inline">\(\mu(E\subset \mathbb R^n)=0\implies E\in \mathcal L\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
To show the nontrivial direction, <span class="math inline">\(\mu(E\cap B)\leq \mu(E)=0\)</span>, then
<span class="math inline">\(\mu(E\cap B^c) \leq \mu(E)\)</span> by subadditivity.
</details>
<div class="definition">
<p><span id="def:unlabeled-div-51" class="definition"><strong>(#def:unlabeled-div-51) (Borel sets) </strong></span>The Borel set <span class="math inline">\(\mathcal B\subset 2^{R^n}\)</span> is the <span class="math inline">\(\sigma\)</span>-algebra
freely generated by rectangles.</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-52" class="theorem"><strong>(#thm:unlabeled-div-52) (Borel sets are Lebesgue measurable) </strong></span><span class="math inline">\(\mathcal B\subset \mathcal L\)</span>.</p>
</div>
<p><em>Proof:</em> Proposition @ref(prp:rectangleMeasurable) states that rectangles
are measurable; invoking the machinery we built in the section
on the <a href="#caratheodory">Carathéodory theorem</a> we obtain that
the elements of the <span class="math inline">\(\sigma\)</span>-algebra freely generated by rectangles (Borel subsets)
are measurable.</p>
<div id="a-non-measurable-set-1" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">A non-measurable set<a href="#a-non-measurable-set-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Write <span class="math inline">\(x\sim y\)</span> if <span class="math inline">\(x-y\)</span> is rational and let <span class="math inline">\(\mathcal E_\alpha\)</span>
be the equivalence class of <span class="math inline">\(\alpha\)</span>. Then
<span class="math inline">\([0, 1]=\bigcup \mathcal E_\alpha\)</span> and construct
<span class="math inline">\(\mathcal N\)</span> by choosing one element <span class="math inline">\(x_\alpha\)</span> from
each <span class="math inline">\(\mathcal E_\alpha\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-53" class="proposition"><strong>(#prp:unlabeled-div-53) </strong></span><span class="math inline">\(\mathcal N\)</span> is not measurable.</p>
</div>
<p><em>Proof:</em> Assume <span class="math inline">\(\mathcal N\)</span> measurable and let
<span class="math inline">\(\{r_k\}_{k=1}^\infty\)</span> be an enumeration of all rationals
in <span class="math inline">\([-1, 1]\)</span> and consider <span class="math inline">\(\mathcal N_k = \mathcal N + r_k\)</span>. Then
all <span class="math inline">\(\{\mathcal N_k\}\)</span> are disjoint. Note that
<span class="math display">\[
    [0, 1] \subset \bigsqcup_{k=1}^\infty \mathcal N_k \subset [-1, 2]
\]</span>
Assuming measurability (contradiction!), we have
<span class="math display">\[
    1\leq \sum_{k=1}^\infty \mu(\mathcal N_k) \leq 3
\]</span>
Every term in the sum is equal, but there is no real number
which satisfies the construction above; contradiction:
there cannot be a disjoint-additive function on the disjoint
countable collection <span class="math inline">\(\{\mathcal N_k\}\)</span>.</p>
</div>
<div id="approximation-of-measurable-sets-1" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">Approximation of measurable sets<a href="#approximation-of-measurable-sets-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have seen that the exterior measure is equivalent to open cover infinum
@ref(prp:openCoverInfimum). We also have</p>
<div class="proposition">
<p><span id="prp:measurableCompactSupremum" class="proposition"><strong>(#prp:measurableCompactSupremum) (compact subset supremum) </strong></span>If <span class="math inline">\(A\)</span> is Lebesgue measurable, then
<span class="math display">\[
    \mu(A) = \sup_{K\subset A\text{ compact}} \mu(K)
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
<p>The trivial direction is <span class="math inline">\(\sup_{K\subset A\text{ compact}} \mu(K) \leq \mu(A)\)</span>.
We wish to show, <span class="math inline">\(\forall \epsilon&gt;0\)</span>, that
<span class="math display">\[
    \exists K\subset A\text{ compact}: \mu(K) + \epsilon \geq \mu(A)
\]</span></p>
<div class="figure" style="text-align: center">
<img src="images/compactApprox.jpeg" alt="$A$ bounded" width="80%" />
<p class="caption">
(#fig:unnamed-chunk-3)<span class="math inline">\(A\)</span> bounded
</p>
</div>
<ol style="list-style-type: decimal">
<li>First suppose <span class="math inline">\(A\)</span> bounded; consider compact <span class="math inline">\(F\supset A\)</span>,
then there is an open set <span class="math inline">\(G\supset F-A\)</span> which <span class="math inline">\(\epsilon\)</span>-approximates
<span class="math inline">\(F-A\)</span>, then <span class="math inline">\(K=A\cap O^c\)</span> is a compact sub-<span class="math inline">\(\epsilon\)</span> subset approximation
of <span class="math inline">\(A\)</span>.
<ul>
<li><span class="math inline">\(K\)</span> must be compact, else <span class="math inline">\(F\subset K\cup O\)</span> will not be compact.</li>
</ul></li>
<li><span class="math inline">\(A\)</span> unbounded: we can construct for each <span class="math inline">\(j\in \mathbb N\)</span>
an <span class="math inline">\(\epsilon\)</span>-approximation of <span class="math inline">\(A_j = A\cap \overline{B_j(0)}\)</span>
with <span class="math inline">\(A_j\to A\implies \mu(A_j)\to \mu(A)\)</span>.</li>
</ol>
</details>
<div class="theorem">
<p><span id="thm:openCoverMeasureApprox" class="theorem"><strong>(#thm:openCoverMeasureApprox) (measurability by open cover approximation) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff <span class="math inline">\(\forall \epsilon&gt;0\)</span>,
there exists <span class="math inline">\(G\supset A\)</span> such that
<span class="math display">\[
    \mu_*(G - A) &lt; \epsilon
\]</span></p>
</div>
<details>
<summary>
Proof
</summary>
Given <span class="math inline">\(A\)</span> measurable, the result follows from open cover
infimum proposition @ref(prp:openCoverInfimum).
Conversely, suppose <span class="math inline">\(A\subset \mathbb R^n\)</span> satisfies the conditions
in the theorem, then choose an <span class="math inline">\(\epsilon\)</span>-cover <span class="math inline">\(G\supset A\)</span>.
Note that
<span class="math display">\[
    E\cap A^c = E\cap G^c + E\cap (G-A)
\]</span>
Directly verify the Carathéodory criterion: we use the
measurability of <span class="math inline">\(G\)</span> and subadditivity
<span class="math display">\[\begin{align}
    \mu_*(E\cap A) + \mu_*(E\cap A^c)
    &amp;= \mu_*(E\cap A) + \mu_*(E\cap A^c)  \\
    &amp;\leq \mu_*(E\cap G) + \mu_*(E\cap G^c) + \mu_*(E\cap (G-A)) \\
    &amp;\leq \mu_*(E\cap G) + \mu_*(E\cap G^c) + \mu_*(G-A)_{&lt; \epsilon} \\
    &amp;&lt; \mu_*(E\cap G) + \mu_*(E\cap G^c) + \epsilon
    = \mu_*(E\cap G) + \epsilon
\end{align}\]</span>
</details>
<div class="theorem">
<p><span id="thm:squeezeMeasurable" class="theorem"><strong>(#thm:squeezeMeasurable) (measurability by squeezing) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff <span class="math inline">\(\forall \epsilon&gt;0\)</span>,
there exists open <span class="math inline">\(G\)</span>, closed <span class="math inline">\(F\)</span>, with <span class="math inline">\(F\subset A\subset G\)</span> such that
<span class="math inline">\(\mu_*(G - F) &lt; \epsilon\)</span>.</p>
</div>
<p><em>Proof:</em> If <span class="math inline">\(A\)</span> satisfies the theorem conditions, then
<span class="math inline">\(\mu_*(G - A) \leq \mu_*(G - F)&lt;\epsilon\)</span> so <span class="math inline">\(A\)</span> is measurable
by theorem @ref(thm:openCoverMeasureApprox).
Conversely, given <span class="math inline">\(A\)</span> measurable, by theorem @ref(thm:openCoverMeasureApprox)
choose <span class="math inline">\(\epsilon/2\)</span>-covers of both <span class="math inline">\(A\)</span> and <span class="math inline">\(A^c\)</span>.</p>
<div class="theorem">
<p><span id="thm:borelApprox" class="theorem"><strong>(#thm:borelApprox) (measurability by Borel approximation) </strong></span><span class="math inline">\(A\subset \mathbb R^n\)</span> is Lebesgue measurable iff there
exists Borel sets <span class="math inline">\(G, F\)</span> with <span class="math inline">\(F\subset A\subset G\)</span> such that
<span class="math display">\[
    \mu(G - A) = \mu(A - F) = 0
\]</span></p>
</div>
<p><em>Proof:</em> By theorem @ref(thm:squeezeMeasurable), construct for each
<span class="math inline">\(k\in \mathbb N\)</span> sets <span class="math inline">\(G_k, F_k\)</span> which <span class="math inline">\(1/k\)</span>-squeeze <span class="math inline">\(G\)</span>, then
<span class="math inline">\(G=\bigcap G_k, F=\bigcup F_k\)</span> proves the theorem.</p>
</div>
</div>
<div id="realMeasurableFunctions" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Measurable functions on <span class="math inline">\(\mathbb R^n\)</span><a href="#realMeasurableFunctions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="proposition">
<p><span id="prp:unlabeled-div-54" class="proposition"><strong>(#prp:unlabeled-div-54) (measurable function) </strong></span>Given a measurable space <span class="math inline">\((\Omega, \Sigma)\)</span>. A function
<span class="math inline">\(\Omega\to \mathbb R^n\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable if
<span class="math inline">\(f^{-1}(B) \in \Sigma\)</span>
for every Borel set <span class="math inline">\(B\subset \mathbb R^n\)</span>.</p>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-55" class="example"><strong>(#exm:unlabeled-div-55) </strong></span>If <span class="math inline">\(\Sigma=\{\emptyset, \Omega\}\)</span>, then the only <span class="math inline">\(\Sigma\)</span>-measurable
functions from <span class="math inline">\(\Omega\to \mathbb R^n\)</span> are constant functions. On the
other extreme, if <span class="math inline">\(\Sigma=2^\Omega\)</span>, then every function is measurable.
For a nontrivial example, if <span class="math inline">\(\Sigma=\{\emptyset, (-\infty, 0), [0, \infty), \mathbb R\}\)</span>
then <span class="math inline">\(f:\mathbb R\to \mathbb R\)</span> is measurable iff it is
constant on <span class="math inline">\((-\infty, 0), [0, \infty)\)</span>.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-56" class="definition"><strong>(#def:unlabeled-div-56) (characteristic function) </strong></span>Given <span class="math inline">\(E\subset \Omega\)</span>, the characteristic function <span class="math inline">\(\chi_E:\Omega\to \mathbb R\)</span> is
<span class="math display">\[
    \chi_E(x) = \begin{cases}
        1 &amp; x\in E \\
        0 &amp; x\notin E
    \end{cases}
\]</span></p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-57" class="proposition"><strong>(#prp:unlabeled-div-57) (property of characteristic function) </strong></span>Given <span class="math inline">\((\Omega, \Sigma), E\subset \Omega\)</span>, then <span class="math inline">\(\chi_E\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable
iff <span class="math inline">\(E\in \Sigma\)</span>.</p>
</div>
<p><em>Proof:</em>
<span class="math inline">\(\chi_E^{-1}(B) = \{E, \Omega-E, \Omega, \emptyset\}\)</span>
depending on how <span class="math inline">\(B\subset \mathbb R\)</span> intersects with <span class="math inline">\(\{0, 1\}\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-58" class="proposition"><strong>(#prp:unlabeled-div-58) (continuity implies Borel measurability) </strong></span>Every continuous function <span class="math inline">\(f:\Omega\to \mathbb R^n\)</span> defined on
a Borel subset <span class="math inline">\(\Omega\subset \mathbb R^m\)</span> is a Borel-measurable function.</p>
</div>
<p><em>Proof:</em> Consider the preimage of <span class="math inline">\(x&gt;a\)</span> (<span class="math inline">\(x, a\in \mathbb R^n\)</span> and inequality
holds elementwise). For any such <span class="math inline">\(a\)</span>, consider
<span class="math display">\[
    f^{-1}(x&gt;a)
    = \left[\bigcup_{x\in f^{-1}(x&gt;a)} (x-\delta_x, x+\delta_x) \right]\cap \Omega
\]</span>
Given every <span class="math inline">\(x\in \mathbb R^m: f(x)&gt;a\)</span>, by continuity <span class="math inline">\(\exists \delta_x\in \mathbb R\)</span>
such that <span class="math inline">\(f((x-\delta_x, x+\delta_x))&gt;a\)</span>. The term in the paranthesis
is an open set, hence its intersection with the Borel set <span class="math inline">\(\Omega\)</span> is Borel.</p>
<p><span class="math inline">\(f:(\Omega\subset \mathbb R)\to \mathbb R\)</span> is increasing if <span class="math inline">\(x &lt; y\implies f(x)\leq f(y)\)</span>;
it is monotonic if <span class="math inline">\(f\)</span> or <span class="math inline">\(-f\)</span> is increasing.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-59" class="proposition"><strong>(#prp:unlabeled-div-59) </strong></span>if <span class="math inline">\(f:\Omega\to \mathbb R\)</span> is monotonic and <span class="math inline">\(\Omega\)</span> is Borel, then <span class="math inline">\(f\)</span> is measurable.</p>
</div>
<p><em>Proof:</em> Fix <span class="math inline">\(a\in \mathbb R\)</span>, then for <span class="math inline">\(b=\inf f^{-1}((a, \infty))\)</span>,
monotonicity implies
<span class="math display">\[
    f^{-1}((a, \infty)) = (b, \infty)\cap \Omega
    \text{ or }
    [b, \infty)\cap \Omega
\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-60" class="proposition"><strong>(#prp:unlabeled-div-60) (preservation of measurability under limits) </strong></span>Suppose <span class="math inline">\(\{f_j\}\to f:(\Omega, \Sigma)\to \mathbb R^n\)</span> point-wise each <span class="math inline">\(f_j\)</span>
is <span class="math inline">\(\Sigma\)</span>-measurable, then <span class="math inline">\(f\)</span> is <span class="math inline">\(\Sigma\)</span>-measurable.</p>
</div>
<p><em>Proof:</em> Unrolling the definition of the limit: for any
<span class="math inline">\(x\in \Omega, a\in \mathbb R^n\)</span>, <span class="math inline">\(f(x)&gt;a\)</span> iff
<span class="math display">\[\begin{align}
    &amp; \lim_{k\to \infty} f_k(x) &gt; a \\
    \iff &amp; \exists j&gt;0, \exists N: f_{\forall k&gt;N}(x)&gt;a+1/j \\
    \iff &amp; x\in \bigcup_{j=1}^\infty
        \bigcup_{N=1}^\infty
        \bigcap_{k=1}^\infty f_k^{-1}(y&gt;a+1/j)
\end{align}\]</span>
Note that we only need some <span class="math inline">\(j\)</span> to exist. Each <span class="math inline">\(\exists\)</span> translates
to <span class="math inline">\(\bigcup\)</span>, and each <span class="math inline">\(\forall\)</span> translates to <span class="math inline">\(\bigcap\)</span>. Then
the preimage of <span class="math inline">\(y&gt;a\)</span> the measurable set above.</p>
<div class="definition">
<p><span id="def:unlabeled-div-61" class="definition"><strong>(#def:unlabeled-div-61) (extended Borel) </strong></span><span class="math inline">\(A\subset [-\infty \infty]\)</span> is a Borel set if <span class="math inline">\(A\cap \mathbb R\)</span> is Borel.
Extended measurability is defined similarly.</p>
</div>
<div class="theorem">
<p><span id="thm:unlabeled-div-62" class="theorem"><strong>(#thm:unlabeled-div-62) (variational limits are measurable) </strong></span>Given measurable <span class="math inline">\(\{f_k: (\Omega, \Sigma)\to \mathbb R\}\)</span>, the following functions
are also measurable:
<span class="math display">\[
    g(x) = \inf_k f_k(x), \quad h(x) = \sup_k f_k(x)
\]</span></p>
</div>
<p><em>Proof:</em> It suffices to verify for the <span class="math inline">\(\sup\)</span> case that
<span class="math display">\[\begin{align}
    h(x) &gt; a &amp;\implies \exists k: f_k(x) &gt; a \\
    h^{-1}((a, \infty]) &amp;= \bigcup_{k=1}^\infty f_k^{-1}((a, \infty])
\end{align}\]</span></p>
<div class="proposition">
<p><span id="prp:unlabeled-div-63" class="proposition"><strong>(#prp:unlabeled-div-63) (a.e. measurability) </strong></span>Given <span class="math inline">\(f\)</span> measurable and <span class="math inline">\(f=g\)</span> a.e. (they differ on a set of
measure <span class="math inline">\(0\)</span> on the domain), then <span class="math inline">\(g\)</span> is measurable.</p>
</div>
<p><em>Proof:</em> Let <span class="math inline">\(\{\mathcal A\}\)</span> be a subbasis generating the measurable<br />
sets, then <span class="math inline">\(\forall A\in \mathcal A\)</span>, the symmetric difference of
pre-images <span class="math inline">\(f^{-1}(A), g^{-1}(A)\)</span> is dominated by a set of
measure <span class="math inline">\(0\)</span>; by measurability <span class="math inline">\(g^{-1}(A)\)</span> is measurable,
so <span class="math inline">\(f^{-1}(S)\)</span> is also measurable.</p>
<p>Some notations are convenient:</p>
<div class="definition">
<p><span id="def:setSequenceNotation" class="definition"><strong>(#def:setSequenceNotation) (sequence of sets) </strong></span>An increasing sequence of sets <span class="math inline">\(\{A_n\}\)</span> is a sequence
<span class="math display">\[
    A_1\subset A_2\subset \cdots \to A = \bigcup_{n=1}^\infty A_n
\]</span>
also written <span class="math inline">\(A_j\nearrow A\)</span>. Similarly, a decreasing
sequence of sets is written <span class="math inline">\(A_j\searrow A\)</span>.
<span class="math display">\[
    A_1\supset A_2\supset \cdots \to A = \bigcap_{n=1}^\infty A_n
\]</span></p>
</div>
</div>
<div id="simple-functions-1" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Simple functions<a href="#simple-functions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-64" class="definition"><strong>(#def:unlabeled-div-64) (simple function) </strong></span>A simple function is a finite sum
<span class="math display">\[
    f = \sum_{k=1}^N a_k \chi_{E_k}
\]</span>
where each <span class="math inline">\(E_k\)</span> is a finite-measurable set.</p>
</div>
<p>The following proof is from Ch. 11 of <span class="citation">(<a href="#ref-rudin1964principles">Rudin et al. 1964</a>)</span>.</p>
<div class="theorem">
<p><span id="thm:simpleFunctionApproximation" class="theorem"><strong>(#thm:simpleFunctionApproximation) (simple-function approximation) </strong></span>Given a real function <span class="math inline">\(f:\Omega\to \mathbb R\)</span>, there exists a sequence
<span class="math inline">\(\{s_n\}\)</span> of simple functions such that <span class="math inline">\(s_n(x)\to f(x)\)</span>
point-wise. If <span class="math inline">\(f\)</span> is measurable, then <span class="math inline">\(\{s_n\}\)</span>
may be chosen to be a sequence of measurable functions.
If <span class="math inline">\(f\geq 0\)</span>, then <span class="math inline">\(\{s_n\}\)</span> may be chosen to be a monotonically
increasing sequence.</p>
</div>
<p><em>Proof:</em> Given <span class="math inline">\(f\geq 0\)</span>, define <span class="math inline">\(F_n = f^{-1}([n, \infty))\)</span> and
<span class="math display">\[
    E_{n, i} = f^{-1} \left(\left[2^{-n}(i-1), 2^{-n}i \right]\right)
\]</span>
For <span class="math inline">\(n=1, 2, \cdots\)</span> and <span class="math inline">\(i=1, 2, \cdots, n2^n\)</span>, choose
<span class="math display">\[
    s_n = n\chi_{F_n} + \sum_{i=1}^{n2^n} \dfrac{i-1}{2^n} \chi_{E_{n, i}}
\]</span>
Note that <span class="math inline">\(E_{n, i}\)</span> is the pre-image of the <span class="math inline">\(i\)</span>-th slice of
nonnegative real blocks of size <span class="math inline">\(2^{-n}\)</span>, and the first term assigns
<span class="math inline">\(\inf f=2^{-n}(i-1)\)</span> on the corresponding intervals. The second
term just assigns approximates with <span class="math inline">\(n\)</span> all places where <span class="math inline">\(f(x)\geq n\)</span>.
The second term is reserved for cases where <span class="math inline">\(f(x)=\infty\)</span>. In short:</p>
<ol style="list-style-type: decimal">
<li>In the <span class="math inline">\(n\)</span>-th approximation, approximate <span class="math inline">\(f\)</span> up to value <span class="math inline">\(n\)</span>.</li>
<li>Divide <span class="math inline">\(f^{-1}([0, n])\)</span> into <span class="math inline">\(2^{-n}\)</span> pieces and assign a dominated
simple function. Approximate the rest simply with <span class="math inline">\(n\)</span>.</li>
</ol>
<p>If <span class="math inline">\(f\)</span> is measurable, the domains of the characteristic decomposition
are measurable so <span class="math inline">\(s_n\)</span> is measurable. The general case follows by
<span class="math inline">\(f=f^+-f^-\)</span>.</p>
</div>
<div id="littlewoods-three-principles-1" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Littlewood’s three principles<a href="#littlewoods-three-principles-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Littlewood’s three principles are:</p>
<ol style="list-style-type: decimal">
<li>Every finite-measurable set is almost a finite union of intervals.</li>
<li>Every measurable function is almost continuous.</li>
<li>Every pointwise convergent sequence of measurable functions
is almost uniformly convergent.</li>
</ol>
<p>To be precise, the third principle is formulated as follows:</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-65" class="theorem"><strong>(#thm:unlabeled-div-65) (Egorov's theorem) </strong></span>Given a a measurable sequence <span class="math inline">\((f_k)\)</span> on a finite-measurable set
<span class="math inline">\(E\)</span> with <span class="math inline">\(\mu(E)&lt;\infty\)</span> such that <span class="math inline">\(f_k\to f\)</span> a.e. on <span class="math inline">\(E\)</span>.
For every <span class="math inline">\(\epsilon&gt;0\)</span>, there exists a closed set <span class="math inline">\(A_\epsilon \subset E\)</span>
such that <span class="math inline">\(\mu(E-A_\epsilon)&lt;\epsilon\)</span> and <span class="math inline">\(f_k\to f\)</span> uniformly
on <span class="math inline">\(A_\epsilon\)</span></p>
</div>
<p><em>Proof:</em> without loss of generality assume <span class="math inline">\(f_k\to f\)</span> pointwise (not just
pointwise a.e.) since we only require <span class="math inline">\(\mu(E-A_\epsilon)&lt;\epsilon\)</span>;
for each <span class="math inline">\(n, k\)</span>, define
<span class="math display">\[
    E_k^n = \{x\in E: |f_{\forall j&gt;k}(x) - f(x)|&lt;1/n\}
\]</span>
In other words, this is the set on which <span class="math inline">\(f_{j&gt;k}\)</span> is
<span class="math inline">\(1/n\)</span>-close to <span class="math inline">\(f\)</span> on <span class="math inline">\(E\)</span>. Fix <span class="math inline">\(n\)</span>. Note that
<span class="math inline">\(E^n_k\nearrow E\)</span> by <span class="math inline">\(f_k\to f\)</span> (recall definition
@ref(def:setSequenceNotation)); then there exists <span class="math inline">\(k_n\)</span>
such that
<span class="math display">\[
    \mu(E - E^n_{k_n}) &lt; 2^{-n}, \quad
    \sup_{x\in E^n_{k_n}} |f_j(x) - f(x)| &lt; 1/n
\]</span>
Choose <span class="math inline">\(N\)</span> so that <span class="math inline">\(\sum_{n=N}^\infty 2^{-n}&lt;\epsilon/2\)</span> and let
<span class="math display">\[
    \tilde A_\epsilon = \bigcap_{n\geq N} E^n_{k_n}
\]</span>
This is domain subset on which, for each <span class="math inline">\(n\geq N\)</span>,
<span class="math inline">\(|f_{j\geq k_n}(x) - f(x)| \leq 1/N\)</span>; also note that
<span class="math display">\[
    \mu(E - \tilde A_\epsilon) \leq \sum_{n=N}^\infty \mu(E - E^n_{k_n})
    &lt; \epsilon/2
\]</span>
Also note that <span class="math inline">\(\tilde A_\epsilon\)</span> is measurable since it is the
intersection of <span class="math inline">\(E^n_k\)</span> which are pre-images; then by measurability
characterization @ref(thm:measurableCharacterization) there exists a
closed <span class="math inline">\(\epsilon/4\)</span>-coveree <span class="math inline">\(A_\epsilon\)</span> of <span class="math inline">\(\tilde A_\epsilon\)</span>.
Moreover, <span class="math inline">\(f_k\to f\)</span> uniformly on <span class="math inline">\(A_\epsilon\)</span> since for every
<span class="math inline">\(0&lt;\epsilon&#39;&lt;1/n\)</span>, <span class="math inline">\(|f_j(x)-f(x)|&lt;\epsilon&#39;\)</span> when <span class="math inline">\(j&gt;k_n\)</span> and
<span class="math inline">\(x\in E^n_{k_n} \supset A_\epsilon\)</span>.</p>
<p>Similarly, the precise statement of the second principle is:</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-66" class="theorem"><strong>(#thm:unlabeled-div-66) (Lusin's theorem) </strong></span>Given measurable <span class="math inline">\(f\)</span> finite-valued on <span class="math inline">\(E\)</span> and <span class="math inline">\(\mu(E)&lt;\infty\)</span>, then
for every <span class="math inline">\(\epsilon&gt;0\)</span> there exists a closed <span class="math inline">\(\epsilon\)</span>-coveree
<span class="math inline">\(F_\epsilon \subset E\)</span> with <span class="math inline">\(\mu(E-F_\epsilon)&lt;\epsilon\)</span> such that
<span class="math inline">\(f_{|F_\epsilon}\)</span> is continuous in the subspace topology.</p>
</div>
<p><em>Proof:</em> <span style="color:red"> TODO </span></p>
<p><span style="color:green">
Lusin’s theorem <em>does not claim</em> that <span class="math inline">\(f\)</span> is continuous on <span class="math inline">\(F_\epsilon\)</span>,
only that <span class="math inline">\(f_{|F_\epsilon}\)</span> is continuous in the subspace topology.
</span></p>
</div>
<div id="product-measures-fubini-1" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Product measures, Fubini<a href="#product-measures-fubini-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="theorem">
<p><span id="thm:productMeasure" class="theorem"><strong>(#thm:productMeasure) (characterization of product measure) </strong></span>Given two <span class="math inline">\(\sigma\)</span>-finite measure spaces <span class="math inline">\((\Omega_1, \Sigma_1, \mu_1)\)</span> and
<span class="math inline">\((\Omega_2, \Sigma_2, \mu_2)\)</span> define, for every measurable
<span class="math inline">\(A\in \Sigma_1\times \Sigma_2\)</span>:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(f(y) = \mu_1(A_1(y)) = \mu_1(\{x\in \Omega_1: (x, y)\in A\})\)</span>.</li>
<li><span class="math inline">\(g(x) = \mu_2(A_2(x)) = \mu_2(\{y\in \Omega_2: (x, y)\in A\})\)</span>.</li>
</ol>
Then <span class="math inline">\(f\)</span> is <span class="math inline">\(\Sigma_1\)</span>-measurable, <span class="math inline">\(g\)</span> is <span class="math inline">\(\Sigma_2\)</span>-measurable, and
<span class="math display">\[
    (\mu_1\times \mu_2)(A)
    = \int_{\Omega_2} f(y) d\mu_2 = \int_{\Omega_1} g(x) d\mu_1
\]</span>
<div class="figure" style="text-align: center">
<img src="images/fubini.jpg" alt="Visual example. " width="80%" />
<p class="caption">
(#fig:unnamed-chunk-4)Visual example.
</p>
</div>
</div>
<p>To prove that <span class="math inline">\(g\)</span> is <span class="math inline">\(\Sigma_1\)</span>-measurable, we prove that
the set <span class="math inline">\(\mathcal T\)</span> of all subsets of <span class="math inline">\(\mathbb R\)</span> whose preimage is <span class="math inline">\(\Sigma_1\)</span>-measurable
generates the measurable sets on <span class="math inline">\(\mathbb R\)</span>.</p>
<div class="proposition">
<p><span id="prp:unlabeled-div-67" class="proposition"><strong>(#prp:unlabeled-div-67) (finiteness) </strong></span>The product <span class="math inline">\(\Sigma_1\times \Sigma_2\)</span> of
two <span class="math inline">\(\sigma\)</span>-finite measures is <span class="math inline">\(\sigma\)</span>-finite.</p>
</div>
<!--chapter:end:04-Function-integration.Rmd-->
</div>
</div>
<div id="lp-spaces" class="section level1 hasAnchor" number="5">
<h1 class="hasAnchor"><span class="header-section-number">5</span> <span class="math inline">\(L^p\)</span> Spaces<a href="#lp-spaces" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Key takeaways:</p>
<ol style="list-style-type: decimal">
<li>The convexity of <span class="math inline">\(x\mapsto |x|^p\)</span> implies Young’s inequality
(proposition @ref(prp:youngInequality))
and the vector space structure of <span class="math inline">\(L^p(\Omega)\)</span>
(proposition @ref(prp:LpVectorSpace)).</li>
<li>To be precise, <span class="math inline">\(L^p\)</span> spaces are equivalence classes of
functions which agree <span class="math inline">\(\mu\)</span>-a.e.</li>
</ol>
<div id="definitions" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Definitions<a href="#definitions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="convexity-youngs-inequality" class="section level3 unnumbered hasAnchor">
<h3 class="unnumbered hasAnchor">Convexity, Young’s inequality<a href="#convexity-youngs-inequality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="definition">
<p><span id="def:unlabeled-div-68" class="definition"><strong>(#def:unlabeled-div-68) (convex set and function) </strong></span>A convex set <span class="math inline">\(K\subset \mathbb R^n\)</span> is closed under
<span class="math inline">\((x, y)\mapsto \lambda x + \bar y\)</span>
for all <span class="math inline">\(\lambda \in [0, 1]\)</span>. A <strong>convex function</strong>
on a convex set <span class="math inline">\(K\)</span> is a real-valued function satisfying
<span class="math display">\[
    f(\lambda x + \bar \lambda y)
    \leq \lambda f(x) + \bar \lambda f(y)
\]</span>
the function <span class="math inline">\(f\)</span> is <strong>strictly convex</strong> at <span class="math inline">\(x\)</span> if the
inequality is strict for all <span class="math inline">\(y\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:unlabeled-div-69" class="proposition"><strong>(#prp:unlabeled-div-69) </strong></span>If <span class="math inline">\(K\)</span> is an open set, then a convex function on <span class="math inline">\(K\)</span> is continuous.</p>
</div>
<div class="definition">
<p><span id="def:unlabeled-div-70" class="definition"><strong>(#def:unlabeled-div-70) (support plane) </strong></span>The support plane to a graph of <span class="math inline">\(f:K\to \mathbb R\)</span> at
<span class="math inline">\(x\in K\subset \mathbb R^n\)</span> is a plane in <span class="math inline">\(\mathbb R^{n+1}\)</span> that
touches <span class="math inline">\((x, f(x))\)</span> and that nowhere lies above the graph;
if the support plane at <span class="math inline">\(x\)</span> is unique, then it is the tangent plane.</p>
</div>
<p>For example, there is no unique support plane at <span class="math inline">\(x=0\)</span> for <span class="math inline">\(|x|\)</span>.
For convex <span class="math inline">\(f\)</span>, the existence of a tangent plane is equivalent
to differentiability. In particular, the tangent plane
for <span class="math inline">\(y=f(x)\)</span> at <span class="math inline">\(x_0\)</span> has expression
<span class="math display">\[
    y - f(x_0) = \nabla f(x_0) \cdot (y - x)
\]</span>
Thus for general convex functions, for each <span class="math inline">\(x\)</span> there exists
a vector <span class="math inline">\(V\in \mathbb R^n\)</span> such that
<span class="math display">\[
    f(y) \geq f(x) + V\cdot (y - x)
\]</span></p>
<div class="definition">
<p><span id="def:unlabeled-div-71" class="definition"><strong>(#def:unlabeled-div-71) (Hölder conjugate) </strong></span>The Hölder conjugate of <span class="math inline">\(p&gt;1\)</span> is given by the equation
<span class="math display">\[
    p^{-1} + q^{-1} = 1
\]</span>
It is oftentimes more convenient to note that
<span class="math display">\[
    p = \dfrac q {q - 1} \iff q = \dfrac p {p - 1}
\]</span></p>
</div>
<div class="proposition">
<p><span id="prp:youngInequality" class="proposition"><strong>(#prp:youngInequality) (Young's inequality) </strong></span>Given Hölder conjugates <span class="math inline">\(p, q&gt;1\)</span>,
<span class="math display">\[
    ab \leq \dfrac{a^p}{p} + \dfrac{b^q}{q}, \quad \forall a, b\geq 0
\]</span>
Equality is saturated when <span class="math inline">\(a^p = b^q\)</span>.</p>
</div>
<details>
<summary>
Proof
</summary>
Consider the convex function <span class="math inline">\(f(a) = \dfrac{a^p}{p}\)</span>.
Its Legendre transform is
<span class="math display">\[\begin{align}
    g(b)
    &amp;= \sup_a \left(ab - \dfrac{a^p}{p}\right)
    = a_*b - \dfrac{a_*^p}{p},\quad a_* = b^{1/(p-1)} \\
    &amp;= b^{1 + 1/(p-1)} - \dfrac 1 p b^{p/(p-1)} = b^q - \dfrac 1 p b^q
    = \dfrac{b^q}{q}
\end{align}\]</span>
Young’s inequality follows from the variational characterization
of the Legendre transform.
Equality is saturated when <span class="math inline">\(a=b^{1/(p-1)} \iff a^p = b^q\)</span>.
</details>
</div>
</div>
<div id="space-and-norm" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Space and norm<a href="#space-and-norm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="definition">
<p><span id="def:unlabeled-div-72" class="definition"><strong>(#def:unlabeled-div-72) (Lp space, norm) </strong></span>Given a positive (nonnegative) measure
<span class="math inline">\(\mu\)</span> and <span class="math inline">\(1\leq p&lt;\infty\)</span>, the space
<span class="math inline">\(L^p(\Omega, d\mu)\)</span>
is the space of complex-valued functions <span class="math inline">\(f:\Omega\to \mathbb C\)</span>
such that:</p>
<ol style="list-style-type: decimal">
<li><span class="math inline">\(f\)</span> is <span class="math inline">\(\mu\)</span>-measurable.</li>
<li><span class="math inline">\(|f|^p\)</span> is <span class="math inline">\(\mu\)</span>-integrable.</li>
</ol>
<p>The measure <span class="math inline">\(d\mu\)</span> is usually omitted if understood.
Given <span class="math inline">\(f\in L^p(\Omega)\)</span>, its norm is
<span class="math display">\[
    \|f\|_p = \left[\int_\Omega |f(x)|^p \mu(dx)\right]^{1/p}
\]</span>
This definition is extended to <span class="math inline">\(L^\infty(\Omega, d\mu)\)</span>
as the space of <span class="math inline">\(\mu\)</span>-a.e. bounded functions, with
<span class="math display">\[
    \|f\|_\infty = \inf \{
        K: f \leq K \text{ for } \mu\text{-a.e.}
    \}
\]</span>
The <span class="math inline">\(\infty\)</span>-norm is also called the <strong>essential supremum</strong>
of <span class="math inline">\(|f|\)</span>.</p>
</div>
<div class="proposition">
<p><span id="prp:LpVectorSpace" class="proposition"><strong>(#prp:LpVectorSpace) (vector space property) </strong></span><span class="math inline">\(L^p(\Omega, d\mu)\)</span> is a vector space.</p>
</div>
<details>
<summary>
Proof
</summary>
Closure under scalar multiplication is apparant.
Closure under addition follows from the convexity of <span class="math inline">\(|x|^p\)</span>.
<span class="math display">\[
    \left\|\dfrac{\alpha + \beta}{2}\right\|^p \leq \dfrac{|\alpha|^p + |\beta|^p}{2}
\]</span>
which follows from the convexity of <span class="math inline">\(|x|^p\)</span>.
</details>
<div class="proposition">
<p><span id="prp:unlabeled-div-73" class="proposition"><strong>(#prp:unlabeled-div-73) (norm properties) </strong></span>The <span class="math inline">\(L^p\)</span> norm satisfies:</p>
<ol style="list-style-type: lower-alpha">
<li>Linearity: <span class="math inline">\(\|\lambda f\|_p = |\lambda| \|f\|_p\)</span>.</li>
<li>Nonnegativity: <span class="math inline">\(\|f\|_p\geq 0\)</span> with equality iff <span class="math inline">\(f=0\)</span> for <span class="math inline">\(\mu\)</span>-a.e.</li>
<li>Triangle inequality: <span class="math inline">\(\|f+g\|_p \leq \|f_p\| + \|g\|_p\)</span>.</li>
</ol>
</div>
<details>
<summary>
Proof
</summary>
Linearity is apparant, for the second part,
<span class="math inline">\(\|f\|_p = 0 \iff \|f^p\|_1 = 0 \iff f=0\)</span>, the second and
third <span class="math inline">\(=0\)</span> are to be understood as <span class="math inline">\(\mu\)</span>-a.e.
</details>
</div>
<div id="major-inequalities" class="section level2 unnumbered hasAnchor">
<h2 class="unnumbered hasAnchor">Major inequalities<a href="#major-inequalities" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>From now on we work in a measure space denoted
<span class="math inline">\((\Omega, \Sigma, \mu)\)</span>.</p>
<p>Assuming <span class="math inline">\(\mu(\Omega)\)</span> is finite, the average of
a measurable function <span class="math inline">\(f:\Omega\to \mathbb R\)</span> is defined as
<span class="math display">\[
    \langle f\rangle= \dfrac 1 {\mu(\Omega)} \int_\Omega f\, d\mu
\]</span></p>
<div class="theorem">
<p><span id="thm:unlabeled-div-74" class="theorem"><strong>(#thm:unlabeled-div-74) (Jensen's inequality) </strong></span>Given a convex function <span class="math inline">\(J:\mathbb R\to \mathbb R\)</span> and
measurable <span class="math inline">\(f:\Omega\to \mathbb R\)</span>, then</p>
<ol style="list-style-type: decimal">
<li>The negative part <span class="math inline">\((J\circ f)_-\)</span> is in <span class="math inline">\(L^1(\Omega)\)</span>
(recall the decomposition <span class="math inline">\(f=f_+ - f_-\)</span>.</li>
<li><span class="math inline">\(\langle J\circ f\rangle\geq J(\langle f\rangle)\)</span>; when <span class="math inline">\(J\)</span> is strictly
convex at <span class="math inline">\(\langle f\rangle\)</span>, there is equality iff <span class="math inline">\(f\)</span> is constant.</li>
</ol>
</div>
<p><em>Proof:</em> Fixing <span class="math inline">\(\langle f\rangle\)</span>, there exists a constant <span class="math inline">\(V\in \mathbb R\)</span>
such that
<span class="math display">\[
    J(\forall t)\geq J(\langle f\rangle) + V(t - \langle f\rangle)
    (\#eq:convexity)
\]</span>
This bounds the negative component (but not the positive one!)
<span class="math display">\[
    [J\circ f]_-(x) \leq |J(\langle f\rangle)| + |V||\langle f\rangle| + |V| |f(x)|
\]</span>
using <span class="math inline">\(\mu(\Omega)&lt;\infty\)</span>, this bounded function is integrable.
To obtain (2), integrate @ref(eq:convexity) for all <span class="math inline">\(t=f(x)\)</span>
<span class="math display">\[
    \langle J \circ f\rangle\geq J(\langle f\rangle) - V \langle f\rangle+ V\langle f\rangle
\]</span>
with <span class="math inline">\(J\)</span> strictly convex, the inequality is saturated
when <span class="math inline">\(\langle J\circ f\rangle= J(\langle f\rangle)\)</span>.</p>
<div class="theorem">
<p><span id="thm:unlabeled-div-75" class="theorem"><strong>(#thm:unlabeled-div-75) (Hölder's inequality) </strong></span>Given dual <span class="math inline">\(p, q\)</span> with <span class="math inline">\(p\geq 1\)</span>. Let <span class="math inline">\(f\in L^p(\Omega), g\in L^q(\Omega)\)</span>.
The pointwise product <span class="math inline">\(fg\in L^1(\Omega)\)</span> and
<span class="math display">\[
    \|fg\|_1 \leq \int_\Omega |f||g| \, d\mu \leq \|f\|_p \|g\|_q
\]</span></p>
</div>
<!--chapter:end:05-LpSpaces.Rmd-->
</div>
</div>
<div id="bibliography" class="section level1 unnumbered hasAnchor">
<h1 class="unnumbered hasAnchor">Bibliography<a href="#bibliography" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<!--chapter:end:99-Bibliography.Rmd-->
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-rudin1964principles" class="csl-entry">
Rudin, Walter et al. 1964. <em>Principles of Mathematical Analysis</em>. Vol. 3. McGraw-hill New York.
</div>
</div>
</div>
<!--bookdown:body:end-->
            </section>

          </div>
        </div>
      </div>
<!--bookdown:link_prev-->
<!--bookdown:link_next-->
    </div>
  </div>
<!--bookdown:config-->

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
