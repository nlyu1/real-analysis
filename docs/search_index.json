[["index.html", "Math 114 Notes Preface Motivation", " Math 114 Notes Nicholas Lyu 2024-10-05 Preface These notes accompany the Fall 2024 iteration of Math 114. Motivation Consider the space \\(\\mathcal C([a, b])\\) of functions on \\([a, b]\\) where \\(a, b\\) are bounded. Fact: If \\(\\{f_k\\}\\) is a sequence of functions in \\(\\mathcal C([a, b])\\) and \\(f_k\\to f\\) uniformly on \\([a, b]\\), then \\[ \\int_a^b |f_k(x)-f(x)|\\, dx \\to 0 \\] In other words, uniform convergence of functions imply convergence of integrals. However, the converse is not true. Topics in this course: Basic elements of measure theory: Lebesgue integration. \\(L^p\\)-spaces (gadget which captures Lebesgue integration) Fourier analysis, Hilbert spaces. Radon-Nikadym theorem and Hölder spaces (gadget which captures RN-theorem and differentiation). "],["prelimaries.html", "1 Prelimaries Topology Real analysis", " 1 Prelimaries Topology Compactness Proposition 1.1 A closed subset \\(A\\subset K\\) where \\(K\\) is compact, is compact. Proof: \\(V=K-A\\) is open (if \\(K\\) is a subset, then in the subsace topology), then for any \\(\\{U_j\\}\\) covering \\(A\\), \\(\\{U_j\\}\\cup \\{V\\}\\) will cover \\(K\\). Choose a finite subcover and remove \\(V\\) to obtain a finite subcover for \\(A\\). Proposition 1.2 A compact subset \\(K\\) of a Hausdorff space \\(X\\) is closed. Proof: We show that \\(X-K\\) is open: for each \\(y\\in X-K\\), use Hausdorff to construct a open covering \\(\\{(U_x, V_x)\\}_{x\\in K}\\) separating \\(x, y\\) such that \\(x\\in U_x, y\\in V_y\\). Choose a finite subset of \\((U_x)_{x\\in J\\subsetneq K}\\) covering \\(K\\), then \\(y\\in \\bigcap_{x\\in J} V_x \\subset X-K\\), so \\(X-K\\) is open. Proposition 1.3 (closed+bounded=compact) For \\(\\mathbb R^d\\), a set \\(A\\) is compact if and only if it is closed and bounded. Proof: Given compactness, choose a cover by unit-cube coverings, then \\(A\\subset [-R, R]^n\\), which is bounded. Closure follows from proposition 1.2. Conversely, given \\(A\\subset [-R, R]^n\\) and closed, it is a closed subset of a compact set, so it is compact by proposition 1.1 Lemma 1.1 (finite distance between compact and closed sets) If \\(F\\) is closed and \\(K\\) compact, and \\(F\\cap K = \\emptyset\\), then \\(d(F, K)&gt;0\\). Proof: By \\(F^c\\) open for each \\(x\\in K\\) choose \\(B(2\\delta_x, x)\\subset F^c\\). Choose an finite open subcover \\(\\{B_{\\delta_x, x}\\}_{x\\in [n]}\\) of \\(K\\), then \\(d(F, K) &gt; \\min_{x\\in [n]} \\delta_x\\). Proposition 1.4 (compactness and product) \\(X, Y\\) compact implies \\(X\\times Y\\) compact. Compactness and metrics Lemma 1.2 (continuity of distance) Given a metric space \\((X, d)\\) and a subset \\(Y\\subset X\\), the function \\(\\varphi:X\\to \\mathbb R\\) defined below is continuous: \\[ \\varphi(x) = \\inf_{y\\in Y} d(x, y) \\] Proof: The preimage operation commutes with arbitrary union and intersections, so it suffices to demonstrate this for open intervals \\(\\{(0, a)\\}\\cup \\{(b, \\infty)\\}\\), to show that \\[ \\varphi^{-1}((0, a)) = \\{ x\\in X: \\forall \\epsilon&gt;0, \\exists y\\in Y: d(x, y) &lt; a+\\epsilon \\} \\] is open, similarly for the other subbasis component. Standard argument is omitted. Lemma 1.3 (Lebesgue number lemma) Given a compact metric space \\((X, d)\\) and an open cover \\((U_j)\\) of \\(X\\), there \\(\\exists\\delta&gt;0\\) such that any subset of diameter \\(&lt;\\delta\\) is entirely contained in a single open set. Proof: Select a finite subcover \\(U_1\\cup \\cdots \\cup U_n\\) of \\(X\\). The function \\[ f(x) = \\min_j d(x, X-U_j) \\] is continuous on compact interval, thus achieves its min \\(\\delta\\). Connectedness Definition 1.1 (connected sets) A space \\(X\\) is connected if any of the following equivalent conditions are true: Every binary partition \\(U\\sqcup V=X\\) of \\(X\\) is trivial: \\(U\\) or \\(V=\\emptyset\\) and the other \\(X\\). The only subsets which are both open and closed in \\(X\\) is \\(\\emptyset, X\\). Real analysis Definition 1.2 (limit inferior) Given a countable sequence of reals \\((a_j)\\), the limit inferior is \\[ \\liminf_{n\\to \\infty} a_n = \\lim_{n\\to \\infty} g_n, \\quad g_n = \\inf_{k\\geq n} a_k \\] The counterpart \\(\\limsup\\) is defined similarly. Riemann integral Definition 1.3 (Riemann integral) Fix \\([a, b]\\) and a partition \\(a=x_0\\leq \\cdots \\leq x_n =b\\), define \\(\\Delta x_j = x_j - x_{j-1}\\) and \\[\\begin{align} M_j &amp;= \\sup f([x_{j-1} \\leq x\\leq x_j]), \\quad m_j = \\inf f([x_{j-1} \\leq x\\leq x_j]) \\\\ U(P, f) &amp;= \\sum_{j=1}^n M_j \\Delta x_j, \\quad L(P, f) = \\sum_{j=1}^n m_j \\Delta x_j \\end{align}\\] The upper and lower integrals are defined as \\[\\begin{align} \\bar{\\int}^b_a f\\, d\\alpha = \\inf U(P, f, \\alpha), \\quad \\underline{\\int}^b_a f\\, d\\alpha = \\sup L(P, f, \\alpha) \\end{align}\\] "],["exterior-measure-σ-algebra.html", "2 Exterior measure, σ-algebra Initial attempt at defining a measure The exterior measure σ-algebra, monotone class theorem Disjoint additivity on Borel sets", " 2 Exterior measure, σ-algebra What are the measures of boundaries? Are measures preserved under closures and interiors? How to establish additivity when one of the sets is open, or closed? First recall some topological definitions: A point \\(x=(x_j)\\in \\mathbb R^d\\) consists of \\(d\\) real-numbers. The norm \\(|x|\\) of \\(x\\) equals \\((\\sum x_j^2)^{1/2}\\). The distance between two points is is \\(|x-y|\\). The distance between two sets is \\(d(E, F)=\\inf|x-y|\\). A set \\(E\\) is bounded if it is contained in some ball of finite radius. A bounded set is compact if it is also closed. A point \\(x\\) is a limit point of the set \\(E\\) if \\(\\forall r&gt;0, B_r(x)\\cap E\\neq \\emptyset\\). \\(x\\in E\\) is isolated if \\(\\exists r&gt;0: B_r(x)\\cap E=\\{x\\}\\). \\(x\\in E\\) is an interior point if \\(\\exists r&gt;0: B_r(x)\\subset E\\). The boundary \\(\\partial E = \\bar E - \\mathrm{Int}(E)\\). A closed set \\(E\\) is perfect if it does not have any isolated points. Organization: Our first attempt at defining a measure is: We can partition any shape into the countable union of closed cubes, for each of which we individually know how to measure. However, it is not immediately apparant that this measure is independent of our choice of partition. To formalize the intuition, we introduce the exterior measure, which is the smallest “cover” of the object by closed cubes. We show that it satisfies monotonicity and countable subadditivity and agrees with our initial definition. However, there are disjoint sets on which the exterior measure is not additive. In fact, one can show that there exists no additive measure on all subsets of \\(\\mathbb R\\). This motivates us to introduce the \\(\\sigma\\)-algebra, as well as the Borel set, which formalizes the notion of “well-behaved subsets of \\(\\mathbb R^n\\)”. Remarks: \\(\\sigma\\)-algebras are closed under countable elementary set operations (complement, union, intersection), all of which commute with function pre-images. The Borel algebra is freely generated by open sets. To show measurability it suffices to show that preimages of generators. \\(\\sigma\\)-algebra and Borel sets are so defined so that measurability is compatible with composition, limits, \\(\\sup\\), \\(\\inf\\), as well as implied by continuity (and semi-continuity). Monotone class theorem: the transfinite construction of a freely generated \\(\\sigma\\)-algebra is simplified as the monotone limit of the freely generated algebra. Initial attempt at defining a measure Definition 2.1 (closed rectangle) A rectangle \\(R\\) in \\(\\mathbb R^d\\) is of the form \\[ R = \\prod_{j=1}^d [a_j, b_j], \\quad a_j\\leq b_j\\in \\mathbb R \\] Its volume is \\(|R| = \\prod (b_j-a_j)\\). An open rectangle consists of open intervals. A union of rectangles is almost disjoint if the interiors are disjoint. Lemma 2.1 If a rectangle is the almost-disjoint union of finitely many other rectangles \\(R=\\bigcup_{k=1}^N R_k\\), then \\[ |R| = \\sum_{k=1}^N |R_k| \\] Proof: Consider the grid formed by extending indefinitely the sides of all rectangles. This yields finitely many rectangles \\((\\tilde R_j)_{1\\leq j\\leq M}\\) and a partition \\(J_1, \\cdots, J_n\\) of the integers between \\(1\\) and \\(M\\) such that \\[ R = \\bigcup_{j=1}^M \\tilde R_j, \\quad R_k = \\bigcup_{j\\in J_k} \\tilde R_j, \\quad k\\in [N] \\] This finer grid partitions the sides of \\(R\\), so \\[ |R| = \\sum_{j=1}^M |\\tilde R_j| = \\sum_{k=1}^N \\sum_{j\\in J_k}|\\tilde R_j| = \\sum_{k=1}^N |R_k| \\] This extends to the following lemma: Lemma 2.2 Given rectangles \\(R, R_1, \\cdots, R_N\\) such that \\(R\\subset \\bigcup_{k=1}^N R_k\\), then \\[ |R| \\leq \\sum_{k=1}^N |R_k| \\] Theorem 2.1 Every open subset \\(\\mathcal O\\) of \\(\\mathbb R\\) can be written uniquely as a countable union of disjoint open intervals. Proof For each \\(x\\in \\mathcal O\\), let \\(I_x\\) be the largest interval containing \\(x\\), in turn contained in \\(\\mathcal O\\) \\[ I_x = (a_x, b_x), \\quad a_x = \\inf\\{a&lt;x: (a, x)\\subset \\mathcal O\\}, \\quad b_x = \\sup\\{b&gt;x:(x, b)\\subset \\mathcal O\\} \\] Then \\(O = \\bigcup_x I_x\\). The collection \\(\\mathcal I = \\{I_x\\}_{x\\in \\mathcal O}\\) must be disjoint (if they overlap they must be equal). There are countably many countably many distinct intervals: every distinct interval contains a distinct rational number, and there are only countably many rational numbers. Theorem 2.2 (an open set is a countable union of almost-disjoint cubes) Every open subset \\(\\mathcal O\\) of \\(\\mathbb R^{d\\geq 1}\\) is a countable union of almost disjoint closed cubes. Proof: Consider a grid \\(\\mathcal Q_0\\) in \\(\\mathbb R^d\\) formed by taking all closed cubes of side length \\(1\\). We accept a cube \\(Q\\) only if \\(Q\\subset \\mathcal O\\), tentatively accept it if \\(\\mathcal O, \\mathcal O^c\\) both intersect \\(Q\\), and reject if \\(Q\\subset \\mathcal O^c\\). We can inductively partition the tentatively accepted cubes. This procedure is repeated indefinitely, and the resulting collection \\(\\mathcal Q\\) of accepted cubes is countable and consists of almost disjoint cubes. To see why the resulting set is countable, each grid can be indexed by stage-number and its index in the stage, and both are finite. Their union is \\(\\mathcal O\\): given \\(x\\in \\mathcal O\\) there is a cube of side length \\(2^{-N}\\), for some \\(N\\), that contains \\(x\\) and is entirely contained in \\(\\mathcal O\\). Remark. This is an interesting construction which coincides with our intuition. However, the decomposition of \\(\\mathcal O\\) into countable union of disjoint open intervals is not unique, and it is nonapparant that the “volume” defined by each are equivalent. Instead, we can define measure in terms of the inf of covering cubes, then demonstrate equivalence with the definition above. See proposition 2.5. The exterior measure Definition 2.2 (exterior measure) The exterior measure \\(\\mu_*(E)\\) of any subset \\(E\\subset \\mathbb R^d\\) is \\[ \\mu_*(E) = \\inf \\sum_{j=1}^\\infty |Q_j| \\] where the \\(\\inf\\) is over all countable coverings of \\(E\\) by closed rectangles. Proposition 2.1 (monotonicity) \\(E_1\\subset E_2\\implies \\mu_*(E_1)\\leq \\mu_*(E_2)\\) Proof: Every covering of \\(E_2\\) by a countable set of cubes is also a covering of \\(E_1\\). Proposition 2.2 (countable sub-additivity) \\(E=\\bigcup_{j=1}^\\infty E_j\\implies \\mu_*(E)\\leq \\sum_{j=1}^\\infty \\mu_*(E_j)\\) Proof: Idea is to construct increasingly tight open covers such that the countable union of these covers is still finitely tight. Assume the nontrivial case \\(\\mu_*(E_j)&lt;\\infty\\). For every \\(\\epsilon&gt;0\\), we can construct for each \\(j\\) a covering \\[ E_j\\subset \\bigcup_{k=1}^\\infty Q_{k, j}, \\quad \\sum_{k=1}^\\infty |Q_{k, j}| \\leq \\mu_*(E_j) + \\dfrac{\\epsilon}{2^j} \\] The increasingly tight bound ensures that \\[\\begin{align} \\mu_*(E) &amp;\\leq \\sum_{j, k}|Q_{k, j}| \\leq \\sum_{j=1}^\\infty \\mu_*(E_j) + \\dfrac\\epsilon {2^j} = \\sum_{j=1}^\\infty \\mu_*(E_j)+\\epsilon \\end{align}\\] Proposition 2.3 (equivalence with open cover infimum) Given \\(E\\subset \\mathbb R^d\\), \\(\\mu_*(E)=\\inf \\mu_*(\\mathcal O)\\), where \\(\\inf\\) is over all open sets \\(\\mathcal O\\) covering \\(E\\). Proof: \\(\\mu_*(E)\\leq \\inf \\mu_*(\\mathcal O)\\) holds by monotonicity. For the other direction, choose cubes \\(Q_j\\) covering \\(E\\) with margin \\(\\epsilon/2\\), and for each cube choose open cube \\(O_j\\) covering \\(Q_j\\) with margin \\(\\epsilon/2^{j+1}\\), then \\((O_j)\\) cover \\(E\\) with margin \\(\\epsilon\\). Proposition 2.4 (additivity with finite distance) If \\(E=E_1\\cup E_2\\) and \\(d(E_1, E_2)&gt;0\\), then \\[ \\mu_*(E) = \\mu_*(E_1)+\\mu_*(E_2) \\] Proof: By subadditivity, \\(\\mu_*(E)\\leq \\mu_*(E_1)+\\mu_*(E_2)\\). To show the converse, select \\(0&lt;\\delta &lt; d(E_1, E_2)\\) and choose a cover \\((Q_j)\\) of \\(E\\) by closed cubes with margin \\(\\epsilon\\). Subdivide \\((Q_j)\\) so that each has size less than \\(\\delta\\), so that each cube intersects at most one of \\(E_1, E_2\\). Denote by \\(J_1, J_2\\) the indices for which \\(Q_j\\) intersects \\(E_1, E_2\\), then \\(E_1, E_2\\) are covered by \\(Q_{J_1}, Q_{J_2}\\) respectively. Proposition 2.5 (equivalence with intuitive definition) If \\(E\\) is the countable union of almost disjoint cubes \\(\\{Q_j\\}\\), then \\[ \\mu_*(E) = \\sum_{j=1}^\\infty |Q_j| \\] The forward direction \\(\\mu_*(E)\\leq \\cdots\\) follows from countable sub-additivity 2.2. For the other direction, for arbitrary \\(\\epsilon&gt;0\\), construct for each cube \\(Q_j\\) a sub-cube \\(\\tilde Q_j\\subsetneq Q_j\\) such that \\(|Q_j| \\geq |\\tilde Q_j|-\\epsilon/2^j\\), then \\(\\{\\tilde Q_j\\}\\) are fully disjoint and the following holds for all \\(\\epsilon\\): \\[ \\mu_*\\left(\\bigcup \\tilde Q_j\\right) = \\sum_{j=1}^\\infty |Q_j| - \\epsilon \\leq \\mu_*(E) \\] σ-algebra, monotone class theorem Definition 2.3 (algebra of sets) A collection \\(\\mathcal A\\) of sets is an algebra of sets if it is closed under finite union and differences: \\[ A, B\\in \\mathcal A\\implies A\\cup B, A-B, B-A\\in \\mathcal A \\] Definition 2.4 (σ-algebra) Given a set \\(X\\), \\(\\mathcal S\\subset 2^X\\) is a \\(\\sigma\\)-algebra on \\(X\\) if: \\(\\emptyset\\in \\mathcal S\\). Closure under complement: \\(E\\in \\mathcal S\\implies X-E\\in \\mathcal S\\). Closure under countable union: \\(\\{E_j\\}\\in \\mathcal S\\implies \\bigcup_{k=1}^\\infty E_k \\in \\mathcal S\\). Proposition 2.6 (derived properties of σ-algebras) Given a \\(\\sigma\\)-algebra \\(\\mathcal S\\) on \\(X\\), then \\(X\\in \\mathcal S\\). Closure under finite union, intersection, and difference: \\[ D, E\\in \\mathcal S\\implies D\\cup E, D\\cap E, D-E\\in \\mathcal S \\] \\(E_1, \\cdots\\in \\mathcal S\\implies \\bigcap_{k=1}^\\infty E_k \\in \\mathcal S\\) Proof: (1) follows from \\(X=X-\\emptyset\\). (2) follows from \\(D\\cap E = (X-D)\\cup (X_E)\\) and \\(D-E=(D\\cap E)\\cup E\\). (3) follows from \\(\\bigcap_{k=1}^\\infty E_k = X - \\bigcup_{k=1}^\\infty (X-E_k)\\). Example 2.1 Given any set \\(X\\), both \\(\\{\\emptyset, X\\}\\) and \\(2^X\\) are \\(\\sigma\\)-algebras on \\(X\\). The set of all subsets \\(E\\) such that \\(E\\) is countable or \\(X-E\\) countable is a \\(\\sigma\\)-algebra (countable union of countable set is countable, else if one element’s complement is countable, then the union’s complement is countable, too). Remark. A \\(\\sigma\\)-algebra on \\(X\\) is a subset of \\(2^X\\) that contains \\(\\emptyset\\) and is closed under countable union. Compare to a topology on \\(X\\), which is a subset of \\(2^X\\) that contains \\(\\emptyset, X\\), and is closed under arbitrary unions and finite intersections. Definition 2.5 (measurable space, measurable set) A measurable space is a pair \\((X, \\mathcal S)\\) where \\(\\mathcal S\\) is a \\(\\sigma\\)-algebra on \\(X\\). \\(S\\subset X\\) is \\(\\mathcal S\\)-measurable iff \\(S\\in \\mathcal S\\). Proposition 2.7 (freely generated σ-algebra) Given a set \\(X\\) and \\(\\mathcal A\\subset 2^X\\), the intersection of all \\(\\sigma\\)-algebras \\(\\mathcal S\\) on \\(X\\) such that \\(\\mathcal A\\subset \\mathcal S\\) is a \\(\\sigma\\)-algebra on \\(X\\). In other words, every subset \\(A\\subset 2^X\\) freely generates a \\(\\sigma\\)-algebra \\(\\sigma_{\\mathrm{Alg}}(A)\\) on \\(X\\). Proof: There is at least one \\(\\sigma\\)-algebra \\(\\mathcal S=2^X\\) containing \\(\\mathcal A\\). Let \\(\\mathcal S\\) be the intersection, then \\(\\emptyset\\in \\mathcal S\\); the other two properties are well-behaved under intersection. Definition 2.6 (product σ-algebra) The product \\(\\sigma\\)-algebra is the smallest \\(\\sigma\\)-algebra containing all rectangles. \\[ \\Sigma = \\sigma_{\\mathrm{Alg}}(\\Sigma_1\\times \\Sigma_2) = \\sigma_{\\mathrm{Alg}}\\left(\\{ A_1\\times A_2 | A_1\\in \\Sigma_1, A_2\\in \\Sigma_2 \\}\\right) \\] where here \\(\\Sigma_1\\times \\Sigma_2\\) denotes the Cartesian product of sets. The product measure \\(\\mu = \\mu_1\\times \\mu_2\\) is Proposition 2.8 (section property of product algebra) The product \\(\\sigma\\)-algebra \\(\\Sigma = \\Sigma_1\\times \\Sigma_2\\) has the section property: \\(\\forall A\\in \\Sigma\\) and define \\[ A_1(x_2)\\in \\Omega_1 = \\{x_1\\in \\Omega_1: (x_1, x_2)\\in A\\} \\] then \\(A_1(x_2)\\in \\Sigma_1\\) for every choice of \\(x_2\\). Proof: The set \\(\\Sigma&#39;\\) of all subsets of \\(\\Omega_1\\times \\Omega_2\\) (regarded as Cartesian product of sets) satisfying the section property is a \\(\\sigma\\)-algebra containing \\(\\Sigma_1\\times \\Sigma_2\\); the proof concludes by the universal property of \\(\\Sigma_1\\times \\Sigma_2\\). Definition 2.7 (monotone class) A monotone class \\(\\mathcal M\\) is a set of sets with the following properties: \\[\\begin{align} A_1, \\cdots \\in \\mathcal M, \\quad A_j\\nearrow A &amp;\\implies A\\in \\mathcal M \\\\ A_1, \\cdots \\in \\mathcal M, \\quad A_j\\searrow A &amp;\\implies A\\in \\mathcal M \\end{align}\\] Theorem 2.3 (monotone class theorem) Given a set \\(\\Omega\\) and an algebra (definition 2.3) of subsets of \\(\\Omega\\) such that \\(\\Omega, \\emptyset\\in \\mathcal A\\). Then the smallest monotone class \\(\\mathcal S\\) containing \\(\\mathcal A\\) is equal to \\(\\sigma_{\\mathrm{Alg}}(\\mathcal A)\\). Proof: The smallest monotone class \\(\\mathcal M\\) containing \\(\\mathcal A\\) is the intersection of all monotone classes containing \\(\\mathcal A\\). Now, if \\(\\mathcal S\\) is closed under complement and finite unions, then for any \\(A_1, \\cdots\\), the sequence \\[ \\left(B_j = \\bigcup_{k=1}^j A_j \\in \\mathcal M\\right) \\nearrow \\bigcup_{j=1}^\\infty A_j \\in \\mathcal M \\] Together with complements, this will show that \\(\\mathcal M\\) is a \\(\\sigma\\)-algebra; then \\(\\mathcal M\\) is the minimal \\(\\sigma\\)-algebra since every \\(\\sigma\\)-algebra is a monotone class. To show that \\(\\mathcal M\\) is indeed closed under complement and finite union, argue for every set \\(A\\in \\mathcal M\\) that the set \\(C(A)\\) of all sets which stays within \\(\\mathcal M\\) under complement (or union) is a monotone class; by the algebraic property of \\(\\mathcal A\\) we have \\(A\\in C(A)\\subset C(A)=\\mathcal M\\), which shows that \\(A\\) is closed under complement and finite union. Disjoint additivity on Borel sets We will next show that the exterior measure is additive on Borel sets. Definition 2.8 (Borel subset, Borel set) The smallest \\(\\sigma\\)-algebra on \\(\\mathbb R^n\\) containing all open subsets of \\(\\mathbb R^n\\) is the collection of Borel subsets. This \\(\\sigma\\)-algebra is called the Borel set. \\[ \\mathcal B = \\sigma_{\\mathrm{Alg}}(\\text{open intervals}) \\] Lemma 2.3 (invariance of outer-measure under interior and closure) For any set \\(A\\), \\(\\mu_*(A) = \\mu_*(\\mathrm{Int}(A)) = \\mu_*(\\bar A)\\). Proof: For every \\(\\epsilon&gt;0\\), we can (resp. expand) each element of the cover for \\(A\\) by \\(\\epsilon/2^j\\) so that they cover $ Lemma 2.4 (additivity conditions for outer measure) Let \\(A\\) and \\(G\\) be disjoint subsets of \\(\\mathbb R^n\\), then \\(\\mu_*(A\\cup G) = \\mu_*(A) + \\mu_*(G)\\) if \\(G\\) is open or closed. TODO Theorem 2.4 (additivity of outer measure if one of the sets is a Borel set) Given \\(B\\in \\mathcal B\\) and arbitrary \\(A\\), then \\[ \\mu_*(A\\sqcup B) = \\mu_*(A)+\\mu_*(B) \\] Proof: Choose a closed \\(\\epsilon\\)-coveree of \\(B\\) so \\(|B-(F\\subset B)|&lt;\\epsilon\\), then \\[ \\mu_*(A\\sqcup B) \\geq \\mu_*(A) + \\mu_*(F) = \\mu_*(A) + \\mu_*(B) - \\mu_*(B-F) \\geq \\mu_*(A) + \\mu_*(B) - \\epsilon \\] The other direction follows from countable additivity. "],["measure.html", "3 Measure Measurable functions Measures and uniqueness Lebesgue Measure Simple functions Littlewood’s three principles", " 3 Measure Key takeaways: A measure on a space is a specification of the well-behaved, measurable set (\\(\\sigma\\)-algebra), together with a function which assigns a measure value to each measurable set. The preimage-operation commutes with all closure operations of the \\(\\sigma\\)-algebra. The Lebesgue measure is simply the exterior measure on Borel sets of \\(\\mathbb R^n\\). The key desired property of a measure is countable additivity under disjoint unions. Measurable functions Proposition 3.1 (measurable function) Given a measurable space \\((X, \\mathcal S)\\). A function \\(X\\to \\mathbb R^n\\) is \\(\\mathcal S\\)-measurable if \\(f^{-1}(B) \\in \\mathcal S\\) for every Borel set \\(B\\subset \\mathbb R^n\\). Proposition 3.2 (algebra of inverse images) The inverse image operation commutes with elementary algebraic operations: given \\(f:X\\to Y\\), then \\(f^{-1}(Y-A) = X - f^{-1}(A)\\). \\(f^{-1}(\\bigcup_{A\\in \\mathcal A} A) = \\bigcup_{A\\in \\mathcal A} f^{-1}(A)\\). \\(f^{-1}(\\bigcap_{A\\in \\mathcal A} A) = \\bigcap_{A\\in \\mathcal A} f^{-1}(A)\\). Example 3.1 If \\(\\mathcal S=\\{\\emptyset, X\\}\\), then the only \\(\\mathcal S\\)-measurable functions from \\(X\\to \\mathbb R^n\\) are constant functions. On the other extreme, if \\(\\mathcal S=2^X\\), then every function is measurable. For a nontrivial example, if \\(\\mathcal S=\\{\\emptyset, (-\\infty, 0), [0, \\infty), \\mathbb R\\}\\) then \\(f:\\mathbb R\\to \\mathbb R\\) is measurable iff it is constant on \\((-\\infty, 0), [0, \\infty)\\). Definition 3.1 (characteristic function) Given \\(E\\subset X\\), the characteristic function \\(\\chi_E:X\\to \\mathbb R\\) is \\[ \\chi_E(x) = \\begin{cases} 1 &amp; x\\in E \\\\ 0 &amp; x\\notin E \\end{cases} \\] Proposition 3.3 (property of characteristic function) Given \\((X, \\mathcal S), E\\subset X\\), then \\(\\chi_E\\) is \\(\\mathcal S\\)-measurable iff \\(E\\in \\mathcal S\\). Proof: \\(\\chi_E^{-1}(B) = \\{E, X-E, X, \\emptyset\\}\\) depending on how \\(B\\subset \\mathbb R\\) intersects with \\(\\{0, 1\\}\\). Proposition 3.4 (condition for measurable function) For every set of subset \\(\\mathcal A\\subset 2^{\\mathbb R^n}\\) that generates the Borel sets \\[ \\sigma_{\\mathrm{Alg}}(\\mathcal A) = \\mathrm{Borel} \\] given a measurable space \\((X, \\mathcal S)\\) and function \\(f:X\\to \\mathbb R^n\\), \\[ f^{-1}(A) \\in \\mathcal S, \\quad \\forall A\\in\\mathcal A \\implies f \\quad \\mathcal S\\text{-measurable}. \\] Proof: Given \\(\\mathcal A, f\\), consider the subsets whose preimage are measurable \\[ \\mathcal T = \\{B\\subset \\mathbb R^n| f^{-1}(B)\\in \\mathcal S\\} \\supset \\mathcal T \\] It suffices to show that \\(\\mathrm{Borel}\\subset \\mathcal T\\). To do so, note that \\(\\mathcal T\\) is a \\(\\sigma\\)-algebra by the well-behavior of set operations under preimage: \\(\\emptyset = f^{-1}(\\emptyset) = \\emptyset \\in \\mathcal S\\). For complement, given \\(B\\in \\mathcal T: f^{-1}(\\mathbb R^n-B) = X-f^{-1}(B) \\in \\mathcal S\\); similarly for countable union. In other words, the preimage of measurable sets form a \\(\\sigma\\)-algebra. Proposition 3.5 (continuity implies Borel measurability) Every continuous function \\(f:X\\to \\mathbb R^n\\) defined on a Borel subset \\(X\\subset \\mathbb R^m\\) is a Borel-measurable function. Proof: Consider the preimage of \\(x&gt;a\\) (\\(x, a\\in \\mathbb R^n\\) and inequality holds elementwise). For any such \\(a\\), consider \\[ f^{-1}(x&gt;a) = \\left[\\bigcup_{x\\in f^{-1}(x&gt;a)} (x-\\delta_x, x+\\delta_x) \\right]\\cap X \\] Given every \\(x\\in \\mathbb R^m: f(x)&gt;a\\), by continuity \\(\\exists \\delta_x\\in \\mathbb R\\) such that \\(f((x-\\delta_x, x+\\delta_x))&gt;a\\). The term in the paranthesis is an open set, hence its intersection with the Borel set \\(X\\) is Borel. Proposition 3.6 (composition preserves measurability) Given measurable \\(f:(X, \\mathcal S)\\to \\mathbb R^n\\) and \\(g:\\mathbb R^n\\to \\mathbb R^m\\) measurable, then \\(g\\circ f\\) is \\(\\mathcal S\\)-measurable. Proof: Evident from the definition of measurability. \\(f:(X\\subset \\mathbb R)\\to \\mathbb R\\) is increasing if \\(x &lt; y\\implies f(x)\\leq f(y)\\); it is monotonic if \\(f\\) or \\(-f\\) is increasing. Proposition 3.7 if \\(f:X\\to \\mathbb R\\) is monotonic and \\(X\\) is Borel, then \\(f\\) is measurable. Proof: Fix \\(a\\in \\mathbb R\\), then for \\(b=\\inf f^{-1}((a, \\infty))\\), monotonicity implies \\[ f^{-1}((a, \\infty)) = (b, \\infty)\\cap X \\text{ or } [b, \\infty)\\cap X \\] Proposition 3.8 (preservation of measurability under limits) Suppose \\(\\{f_j\\}\\to f:(X, \\mathcal S)\\to \\mathbb R^n\\) point-wise each \\(f_j\\) is \\(\\mathcal S\\)-measurable, then \\(f\\) is \\(\\mathcal S\\)-measurable. Proof: Unrolling the definition of the limit: for any \\(x\\in X, a\\in \\mathbb R^n\\), \\(f(x)&gt;a\\) iff \\[\\begin{align} &amp; \\lim_{k\\to \\infty} f_k(x) &gt; a \\\\ \\iff &amp; \\exists j&gt;0, \\exists N: f_{\\forall k&gt;N}(x)&gt;a+1/j \\\\ \\iff &amp; x\\in \\bigcup_{j=1}^\\infty \\bigcup_{N=1}^\\infty \\bigcap_{k=1}^\\infty f_k^{-1}(y&gt;a+1/j) \\end{align}\\] Note that we only need some \\(j\\) to exist. Each \\(\\exists\\) translates to \\(\\bigcup\\), and each \\(\\forall\\) translates to \\(\\bigcap\\). Then the preimage of \\(y&gt;a\\) the measurable set above. Definition 3.2 (extended Borel) \\(A\\subset [-\\infty \\infty]\\) is a Borel set if \\(A\\cap \\mathbb R\\) is Borel. Extended measurability is defined similarly. Theorem 3.1 (variational limits are measurable) Given measurable \\(\\{f_k: (X, \\mathcal S)\\to \\mathbb R\\}\\), the following functions are also measurable: \\[ g(x) = \\inf_k f_k(x), \\quad h(x) = \\sup_k f_k(x) \\] Proof: It suffices to verify for the \\(\\sup\\) case that \\[\\begin{align} h(x) &gt; a &amp;\\implies \\exists k: f_k(x) &gt; a \\\\ h^{-1}((a, \\infty]) &amp;= \\bigcup_{k=1}^\\infty f_k^{-1}((a, \\infty]) \\end{align}\\] Proposition 3.9 (a.e. measurability) Given \\(f\\) measurable and \\(f=g\\) a.e. (they differ on a set of measure \\(0\\) on the domain), then \\(g\\) is measurable. Proof: Let \\(\\{\\mathcal A\\}\\) be a subbasis generating the measurable sets, then \\(\\forall A\\in \\mathcal A\\), the symmetric difference of pre-images \\(f^{-1}(A), g^{-1}(A)\\) is dominated by a set of measure \\(0\\); by measurability \\(g^{-1}(A)\\) is measurable, so \\(f^{-1}(S)\\) is also measurable. Some notations are convenient: Definition 3.3 (sequence of sets) An increasing sequence of sets \\(\\{A_n\\}\\) is a sequence \\[ A_1\\subset A_2\\subset \\cdots \\to A = \\bigcup_{n=1}^\\infty A_n \\] also written \\(A_j\\nearrow A\\). Similarly, a decreasing sequence of sets is written \\(A_j\\searrow A\\). \\[ A_1\\supset A_2\\supset \\cdots \\to A = \\bigcap_{n=1}^\\infty A_n \\] Measures and uniqueness Definition 3.4 (measure, measure space) Given a measurable space \\((X, \\mathcal S)\\), a measure on \\((X, \\mathcal S)\\) is a function \\(\\mu:\\mathcal S\\to [0, \\infty]\\) with \\[ \\mu \\left(\\bigsqcup_{k=1}^\\infty E_k\\right) = \\sum_{k=1}^\\infty \\mu(E_k), \\quad \\mu(\\emptyset) = 0 \\] for every disjoint sequence \\(\\{E_j\\} \\in \\mathcal S\\). A measure space is an ordered triple \\((X, \\mathcal S, \\mu)\\). Proposition 3.10 (elementary properties of measures) Given a measure space \\((X, \\mathcal S, \\mu)\\) and \\(D\\subset E\\in \\mathcal S\\): \\(\\mu(D) \\leq \\mu(E)\\). \\(\\mu(E - D) = \\mu(E) - \\mu(D)\\). Proposition 3.11 (measure of nested union) Under a measure space \\((X, \\mathcal S, \\mu)\\) with a nested chain \\(E_1\\subset E_2\\subset \\cdots\\), we have \\(\\mu \\bigcup_{j=1}^\\infty E_j = \\lim_{j\\to \\infty} \\mu(E_j)\\). Proof: Only consider the case \\(\\mu(E_k) &lt; \\infty\\) and define \\(E_0=\\emptyset\\), then \\(\\bigcup_{j=1}^\\infty E_j = \\bigsqcup_{j=1}^\\infty E_j - E_{j-1}\\). Using the disjoint union additivity \\[\\begin{align} \\bigcup_{j=1}^\\infty E_j &amp;= \\sum_{j=1}^\\infty \\mu(E_j - E_{j-1}) = \\lim_{k\\to \\infty} \\sum_{j=1}^k \\mu(E_j) - \\mu(E_{j-1}) = \\lim_{k\\to \\infty} \\mu(E_k) \\end{align}\\] Considering the dual, we have Corollary 3.1 (measure of nested intersection) Under a measure space \\((X, \\mathcal S, \\mu)\\) with a nested chain \\(E_1\\supset E_2\\supset \\cdots\\), we have \\(\\mu \\bigcap_{j=1}^\\infty E_j = \\lim_{j\\to \\infty} \\mu(E_j)\\). Definition 3.5 (σ-finiteness) A measure space \\((X, \\Sigma, \\mu)\\) is \\(\\sigma\\)-finite if there are countably many sets \\(A_1, \\cdots\\) such that \\[ \\mu(A_{\\forall j}) &lt; \\infty, \\quad X = \\bigcup_j A_j \\] with \\(\\sigma\\)-finiteness, w.l.o.g. we can prove \\(A_j\\) to be disjoint. Definition 3.6 (product measures) The product of two measure spaces is \\[ (\\Omega_1\\times \\Omega_2, \\Sigma_1\\times \\Sigma_2, \\mu_1\\times \\mu_2) = (\\Omega_1, \\Sigma_1, \\mu_1)\\times (\\Omega_2, \\Sigma_2, \\mu_2) \\] where \\(\\Omega_1\\times \\Omega_2\\) is the Cartesian product of sets, \\(\\Sigma_1\\times \\Sigma_2\\) is the \\(\\sigma\\)-algebra product 2.6, and \\(\\mu_1\\times \\mu_2\\) is uniquely defined by the requirement \\[ \\mu(A_1\\times A_2) = \\mu_1(A_1) \\mu_2(A_2) \\] Lebesgue Measure Definition 3.7 (Lebesgue measurable sets) The set \\(\\mathcal L\\) of sets which are \\(\\epsilon\\)-approximable from below by closed sets are called Lebesgue measurable sets. Proposition 3.12 (properties of Lebesgue measurable sets) \\(\\mathcal B\\subset \\mathcal L\\), and \\(\\mathcal L\\) is a \\(\\sigma\\)-algebra. Proof: Note that \\(\\mathcal L\\) contains all closed sets, we just need to show that \\(\\mathcal L\\) is a \\(\\sigma\\)-algebra: by taking complements we will show that it contains all open sets. Proof is by standard argument, omitted. In particular, this shows that every Lebesgue-measurable set is almost Borel: i.e. there exists a Borel set which differs from it by a set of measure \\(0\\). Definition 3.8 (Lebesgue measurable set) \\(A\\subset \\mathbb R^n\\) is Lebesgue measurable if it is almost a Borel set, i.e. \\(\\exists B\\in \\mathcal B\\) such that \\(B\\subset A, \\mu_*(A-B)=0\\). Remark (distinction between subset and unions). Let \\(\\mathcal C\\) denote the Cantor set, then \\(\\mathcal C/2 + \\mathcal C/2=[0, 1]\\). This does not contradict subadditivity because sumsets are in general much larger than unions. Theorem 3.2 (characterization of Lebesgue measurable sets) The following conditions are equivalent: Non-measurable set Write \\(x\\sim y\\) if \\(x-y\\) is rational and let \\(\\mathcal E_\\alpha\\) be the equivalence class of \\(\\alpha\\). Then \\([0, 1]=\\bigcup \\mathcal E_\\alpha\\) and construct \\(\\mathcal N\\) by choosing one element \\(x_\\alpha\\) from each \\(\\mathcal E_\\alpha\\). Proposition 3.13 \\(\\mathcal N\\) is not measurable. Proof: Assume \\(\\mathcal N\\) measurable and let \\(\\{r_k\\}_{k=1}^\\infty\\) be an enumeration of all rationals in \\([-1, 1]\\) and consider \\(\\mathcal N_k = \\mathcal N + r_k\\). Then all \\(\\{\\mathcal N_k\\}\\) are disjoint. Note that \\[ [0, 1] \\subset \\bigsqcup_{k=1}^\\infty \\mathcal N_k \\subset [-1, 2] \\] Assuming measurability (contradiction!), we have \\[ 1\\leq \\sum_{k=1}^\\infty \\mu(\\mathcal N_k) \\leq 3 \\] Every term in the sum is equal, but there is no real number which satisfies the construction above; contradiction: there cannot be a disjoint-additive function on the disjoint countable collection \\(\\{\\mathcal N_k\\}\\). Simple functions Definition 3.9 (simple function) A simple function is a finite sum \\[ f = \\sum_{k=1}^N a_k \\chi_{E_k} \\] where each \\(E_k\\) is a finite-measurable set. The following proof is from Ch. 11 of (Rudin et al. 1964). Theorem 3.3 (simple-function approximation) Given a real function \\(f:X\\to \\mathbb R\\), there exists a sequence \\(\\{s_n\\}\\) of simple functions such that \\(s_n(x)\\to f(x)\\) point-wise. If \\(f\\) is measurable, then \\(\\{s_n\\}\\) may be chosen to be a sequence of measurable functions. If \\(f\\geq 0\\), then \\(\\{s_n\\}\\) may be chosen to be a monotonically increasing sequence. Proof: Given \\(f\\geq 0\\), define \\(F_n = f^{-1}([n, \\infty))\\) and \\[ E_{n, i} = f^{-1} \\left(\\left[2^{-n}(i-1), 2^{-n}i \\right]\\right) \\] For \\(n=1, 2, \\cdots\\) and \\(i=1, 2, \\cdots, n2^n\\), choose \\[ s_n = n\\chi_{F_n} + \\sum_{i=1}^{n2^n} \\dfrac{i-1}{2^n} \\chi_{E_{n, i}} \\] Note that \\(E_{n, i}\\) is the pre-image of the \\(i\\)-th slice of nonnegative real blocks of size \\(2^{-n}\\), and the first term assigns \\(\\inf f=2^{-n}(i-1)\\) on the corresponding intervals. The second term just assigns approximates with \\(n\\) all places where \\(f(x)\\geq n\\). The second term is reserved for cases where \\(f(x)=\\infty\\). In short: In the \\(n\\)-th approximation, approximate \\(f\\) up to value \\(n\\). Divide \\(f^{-1}([0, n])\\) into \\(2^{-n}\\) pieces and assign a dominated simple function. Approximate the rest simply with \\(n\\). If \\(f\\) is measurable, the domains of the characteristic decomposition are measurable so \\(s_n\\) is measurable. The general case follows by \\(f=f^+-f^-\\). Littlewood’s three principles Littlewood’s three principles are: Every finite-measurable set is almost a finite union of intervals. Every measurable function is almost continuous. Every pointwise convergent sequence of measurable functions is almost uniformly convergent. To be precise, the third principle is formulated as follows: Theorem 3.4 (Egorov's theorem) Given a a measurable sequence \\((f_k)\\) on a finite-measurable set \\(E\\) with \\(\\mu(E)&lt;\\infty\\) such that \\(f_k\\to f\\) a.e. on \\(E\\). For every \\(\\epsilon&gt;0\\), there exists a closed set \\(A_\\epsilon \\subset E\\) such that \\(\\mu(E-A_\\epsilon)&lt;\\epsilon\\) and \\(f_k\\to f\\) uniformly on \\(A_\\epsilon\\) Proof: without loss of generality assume \\(f_k\\to f\\) pointwise (not just pointwise a.e.) since we only require \\(\\mu(E-A_\\epsilon)&lt;\\epsilon\\); for each \\(n, k\\), define \\[ E_k^n = \\{x\\in E: |f_{\\forall j&gt;k}(x) - f(x)|&lt;1/n\\} \\] In other words, this is the set on which \\(f_{j&gt;k}\\) is \\(1/n\\)-close to \\(f\\) on \\(E\\). Fix \\(n\\). Note that \\(E^n_k\\nearrow E\\) by \\(f_k\\to f\\) (recall definition 3.3); then there exists \\(k_n\\) such that \\[ \\mu(E - E^n_{k_n}) &lt; 2^{-n}, \\quad \\sup_{x\\in E^n_{k_n}} |f_j(x) - f(x)| &lt; 1/n \\] Choose \\(N\\) so that \\(\\sum_{n=N}^\\infty 2^{-n}&lt;\\epsilon/2\\) and let \\[ \\tilde A_\\epsilon = \\bigcap_{n\\geq N} E^n_{k_n} \\] This is domain subset on which, for each \\(n\\geq N\\), \\(|f_{j\\geq k_n}(x) - f(x)| \\leq 1/N\\); also note that \\[ \\mu(E - \\tilde A_\\epsilon) \\leq \\sum_{n=N}^\\infty \\mu(E - E^n_{k_n}) &lt; \\epsilon/2 \\] Also note that \\(\\tilde A_\\epsilon\\) is measurable since it is the intersection of \\(E^n_k\\) which are pre-images; then by measurability characterization 3.2 there exists a closed \\(\\epsilon/4\\)-coveree \\(A_\\epsilon\\) of \\(\\tilde A_\\epsilon\\). Moreover, \\(f_k\\to f\\) uniformly on \\(A_\\epsilon\\) since for every \\(0&lt;\\epsilon&#39;&lt;1/n\\), \\(|f_j(x)-f(x)|&lt;\\epsilon&#39;\\) when \\(j&gt;k_n\\) and \\(x\\in E^n_{k_n} \\supset A_\\epsilon\\). Similarly, the precise statement of the second principle is: Theorem 3.5 (Lusin's theorem) Given measurable \\(f\\) finite-valued on \\(E\\) and \\(\\mu(E)&lt;\\infty\\), then for every \\(\\epsilon&gt;0\\) there exists a closed \\(\\epsilon\\)-coveree \\(F_\\epsilon \\subset E\\) with \\(\\mu(E-F_\\epsilon)&lt;\\epsilon\\) such that \\(f_{|F_\\epsilon}\\) is continuous in the subspace topology. Proof: TODO Lusin’s theorem does not claim that \\(f\\) is continuous on \\(F_\\epsilon\\), only that \\(f_{|F_\\epsilon}\\) is continuous in the subspace topology. Bibliography Rudin, Walter et al. 1964. Principles of Mathematical Analysis. Vol. 3. McGraw-hill New York. "],["integration.html", "4 Integration Definition Properties Convergence theorems Comparison with Riemann integral Fubini’s theorem", " 4 Integration Key takeaways: Integral of simple functions are easy to define; general nonnegative integration is the \\(\\sup\\) of the integral of dominated simple functions. Real functions are split into two nonnegative parts. \\(f\\) integrable implies \\(|f|\\) integrable: the Lebesgue integral is an “absolutely convergent integral.” The space \\(L^1(\\mu)\\) of integrable functions is complete under monotone pointwise convergence (monotone convergence theorem 4.3) and dominated pointwise convergence (dominated convergence theorem 4.5). Chain of reasoning: Monotone convergence thm \\(\\implies\\) Fatou’s theorem \\(\\implies\\) dominated convergence theorem. Measure theory characterizes Riemann integrability. Definition Definition 4.1 (function support) The support of a measurable function \\(f\\) is \\[ \\mathrm{supp}(f) = \\overline{f^{-1}(\\{0\\}^C)} \\] the closure of domain on which \\(f\\) does not vanish. Definition 4.2 (S-partition) Given a \\(\\sigma\\)-algebra \\(\\mathcal S\\) on set \\(X\\), an \\(\\mathcal S\\)-partition of \\(X\\) is a finite collection \\(A_1, \\cdots, A_m\\) of disjoint sets in \\(\\mathcal S\\) such that \\(\\bigsqcup A_j = X\\). Definition 4.3 (lower Lebesgue sum) Given measure space \\((X, \\mathcal S, \\mu)\\), an \\(\\mathcal S\\)-measurable function \\(f:X\\to [0, \\infty]\\), and a \\(\\mathcal S\\)-partition \\(P=\\{A_1, \\cdots, A_m\\}\\) of \\(X\\), the lower Lebesgue sum is \\[ \\mathcal L_\\mu(f, P) = \\sum_{j=1}^m \\mu(A_j)\\inf_{A_j} f \\] Definition 4.4 (non-negative integral) The integral of a non-negative function \\(f:X\\to [0, \\infty]\\) w.r.t. the measure \\((\\mathcal S, \\mu)\\) is \\[ \\int f\\, d\\mu = \\sup_P \\mathcal L_\\mu(f, P) \\] where \\(P\\) is taken over all \\(\\mathcal S\\)-partition of \\(X\\). Proposition 4.1 (integral of characteristic function) Given \\(X, \\mathcal S, \\mu)\\) and \\(E\\in \\mathcal S\\), \\(\\int \\chi_E\\, d\\mu = \\mu(E)\\). Proof we have \\(\\mathcal L_\\mu(\\chi_E, \\{E, X-E\\}) = \\mu(E)\\), then \\(\\int f\\, d\\mu \\geq \\mu(E)\\). Conversely, given any \\(\\mathcal S\\)-partition \\(P=\\{A_1, \\cdots, A_m\\}\\) of \\(X\\), for each \\(j\\) \\[ \\mu(A_j) \\inf_{A_j} \\chi_E = \\begin{cases} \\mu(A_j) &amp; A_j\\subset E \\\\ 0 &amp; \\text{otherwise} \\end{cases} \\] then \\(\\mathcal L(\\chi_E, P) = \\sum_{A_j\\subset E} \\mu(A_j) \\leq \\mu(E)\\). Proposition 4.2 (integral of a simple function) Given a measure space \\((X, \\mathcal S, \\mu)\\) and disjoint \\(E_1, \\cdots E_n\\), we have \\[ \\int \\left(\\sum_{k=1}^n c_k \\chi_{E_k}\\right)\\, d\\mu = \\sum_{k=1}^n c_k \\mu(E_k) \\] Proof: The LHS integral is lower-bounded by the \\(\\mathcal S\\)-partition \\(\\{E_j\\}\\cup \\{X-\\bigcup E_j\\}\\). The converse follows similar to the last proposition. In light of the previous proposition, we have Corollary 4.1 (equivalent definition of nonnegative integral) Given \\((X, \\mathcal S, \\mu)\\) and measurable \\(f:X\\to [0, \\infty]\\), the integral definition 4.4 is equivalent to \\[ \\int f\\, d\\mu = \\sup_P \\mathcal L_\\mu(f, P) = \\sup_s \\int s\\, d\\mu \\] where the last \\(\\sup\\) is taken over all simple function \\(f\\) dominated by \\(f\\): \\(\\forall x\\in X: f(x)\\geq s(x)\\). Proof: Simply follows from \\(\\mathcal L_\\mu(f, P)\\) being the integral of a simple function. Definition 4.5 (general real integral) Given \\((X, \\mathcal S, \\mu)\\) and measurable \\(f:[-\\infty, \\infty]\\) such that at least one of \\(\\int f^+\\, d\\mu, \\int f^-\\, d\\mu\\) is finite; the integral of \\(f\\) w.r.t. \\(\\mu\\) is \\[ \\int f\\, d\\mu = \\int f^+\\, d\\mu - \\int f^-\\, d\\mu \\] Note that the integral of the following function is not defined: \\[ f(x) = \\begin{cases} 1 &amp; x\\geq 0 \\\\ -1 &amp; x &lt; 0 \\end{cases} \\] Properties Definition 4.6 (integral metric, integrable space) Fix \\((X, \\mathcal S, \\mu)\\); if \\(f:X\\to [-\\infty, \\infty]\\) is measurable, then the \\(L^1\\)-norm of \\(f\\) is \\[ \\|f_1\\| = \\int |f|\\, d\\mu \\] The Lebesgue space \\(L^1(\\mu)\\) is also \\[ L^1(\\mu) = \\{f:X\\to \\mathbb R| \\|f\\|_1 &lt; \\infty \\} \\] Theorem 4.1 (properties of integration) The following properties are evident for \\(f, g\\in L^1(\\mu)\\): Linearity: \\(\\int cf+g\\, d\\mu = c\\int f\\, d\\mu + \\int g\\, d\\mu\\). Order-preserving: \\(f\\leq g\\implies \\int f\\, d\\mu \\leq \\int g\\, d\\mu\\). Metric subadditivity: \\(\\left|\\int f\\, d\\mu\\right| \\leq \\int |f|\\, d\\mu\\). Proof: General idea is to establish for simple functions, then show that the proof commutes with integral construction. For (2), use \\(\\int g\\, d\\mu - \\int f\\, d\\mu = \\int (g-f)\\, d\\mu\\). For (3), \\[\\begin{align} \\left|\\int f\\, d\\mu\\right| &amp;= \\left| \\int f^+\\, d\\mu - \\int f^-\\, d\\mu\\right| \\leq \\int f^+\\, d\\mu + \\int f^-\\, d\\mu \\\\ &amp;= \\int (f^++f^-)\\, d\\mu = \\int |f|\\, d\\mu \\end{align}\\] Definition 4.7 (integration on subset) Given \\((X, \\mathcal S, \\mu)\\) and \\(E\\in \\mathcal S\\) and measurable \\(f:X\\to [-\\infty, \\infty]\\), the subset integral is \\[ \\int_E f\\, d\\mu = \\int \\chi_E f\\, d\\mu \\] Proposition 4.3 (integral bound) Given \\(\\int_E f\\, d\\mu &lt; \\infty\\), \\[ \\left|\\int_E f\\, d\\mu \\right| \\leq \\mu(E) \\sup_E |f| \\] Proof: let \\(c=\\sup_E |f|\\), then \\[ \\left|\\int_E f\\, d\\mu\\right| \\leq \\int \\chi_E |f|\\, d\\mu \\leq \\int c\\chi_E \\, d\\mu = c\\mu(E) \\] Theorem 4.2 (disjoint additivity w.r.t domain) Given measurable \\(f\\), define the function \\(\\phi:\\mathcal S\\to [-\\infty, \\infty]\\) by \\[ \\phi(A) = \\int_A f\\, d\\mu \\] then for every \\(A, B\\in \\mathcal S\\), we have \\(\\phi(A\\sqcup B) = \\phi(A)+\\phi(B)\\). Proof: without loss of generality consider nonnegative \\(f\\). If \\(f\\) is a characteristic function, then countable additivity is equivalent to the countable subadditivity of \\(\\mu\\). The general proof just demonstrates the commutativity of countable subadditivity with the \\(\\sup\\) integral construction. Corollary 4.2 (sets of zero measure are negligible in integration) Given \\(A, B\\in \\mathcal S\\) such that \\(\\mu(A-B)=0\\), then \\[ \\int_A f\\, d\\mu = \\int_B f\\, d\\mu \\] Proof: Follows from additivity theorem 4.2 and applying \\(\\mu(A-B)=0\\) to proposition 4.3. The integrability of \\(f\\) implies that of \\(|f|\\), and the Lebesgue integral is often called an absolutely convergent integral. Proposition 4.4 (several conditions for integrability) \\(f\\in L^1(\\mu)\\implies |f|\\in L^1(\\mu)\\). \\(f\\) is measurable and \\(|f|\\leq g \\in L^1(\\mu)\\implies f\\in L^1(\\mu)\\). Proof: for (1), recall that \\(f\\in L^1(\\mu)\\) if both \\(f^+, f^-\\) have finite integrals, then \\(|f|=f^++f^-\\) is integrable. Similarly, (2) follows from \\(f^+, f^-\\leq g\\). Convergence theorems The following convergence theorems are the cornerstone of Lebesgue theory: Theorem 4.3 (Lebesgue's monotone convergence theorem) Given \\(E\\) measurable, let \\(\\{f_n\\}\\) be a sequence of measurable functions such that \\(0\\leq f_1\\leq \\cdots\\) on \\(E\\) and \\(f_n\\to f\\), then \\[ \\int_E f_n \\, d\\mu \\to \\int_E f\\, d\\mu \\] Pointwise monotone convergence of measurable functions on a measurable set implies convergence of integral. Proof: One direction is trivial; the other is established by first proving for a dominated simple lower approximation of \\(f\\) then taking the \\(\\sup\\). Let \\(F_n = \\int_E f_n\\, d\\mu\\). It is clear that \\(F_n\\to F\\in (-\\infty, \\infty]\\). We also have \\[ f_n \\leq f\\implies \\lim_{n\\to \\infty} F_n = F \\leq \\int_E f\\, d\\mu \\] To establish the other direction， fix \\(c\\in (0, 1)\\) and simple function \\(s\\leq f\\). Define \\[ E_n = \\{x| f_n \\geq c s\\} \\] note that \\(E_j \\nearrow E\\) (recall notation 3.3) and, for every \\(n\\) \\[ F_n = \\int_E f_n \\, d\\mu \\geq \\int_{E_n} f_n\\, d\\mu \\geq c\\int_{E_n} s\\, d\\mu \\] Let \\(n\\to \\infty\\) and notice that the last integral is disjoint-additive on the domain argument \\(E_n\\) by theorem 4.2; let \\(c\\to 1\\) to obtain \\[ F \\geq \\int E_s\\, d\\mu c\\int_E s\\, d\\mu \\] Take the \\(\\sup\\) over all \\(s\\) and the simple function approximation theorem 3.3 to obtain \\(F\\geq \\int_E f\\, d\\mu\\). Applying the monotone convergence theorem above to partial sums yield Corollary 4.3 Given measurable \\(E\\in \\mathcal S\\) and nonnegative measurable sequence \\((f_j)\\); define their sum \\[ f = \\sum_{n=1}^\\infty f_n \\] then \\(\\int_E f = \\sum_{n=1}^\\infty \\int_E f_n\\, d\\mu\\). Theorem 4.4 (Fatou's theorem) For measurable \\(E\\), given nonnegative measurable sequence \\((f_j)\\) and \\[ f(x) = \\liminf_{n\\to \\infty} f_n(x) \\] then the integral is similarly bounded \\[ \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] Proof: Define \\(g_n = \\inf_{i\\geq n} f_i\\), then \\(g_n\\) is measurable and \\[ i\\leq j\\implies g_i\\leq g_j, \\quad g_n\\to f \\] Applying the monotone convergence theorem yields \\[ \\int_E g_n\\, d\\mu \\to \\int_E f\\, d\\mu \\] Note that this does not imply equality because the monotone convergence theorem above only implies \\[ \\int_E f\\, d\\mu = \\lim_{n\\to \\infty} \\int_E \\inf_{k\\geq n} f_k\\, d\\mu \\not \\implies \\int_E f\\, d\\mu = \\lim_{n\\to \\infty} \\inf_{k\\geq n} \\int_E f_k\\, d\\mu \\] In the presence of the limit, we can only establish LHS \\(\\leq\\) RHS: there may be cases where measure is lost through \\(\\inf f_k\\) but not through the \\(\\inf\\) of the measure. Remark (strict inequality in Fatou's theorem). Let \\(g(x) = (0\\leq x\\leq 1/2)^?0:1\\) and \\[ f_{2k}(x) = g(x), \\quad f_{2k+1} = g(1-x) \\] then \\(\\liminf_{n\\to \\infty} f_n = 0\\) but \\(\\forall n, \\int_0^1 f_n(x)\\, dx = 1/2\\). Theorem 4.5 (Lebesgue's dominated convergence theorem) Given measurable sequence \\((f_j)\\to f\\) pointwise and \\(|f_j| \\leq g\\) with \\(g\\) measurable, then \\[ \\lim_{n\\to \\infty} \\int_E f_n\\, d\\mu = \\int_E f\\, d\\mu \\] As a corollary, \\(L^1\\) is complete under dominated pointwise convergence. Proof: First note that \\(f_j, f\\) are integrable since they’re dominated by \\(g\\). By \\(f_n+g\\geq 0\\), invoke Fatou’s theorem \\[ \\int_E (f + g)\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E (f_n+g)\\, d\\mu \\implies \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] and pull \\(g\\) out of both sides. Again, by \\(g-f_n\\geq 0\\) see \\[\\begin{align} \\int_E (g - f)\\, d\\mu &amp;\\leq \\liminf_{n\\to \\infty} \\int_E (g - f_n)\\, d\\mu \\\\ -\\int_E f\\, d\\mu &amp;\\leq \\liminf_{n\\to \\infty} \\int_E -f_n\\, d\\mu =-\\limsup_{n\\to \\infty} \\int_E f_n\\, d\\mu \\end{align}\\] Combine the two results to obtain equality \\[ \\limsup_{n\\to \\infty} \\int_E f_n\\, d\\mu \\leq \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] Corollary 4.4 (bounded convergence theorem) Given finite-measurable \\(\\mu(E) &lt; \\infty\\) and uniformly bounded convergent sequence \\((f_n)\\to f\\) (i.e. \\(|f_n(x)|\\leq M\\) for all \\(n, x\\)), the dominated convergence theorem applies. Proof: Given finite measure \\(\\mu(E)&lt;\\infty\\), the constant-\\(M\\) function is integrable and dominates \\((f_n)\\). Comparison with Riemann integral Denote the Riemann integral by \\(\\mathcal R\\int_a^b f\\, dx\\). Theorem 4.6 (compatibility with Riemann integral) Given Riemann integrable \\(f\\) on \\([a, b]\\), then \\(f\\in L^1([a, b])\\) and \\[ \\int_a^b f\\, dx = \\mathcal R \\int_a^b f\\, dx \\] Proof: By existence of the Riemann integral, there exists a countable sequence of iteratively refined partitions \\(P_k\\) such that \\[ \\lim_{k\\to \\infty} L(P_k, f) = \\mathcal R \\underline{\\int} f\\, dx, \\quad \\lim_{k\\to \\infty} U(P_k, f) = \\mathcal R \\bar \\int f\\, dx \\] For each partition \\(P_k\\), define functions \\(U_k(x\\in [x_{j-1}, x_j])\\) and \\(L_k\\) to be the sup and inf along the interval, respectively, then in the Lebesgue sense, \\[ L(P_k, f) = \\int L_k\\, dx, \\quad U(P_k, f) = \\int U_k\\, dx \\] the functions are also monotone \\(L_1 \\leq L_2 \\leq \\cdots \\leq f \\leq \\cdots \\leq U_1\\). Let \\(L_k\\to L, U_k\\to U\\), then \\(L, U\\) are bounded measurable functions with \\(L\\leq f\\leq U\\). Then \\[ \\int L\\, dx = \\mathcal R \\underline \\int f\\, dx, \\quad \\int U\\, dx = \\mathcal R \\bar \\int f\\, dx \\] by the monotone convergence theorem. Further note that \\(f\\) is Riemann-integrable iff \\(\\int L\\, dx = \\int U\\, dx\\). This implies \\(L=U\\) a.e. since \\(L\\leq U\\), then \\(L=f=U\\) a.e. and \\(f\\) is measurable; equality with Lebesgue integral follows. Theorem 4.7 (Riemann integrability theorem) Given \\(f\\) bounded on \\([a, b]\\), then the Riemann integral \\(\\mathcal R\\int_a^b f\\, dx\\) exists iff \\(f\\) is continuous a.e. on \\([a, b]\\). Proof: Extending the last proof: for any \\(x\\notin P_k\\) for any \\(k\\), we have \\(U(x)=L(x)\\) iff \\(f\\) is continuous at \\(x\\) (think about this! equivalent to saying that \\(\\sup\\approx \\inf\\) arbitrarily close intervals about \\(x\\)); the union \\(\\bigcup P_k\\) is countable of measure \\(0\\), then \\(f\\) is continuous a.e. iff \\(L=U\\) a.e. iff \\(f\\) is Riemann-integrable on \\([a, b]\\). Fubini’s theorem "],["bibliography.html", "Bibliography", " Bibliography Rudin, Walter et al. 1964. Principles of Mathematical Analysis. Vol. 3. McGraw-hill New York. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
