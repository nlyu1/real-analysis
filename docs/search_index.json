[["index.html", "Math 114 Notes Preface Organization Main deliverables", " Math 114 Notes Nicholas Lyu 2024-10-14 Preface These notes accompany the Fall 2024 iteration of Math 114, a second-semester undergraduate course on real analysis and measure theory. The notes deviate quite a bit from lecture materials, in particular: I prefer a more principled construction of the Lebesgue measure as the restriction of the exterior measure using the Carathéodory theorem. Sets declared measurable by the Carathéodory criteria are automatically closed under \\(\\sigma\\)-algebra operations, so one only needs to show the measurability of rectangles to establish the measurability of the Borel sets. Materials are heavily supplemented by Sheldon Axler’s Measure, Integration and Real Analysis. Organization Abstract machinery of measures and \\(\\sigma\\)-algebra. Lieb and Loss, chapter 1. The exterior measure and Lebesgue measure on \\(\\mathbb R^n\\). Hunter. Lebesgue integral, Littlewood’s three principles, and integral convergence theorems. Rudin, , chapter 11; Axler, chapter 2; Lieb and Loss, chapter 1. Iterated integrals: uniqueness of product measure and Fubini’s theorem. Lieb and Loss, chapter 1. \\(L^p\\) spaces. Lieb and Loss, chapter 2; Axler, chapter 7. References for these notes Axler, Measure, Integration &amp; Real analysis (Axler 2020). Lieb and Loss, Analysis (Lieb and Loss 2001). John K. Hunter, online notes on the Lebesgue measure. Rudin, Principles of Mathematical Analysis (Rudin et al. 1964). Main deliverables Monotone class theorem 2.1: freely-generated monotone class equals freely-generated \\(\\sigma\\)-algebra for algebra of sets containing \\(\\Omega\\). Carathéodory’s theorem 2.3: given an outer measure \\(\\mu\\), the measurable sets \\(B\\subset \\Omega\\) satisfying \\(\\mu(\\forall E) = \\mu(E\\cap B) + \\mu(E\\cap B^c)\\) form a \\(\\sigma\\)-algebra and obey countable additivity. Dominated convergence theorem 4.8: dominated pointwise limit of measurable functions can be exchanged with integral. Fubini’s theorem Proof techniques: Using the monotone class theorem (example theorem 2.2): rewrite nested chain as disjoint union, then pass through the limit using the countable additivity of measures. Next apply the reduction from finite to \\(\\sigma\\)-finite measures. Working with countable collection of approximations: given tolerance \\(\\epsilon\\), introduce approximation of index \\(j\\) with tolerance \\(\\epsilon 2^{-j}\\) to have additively bounded total tolerance. Examples: outer measure properties of exterior measure (proposition 3.1). Prove properties for characteristic functions, then generalize them using approximation and limit theorems here. Examples: Luzin’s theorem, monotone convergence theorem 4.7, Sandwich bounds Lemma 2.2, Monotone convergence theorem. Bibliography "],["prelimaries.html", "1 Prelimaries Topology Real analysis", " 1 Prelimaries This section is a dump of various preliminary results for reference. Please see the next section for the main content of the course. Topology First recall some topological definitions: The norm \\(|x|\\) of \\(x\\) equals \\((\\sum x_j^2)^{1/2}\\). The distance between two points is is \\(|x-y|\\). The distance between two sets is \\(d(E, F)=\\inf_{x\\in E, y\\in F}|x-y|\\). A set \\(E\\) is bounded if it is contained in some ball of finite radius. A bounded set is compact if it is also closed. A point \\(x\\) is a limit point of the set \\(E\\) if \\(\\forall r&gt;0, B_r(x)\\cap E\\neq \\emptyset\\). \\(x\\in E\\) is isolated if \\(\\exists r&gt;0: B_r(x)\\cap E=\\{x\\}\\). \\(x\\in E\\) is an interior point if \\(\\exists r&gt;0: B_r(x)\\subset E\\); the interior points of \\(E\\) is denoted \\(\\mathrm{Int}(E)\\). The boundary \\(\\partial E = \\bar E - \\mathrm{Int}(E)\\). A closed set \\(E\\) is perfect if it does not have any isolated points. Proposition 1.1 A closed subset \\(A\\subset K\\) where \\(K\\) is compact, is compact. Proof: \\(V=K-A\\) is open (if \\(K\\) is a subset, then in the subsace topology), then for any \\(\\{U_j\\}\\) covering \\(A\\), \\(\\{U_j\\}\\cup \\{V\\}\\) will cover \\(K\\). Choose a finite subcover and remove \\(V\\) to obtain a finite subcover for \\(A\\). Proposition 1.2 A compact subset \\(K\\) of a Hausdorff space \\(\\Omega\\) is closed. Proof We show that \\(\\Omega-K\\) is open: for each \\(y\\in \\Omega-K\\), use Hausdorff to construct a open covering \\(\\{(U_x, V_x)\\}_{x\\in K}\\) separating \\(x, y\\) such that \\(x\\in U_x, y\\in V_y\\). Choose a finite subset of \\((U_x)_{x\\in J\\subsetneq K}\\) covering \\(K\\), then \\(y\\in \\bigcap_{x\\in J} V_x \\subset \\Omega-K\\), so \\(\\Omega-K\\) is open. Proposition 1.3 (closed+bounded=compact) For \\(\\mathbb R^d\\), a set \\(A\\) is compact if and only if it is closed and bounded. Proof Given compactness, choose a cover by unit-cube coverings, then \\(A\\subset [-R, R]^n\\), which is bounded. Closure follows from proposition 1.2. Conversely, given \\(A\\subset [-R, R]^n\\) and closed, it is a closed subset of a compact set, so it is compact by proposition 1.1 Lemma 1.1 (finite distance between compact and closed sets) If \\(F\\) is closed and \\(K\\) compact, and \\(F\\cap K = \\emptyset\\), then \\(d(F, K)&gt;0\\). Proof By \\(F^c\\) open for each \\(x\\in K\\) choose \\(B(2\\delta_x, x)\\subset F^c\\). Choose an finite open subcover \\(\\{B_{\\delta_x, x}\\}_{x\\in [n]}\\) of \\(K\\), then \\(d(F, K) &gt; \\min_{x\\in [n]} \\delta_x\\). Proposition 1.4 (compactness and product) \\(\\Omega, Y\\) compact implies \\(\\Omega\\times Y\\) compact. Lemma 1.2 (continuity of distance) Given a metric space \\((\\Omega, d)\\) and a subset \\(Y\\subset \\Omega\\), the function \\(\\varphi:\\Omega\\to \\mathbb R\\) defined below is continuous: \\[ \\varphi(x) = \\inf_{y\\in Y} d(x, y) \\] Proof The preimage operation commutes with arbitrary union and intersections, so it suffices to demonstrate this for open intervals \\(\\{(0, a)\\}\\cup \\{(b, \\infty)\\}\\), to show that \\[ \\varphi^{-1}((0, a)) = \\{ x\\in \\Omega: \\forall \\epsilon&gt;0, \\exists y\\in Y: d(x, y) &lt; a+\\epsilon \\} \\] is open, similarly for the other subbasis component. Standard argument is omitted. Lemma 1.3 (Lebesgue number lemma) Given a compact metric space \\((\\Omega, d)\\) and an open cover \\((U_j)\\) of \\(\\Omega\\), there \\(\\exists\\delta&gt;0\\) such that any subset of diameter \\(&lt;\\delta\\) is entirely contained in a single open set. Proof Select a finite subcover \\(U_1\\cup \\cdots \\cup U_n\\) of \\(\\Omega\\). The function \\[ f(x) = \\min_j d(x, \\Omega-U_j) \\] is continuous on compact interval, thus achieves its min \\(\\delta\\). Definition 1.1 (connected sets) A space \\(\\Omega\\) is connected if any of the following equivalent conditions are true: Every binary partition \\(U\\sqcup V=\\Omega\\) of \\(\\Omega\\) is trivial: \\(U\\) or \\(V=\\emptyset\\) and the other \\(\\Omega\\). The only subsets which are both open and closed in \\(\\Omega\\) is \\(\\emptyset, \\Omega\\). Real analysis Definition 1.2 (Riemann integral) Fix \\([a, b]\\) and a partition \\(a=x_0\\leq \\cdots \\leq x_n =b\\), define \\(\\Delta x_j = x_j - x_{j-1}\\) and \\[\\begin{align} M_j &amp;= \\sup f([x_{j-1} \\leq x\\leq x_j]), \\quad m_j = \\inf f([x_{j-1} \\leq x\\leq x_j]) \\\\ U(P, f) &amp;= \\sum_{j=1}^n M_j \\Delta x_j, \\quad L(P, f) = \\sum_{j=1}^n m_j \\Delta x_j \\end{align}\\] The upper and lower integrals are defined as \\[\\begin{align} \\bar{\\int}^b_a f\\, d\\alpha = \\inf U(P, f, \\alpha), \\quad \\underline{\\int}^b_a f\\, d\\alpha = \\sup L(P, f, \\alpha) \\end{align}\\] Definition 1.3 (limit inferior) Given a countable sequence of reals \\((a_j)\\), the limit inferior is \\[ \\liminf_{n\\to \\infty} a_n = \\lim_{n\\to \\infty} g_n, \\quad g_n = \\inf_{k\\geq n} a_k \\] The counterpart \\(\\limsup\\) is defined similarly. Definition 1.4 (semi-continuity) A \\(\\mathbb R^n\\)-valued function \\(f\\) is lower-semicontinuous if \\[ f^{-1}((t, \\infty)) \\text{ is open }\\forall t \\] It is upper-semicontinuous when \\(f^{-1}((-\\infty, t))\\) is open for all \\(t\\). Here \\((t, \\infty)\\) denotes the set of all vectors which larger than \\(t\\) pointwise. Proposition 1.5 (ε-δ definition of semi-continuity) Given a metric space \\(X\\), \\(f:X\\to \\mathbb R^n\\) is lower semicontinuous at \\(x_0\\in X\\) if for every vector \\(\\epsilon&gt;0\\) there exists a real scalar \\(\\delta&gt;0\\) such that \\[ f(B_\\delta(x_0)) \\geq f(x_0) - \\epsilon \\] Similarly, it is upper-semicontinuous when \\(f(B_\\delta(x_0)) \\leq f(x_0) + \\epsilon\\). Proof: We do the proof for lower-semicontinuity. Assuming definition 1.4, \\(f^{-1}((t-\\epsilon, \\infty))\\) open for every \\(\\epsilon\\) implies that at \\(x_0\\in f^{-1}(t-\\epsilon, \\infty)\\) has an open neighborhood. Conversely, assuming the given condition holds at every \\(x_0\\in X\\), the preimage of every open set \\(f^{-1}((t, \\infty))\\) contains an open neighborhood for each point thus is open. Proposition 1.6 (limit definition of semi-continuity) \\(f:X\\to \\mathbb R^n\\) is lower semicontinuous at \\(x_0\\) if \\[ \\liminf_{x\\to x_0} f(x) \\geq f(x_0) \\] Similarly, it is upper-continuous at \\(x_0\\) if \\(\\limsup_{x\\to x_0} f(x) \\leq f(x_0)\\). Proof: \\(\\liminf_{x\\to x_0} f(x) \\geq f(x_0)\\) implies that \\(\\forall \\epsilon&gt;0\\in \\mathbb R^n\\), there exists \\(\\delta &gt; 0 \\in \\mathbb R\\) such that \\(f(B_\\delta(x_0))\\geq f(x_0) - \\epsilon\\). Similarly, \\(\\limsup_{x\\to x_0} f(x) \\leq f(x_0)\\) if for every \\(\\epsilon&gt;0\\in \\mathbb R^n\\), there exists \\(\\delta&gt;0\\in \\mathbb R\\) such that \\(f(B_\\delta(x_0)) \\leq f(x_0) + \\epsilon\\). Example 1.1 Of the following, \\(f_1, f_4\\) is lower but not upper semi-continuous, \\(f_2, f_3\\) is upper but not lower semi-continuous. is \\[ f_1(x) = \\begin{cases} 0 &amp; x\\leq 0 \\\\ 1 &amp; x &gt; 0 \\end{cases}, \\quad f_2(x) = \\begin{cases} 0 &amp; x &lt; 0 \\\\ 1 &amp; x \\geq 0 \\end{cases}, \\quad f_3(x) = \\begin{cases} 0 &amp; x \\leq 0 \\\\ -1 &amp; x &gt; 0 \\end{cases}, \\quad f_4(x) = \\begin{cases} 0 &amp; x &lt; 0 \\\\ -1 &amp; x \\geq 0 \\end{cases} \\] (Lower, upper) semi-continuous functions can only jump (down, up) in limit on the side with open iterval. "],["abstractMachinery.html", "2 Measures and σ-algebra σ-algebra Measure space Measurable function Carathéodory theorem", " 2 Measures and σ-algebra This section develops the abstract machinery of measures and \\(\\sigma\\)-algebras: Definitions of \\(\\sigma\\)-algebra and monotone class theorem. Measure spaces: \\(\\sigma\\)-finite measures, measures of nested intersections or unions; sufficient conditions for measurable functions; uniqueness of \\(\\sigma\\)-finite measures (a prime demonstration of the monotone class theorem); product \\(\\sigma\\)-algebras and measures. Measurable functions: composition establishing measurability using the generators of the \\(\\sigma\\)-algebra. Carathéodory theorem: constructing a measure by restricting an outer measure. Key takeaways: A measure space specifies the well-behaved, measurable sets (\\(\\sigma\\)-algebra), together with a function (called measure) which assigns a measure value to each measurable set. The key desired property of a measure is countable additivity under disjoint unions. Monotone class theorem 2.1: the monotone class freely generated by an algebra of sets is also its freely-generated \\(\\sigma\\)-algebra. The product algebra \\(\\Sigma_1\\times \\Sigma_2\\) is universal and satisfies the section property (proposition 2.4). The preimage-operation commutes with all closure operations of the \\(\\sigma\\)-algebra, the key properties of which is countability; to check measurability of a function it suffices to check the generators of the codomain \\(\\sigma\\)-algebra (proposition 2.7). General method of constructing measures: restricted finite additive measure \\(\\to\\) unrestricted countably subadditive (outer) measure \\(\\to\\) restricted countably additive measure. Measurable sets by the Carathéodory criteria (definition 2.11) are closed under \\(\\sigma\\)-algebra operations. We will see that all these effort for constructing a rigorous measure is needed: We need more than finite additivity in order to exchange integrals and limits. Uncountable additivity is too strong: points have measure zero, but intervals should have nontrivial measure. There exists subsets of \\(\\mathbb R^n\\) which are too irregular to accomodate additivity, so we need the machinery of \\(\\sigma\\)-algebra to describe the measurable sets. σ-algebra Definition 2.1 (algebra of sets) A collection \\(\\mathcal A\\) of sets is an algebra of sets if it is closed under finite union and differences: \\[ A, B\\in \\mathcal A\\implies A\\cup B, A-B, B-A\\in \\mathcal A \\] Definition 2.2 (σ-algebra) Given a set \\(\\Omega\\), \\(\\Sigma\\subset 2^\\Omega\\) is a \\(\\sigma\\)-algebra on \\(\\Omega\\) if: \\(\\emptyset\\in \\Sigma\\). Closure under complement: \\(E\\in \\Sigma\\implies \\Omega-E\\in \\Sigma\\). Closure under countable union: \\(\\{E_j\\}\\in \\Sigma\\implies \\bigcup_{k=1}^\\infty E_k \\in \\Sigma\\). Proposition 2.1 (derived properties of σ-algebras) Given a \\(\\sigma\\)-algebra \\(\\Sigma\\) on \\(\\Omega\\), then \\(\\Omega\\in \\Sigma\\). Closure under finite union, intersection, and difference: \\[ D, E\\in \\Sigma\\implies D\\cup E, D\\cap E, D-E\\in \\Sigma \\] \\(E_1, \\cdots\\in \\Sigma\\implies \\bigcap_{k=1}^\\infty E_k \\in \\Sigma\\) Proof: (1) follows from \\(\\Omega=\\Omega-\\emptyset\\). (2) follows from \\(D\\cap E = (\\Omega-D)\\cup (\\Omega_E)\\) and \\(D-E=(D\\cap E)\\cup E\\). (3) follows from \\(\\bigcap_{k=1}^\\infty E_k = \\Omega - \\bigcup_{k=1}^\\infty (\\Omega-E_k)\\). Examples and remark Example 2.1 Given any set \\(\\Omega\\), both \\(\\{\\emptyset, \\Omega\\}\\) and \\(2^\\Omega\\) are \\(\\sigma\\)-algebras on \\(\\Omega\\). The set of all subsets \\(E\\) such that \\(E\\) is countable or \\(\\Omega-E\\) countable is a \\(\\sigma\\)-algebra (countable union of countable set is countable, else if one element’s complement is countable, then the union’s complement is countable, too). Remark. A \\(\\sigma\\)-algebra on \\(\\Omega\\) is a subset of \\(2^\\Omega\\) that contains \\(\\emptyset\\) and is closed under countable union. Compare to a topology on \\(\\Omega\\), which is a subset of \\(2^\\Omega\\) that contains \\(\\emptyset, \\Omega\\), and is closed under arbitrary unions and finite intersections. Definition 2.3 (measurable space, measurable set) A measurable space is a pair \\((\\Omega, \\Sigma)\\) where \\(\\Sigma\\) is a \\(\\sigma\\)-algebra on \\(\\Omega\\). A subset \\(S\\subset \\Omega\\) is \\(\\Sigma\\)-measurable iff \\(S\\in \\Sigma\\). Definition 2.4 (freely generated σ-algebra) Given a set \\(\\Omega\\) and \\(\\mathcal A\\subset 2^\\Omega\\), the intersection of all \\(\\sigma\\)-algebras \\(\\Sigma\\) on \\(\\Omega\\) such that \\(\\mathcal A\\subset \\Sigma\\) is a \\(\\sigma\\)-algebra on \\(\\Omega\\). In other words, every subset \\(A\\subset 2^\\Omega\\) freely generates a \\(\\sigma\\)-algebra \\(\\sigma_{\\mathrm{Alg}}(A)\\) on \\(\\Omega\\). Definition 2.5 (monotone class) A monotone class \\(\\mathcal M\\) is a set of sets with the following properties: \\[\\begin{align} A_1, \\cdots \\in \\mathcal M, \\quad A_j\\nearrow A &amp;\\implies A\\in \\mathcal M \\\\ A_1, \\cdots \\in \\mathcal M, \\quad A_j\\searrow A &amp;\\implies A\\in \\mathcal M \\end{align}\\] Theorem 2.1 (monotone class theorem) Given a set \\(\\Omega\\) and an algebra (definition 2.1) \\(\\mathcal A\\) of subsets of \\(\\Omega\\) such that \\(\\Omega, \\emptyset\\in \\mathcal A\\). The smallest monotone class \\(\\mathcal M\\supset \\mathcal A\\) is \\(\\sigma_{\\mathrm{Alg}}(\\mathcal A)\\). Proof idea: every \\(\\sigma\\)-algebra is trivially a monotone class. Monotone class and closure under finite union and complement implies \\(\\sigma\\)-algebra. Show that \\(\\mathcal M\\) is closed under finite union and complements. Proof If a monotone class \\(\\mathcal M\\supset \\mathcal A\\) is closed under complement and finite unions, then for any \\(A_1, \\cdots\\in \\mathcal A\\), the sequence of partial unions approaches the countable union in limit: \\[ \\left(B_j = \\bigcup_{k=1}^j A_j \\in \\mathcal M\\right) \\nearrow \\bigcup_{j=1}^\\infty A_j \\in \\mathcal M \\] Together with complements, this shows that that \\(\\mathcal M\\) is a \\(\\sigma\\)-algebra. To show that \\(\\mathcal M\\) is indeed closed under complement and finite union, argue for every set \\(A\\in \\mathcal M\\) that the set \\(C(A)\\) of all sets which stay within \\(\\mathcal M\\) under union is a monotone class: \\[ A\\cup \\bigcup_{j=1}^\\infty B_j = \\bigcup_{j=1}^\\infty A\\cup B \\in \\mathcal M \\] By the algebraic property of \\(\\mathcal A\\) we have \\(\\mathcal A\\subset C(A) =\\mathcal M\\) (this step requires the minimality of \\(\\mathcal M\\)!). This shows that \\(\\mathcal M\\) is closed under complement and finite union, hence is a \\(\\Sigma\\)-algebra. Corollary 2.1 Given an algebra of sets, its freely generated monotone class (smallest monotone class containing it) is also its freely generated \\(\\sigma\\)-algebra. Measure space Definition 2.6 (measure, measure space) Given a measurable space \\((\\Omega, \\Sigma)\\), a measure on \\((\\Omega, \\Sigma)\\) is a function \\(\\mu:\\Sigma\\to [0, \\infty]\\) with \\[ \\mu \\left(\\bigsqcup_{k=1}^\\infty E_k\\right) = \\sum_{k=1}^\\infty \\mu(E_k), \\quad \\mu(\\emptyset) = 0 \\] for every disjoint sequence \\(\\{E_j\\} \\in \\Sigma\\). A measure space is an ordered triple \\((\\Omega, \\Sigma, \\mu)\\). Proposition 2.2 (elementary properties of measures) Given a measure space \\((\\Omega, \\Sigma, \\mu)\\) and \\(D\\subset E\\in \\Sigma\\): \\(\\mu(D) \\leq \\mu(E)\\). \\(\\mu(E - D) = \\mu(E) - \\mu(D)\\). Proposition 2.3 (measure of nested union) Under a measure space \\((\\Omega, \\Sigma, \\mu)\\) with a nested chain \\(E_1\\subset E_2\\subset \\cdots\\), we have \\(\\mu \\bigcup_{j=1}^\\infty E_j = \\lim_{j\\to \\infty} \\mu(E_j)\\). Proof Only consider the case \\(\\mu(E_k) &lt; \\infty\\) and define \\(E_0=\\emptyset\\), then \\(\\bigcup_{j=1}^\\infty E_j = \\bigsqcup_{j=1}^\\infty E_j - E_{j-1}\\). Using the disjoint union additivity \\[\\begin{align} \\bigcup_{j=1}^\\infty E_j &amp;= \\sum_{j=1}^\\infty \\mu(E_j - E_{j-1}) = \\lim_{k\\to \\infty} \\sum_{j=1}^k \\mu(E_j) - \\mu(E_{j-1}) = \\lim_{k\\to \\infty} \\mu(E_k) \\end{align}\\] The dual of the proposition above is given below. Corollary 2.2 (measure of nested intersection) Under a measure space \\((\\Omega, \\Sigma, \\mu)\\) with a nested chain \\(E_1\\supset E_2\\supset \\cdots\\), we have \\(\\mu \\bigcap_{j=1}^\\infty E_j = \\lim_{j\\to \\infty} \\mu(E_j)\\). Definition 2.7 (finite and σ-finite measures) A measure space \\((\\Omega, \\Sigma, \\mu)\\) is \\(\\sigma\\)-finite if there are countably many sets \\(A_1, \\cdots\\) such that \\[ \\mu(A_{\\forall j}) &lt; \\infty, \\quad \\Omega = \\bigcup_j A_j \\] with \\(\\sigma\\)-finiteness, w.l.o.g. we can prove \\(A_j\\) to be disjoint. The measure space is finite if \\(\\mu(\\Omega)&lt;\\infty\\). Theorem 2.2 (uniqueness of measures) Given \\(\\Omega\\) and \\(\\Sigma = \\sigma_{\\mathrm{Alg}}(\\mathcal A)\\), where \\(\\mathcal A\\) is a set algebra with \\(\\Omega, \\emptyset \\in \\mathcal A\\). If \\(\\mu_1\\) is a \\(\\sigma\\)-finite measure in the stronger sense such that \\[ \\exists \\{A_j\\in \\mathcal A\\}_{i=1}^\\infty, \\quad \\mu_1(A_j)&lt;\\infty, \\quad \\bigcup_{j=1}^\\infty A_j=\\Omega \\] Then every \\(\\mu_2\\) which coincides with \\(\\mu_1\\) on \\(\\mathcal A\\) satisfies \\(\\mu_1=\\mu_2\\). Proof First assume that \\(\\mu_1(\\Omega)&lt;\\infty\\). Consider \\[ \\mathcal M = \\{A\\in \\Sigma: \\mu_1(A) = \\mu_2(A)\\} \\supset \\mathcal A \\] If this is shown to be a monotone class, then \\(\\Sigma\\subseteq \\mathcal M\\) (in fact it’s equality by \\(A\\in \\Sigma\\) condition). Given an increasing sequence of sets \\(A_j\\subset \\mathcal M\\), construct \\(B_1 = A_1, B_{j&gt;1} = A_j - A_{j-1}\\), then \\[ \\mu_1(A_{n\\to \\infty}) = \\mu_1 \\bigsqcup_{j=1}^{n\\to \\infty} B_j = \\lim_{n\\to \\infty} \\sum_{j=1}^n \\mu_1(B_j) = \\lim_{n\\to \\infty} \\mu_1(A_n) = \\lim_{n\\to \\infty} \\mu_2(A_n) = \\mu_2(A_{n\\to \\infty}) \\] Additionally, \\(A\\in \\mathcal A\\implies A^c\\in \\mathcal M\\) since \\(\\mu_j(A^c) = \\mu_j(\\Omega)-\\mu_j(A)\\) by \\(\\mu_j\\) finite, from which \\(\\mathcal M\\) is a monotone class. Next, for general \\(\\sigma\\)-finite measures, \\(\\mu_1(B\\cap A_0) = \\mu_2(B\\cap A_0)\\) for every \\(\\mu(A_0)&lt;\\infty\\) and \\(B\\in \\Sigma\\) since \\(A_0\\cap \\Sigma = \\sigma_{\\mathrm{Alg}}(A_0 \\cap \\mathcal A)\\). By \\(\\sigma\\)-finite assumption choose \\(\\Omega = \\bigsqcup A_j\\) each with finite measure, then \\[ \\mu_1(B\\in \\Sigma) = \\mu_1 \\bigsqcup_{j=1}^\\infty A_j\\cap B = \\sum_{j=1}^\\infty \\mu_1(A_j\\cap B) = \\sum_{j=1}^\\infty \\mu_2(A_j\\cap B) = \\mu_2(B) \\] Definition 2.8 (product σ-algebra) The product \\(\\sigma\\)-algebra is the smallest \\(\\sigma\\)-algebra containing all rectangles. \\[ \\Sigma = \\sigma_{\\mathrm{Alg}}(\\Sigma_1\\times \\Sigma_2) = \\sigma_{\\mathrm{Alg}}\\left(\\{ A_1\\times A_2 | A_1\\in \\Sigma_1, A_2\\in \\Sigma_2 \\}\\right) \\] where here \\(\\Sigma_1\\times \\Sigma_2\\) denotes the Cartesian product of sets. The product measure \\(\\mu = \\mu_1\\times \\mu_2\\) is Proposition 2.4 (section property of product algebra) The product \\(\\sigma\\)-algebra \\(\\Sigma = \\Sigma_1\\times \\Sigma_2\\) has the section property: \\(\\forall A\\in \\Sigma\\), define \\[ A_1(x_2)\\in \\Omega_1 = \\{x_1\\in \\Omega_1: (x_1, x_2)\\in A\\} \\] then \\(A_1(x_2)\\in \\Sigma_1\\) for every choice of \\(x_2\\). Proof The set \\(\\Sigma&#39;\\) of all subsets of \\(\\Omega_1\\times \\Omega_2\\) (regarded as Cartesian product of sets) satisfying the section property is a \\(\\sigma\\)-algebra containing \\(\\Sigma_1\\times \\Sigma_2\\); the proof concludes by the universal property of \\(\\Sigma_1\\times \\Sigma_2\\). Definition 2.9 (product measures) The product of two measure spaces is \\[ (\\Omega_1\\times \\Omega_2, \\Sigma_1\\times \\Sigma_2, \\mu_1\\times \\mu_2) = (\\Omega_1, \\Sigma_1, \\mu_1)\\times (\\Omega_2, \\Sigma_2, \\mu_2) \\] where \\(\\Omega_1\\times \\Omega_2\\) is the Cartesian product of sets, \\(\\Sigma_1\\times \\Sigma_2\\) is the \\(\\sigma\\)-algebra product 2.8, and \\(\\mu_1\\times \\mu_2\\) is uniquely defined by the requirement \\[ \\mu(A_1\\times A_2) = \\mu_1(A_1) \\mu_2(A_2) \\] The exact definition and uniqueness of the product measure is postponed to theorem 5.1. Measurable function Proposition 2.5 (composition preserves measurability) Given a measurable chain \\[ (\\Omega_1, \\Sigma_1)\\xrightarrow f (\\Omega_2, \\Sigma_2) \\xrightarrow g (\\Omega_3, \\Sigma_3) \\] then \\(g\\circ f\\) is \\(\\Sigma_1\\)-measurable. We next prove a convenient criteria for proving measurability. Proposition 2.6 (algebra of function preimages) The inverse image operation commutes with elementary algebraic operations: given \\(f:\\Omega\\to Y\\), then \\(f^{-1}(Y-A) = \\Omega - f^{-1}(A)\\). \\(f^{-1}(\\bigcup_{A\\in \\mathcal A} A) = \\bigcup_{A\\in \\mathcal A} f^{-1}(A)\\). \\(f^{-1}(\\bigcap_{A\\in \\mathcal A} A) = \\bigcap_{A\\in \\mathcal A} f^{-1}(A)\\). Proposition 2.7 (condition for measurable function) Given measurable spaces \\((\\Omega_1, \\Sigma_1), (\\Omega_2, \\Sigma_2)\\), such that \\(\\Sigma_2 = \\sigma_{\\mathrm{Alg}}(\\mathcal A)\\). For every function \\(f:\\Omega_1\\to \\Omega_2\\) \\[ f^{-1}(\\forall A\\in \\mathcal A) \\in \\Sigma_1 \\implies f \\quad \\Sigma_1\\text{-measurable}. \\] Proof Consider the subsets whose preimage are measurable \\[ \\mathcal T = \\{B\\in \\Sigma_2 | f^{-1}(B)\\in \\Sigma_1\\} \\supset \\mathcal A \\] It suffices to show that \\(\\Sigma_2 \\subset \\mathcal T\\). To do so, we show that \\(\\mathcal T\\) is a \\(\\sigma\\)-algebra by the well-behavior of set operations under preimage: \\(\\emptyset = f^{-1}(\\emptyset) = \\emptyset \\in \\Sigma_1, f^{-1}(\\Omega_2) = \\Omega_1\\in \\Sigma_1\\). For complement: given \\(B\\in \\mathcal T: f^{-1}(\\Omega_2-B) = \\Omega_1-f^{-1}(B) \\in \\Sigma_1\\). For countable union: \\(\\displaystyle f^{-1}\\bigcup B_j = \\bigcup f^{-1}B_j \\in \\Sigma_1\\). The algebra of preimage commutes with all elementary set operations. Carathéodory theorem Definition 2.10 (outer measure) Given a set \\(\\Omega\\), a function \\(\\mu:2^\\Omega\\to \\mathbb R_{\\geq 0}\\) is an outer measure if it satisfies: non-negativity: \\(\\mu(\\emptyset) = 0\\). monotonicity: \\(A\\subset B\\implies \\mu(A) \\leq \\mu(B)\\). countable sub-additivity: for any countable collection of subsets \\(A_j\\subset \\Omega\\): \\[ \\mu \\bigcup_{j=1}^\\infty A_j \\leq \\sum_{j=1}^\\infty \\mu(A_j) \\] Definition 2.11 (Carathéodory criteria) Given an outer measure \\(\\mu:2^\\Omega\\to \\mathbb R_{\\geq 0}\\), a set \\(S\\subset \\Omega\\) satisfies the Carathéodory criteria (for measurability) if \\[ \\mu(\\forall E) = \\mu(E\\cap A) + \\mu(E\\cap A^c) \\] The set \\(S\\) is also said to be measurable (by the Carathéodory criteria). Lemma 2.1 (measurable sets form a set-algebra) The set \\(\\Sigma\\subset 2^\\Omega\\) of measurable sets is an algebra of sets that contains \\(\\emptyset, \\Omega\\). Proof We have \\(\\emptyset, \\Omega \\in \\Sigma\\) by definition 2.11 immediately. To show that \\(\\Sigma\\) is closed under countable intersection: given \\(A, B\\in \\Sigma\\), applying the given condition on \\((E, A), (\\cdot, B)\\) yields \\[\\begin{align} \\mu(E) &amp;= \\mu(E\\cap A) + \\mu(E\\cap A^c) \\\\ &amp;= \\mu(E\\cap A\\cap B) + \\mu(E\\cap A\\cap B^c) + \\mu(E\\cap A^c\\cap B) + \\mu(E\\cap A^c \\cap B^c) \\end{align}\\] We wish to show that the RHS equals \\(\\mu(E\\cap A\\cap B) + \\mu(E\\cap (A\\cap B)^c)\\). To this end, note that (using addition in place of union to reduce clutter): \\[\\begin{align} (A\\cap B)^c &amp;= A^c\\cap B + A\\cap B^c + A^c\\cap B^c \\\\ \\mu(E\\cap (A\\cap B)^c) &amp;= \\mu(E\\cap (A\\cap B)^c\\cap A) + \\mu(E\\cap (A\\cap B)^c \\cap A^c) \\\\ &amp;= \\mu(E\\cap A\\cap B^c) + \\mu(E\\cap A^c\\cap B + E\\cap A^c\\cap B^c) \\\\ &amp;= \\mu(E\\cap A\\cap B^c) + \\mu(E\\cap A^c\\cap B) + \\mu(E\\cap A^c\\cap B^c) \\\\ \\end{align}\\] The following lemmas each depend on the previous one and culminates in the Carathéodory theorem. Lemma 2.2 (countable additivity on measurable sets) Given disjoint sets \\(B_1, \\cdots \\in \\Sigma\\): \\[ \\mu \\left( E\\cap \\bigsqcup_{j=1}^\\infty B_j \\right) = \\sum_{j=1}^\\infty \\mu(E\\cap B_j) \\] In particular, \\(\\mu\\) is countable additive on \\(\\Sigma\\) by setting \\(E=\\Omega\\): \\[ \\mu \\bigsqcup_{j=1}^\\infty (B_j\\in \\Sigma) = \\sum_{j=1}^\\infty \\mu(B_j) \\] Proof For disjoint \\(B_1, B_2\\in \\Sigma\\), applying definition 2.11 yields \\(\\mu(B_1\\sqcup B_2) = \\mu(B_1) + \\mu(B_2)\\); finite additivity follows by induction. In particular, this implies the following limit since it holds for each \\(m\\) \\[ \\lim_{m\\to \\infty} \\mu\\left( E\\cap \\bigsqcup_{j=1}^m B_j \\right) = \\sum_{j=1}^\\infty \\mu(E\\cap B_j) \\tag{2.1} \\] We next show countable additivity: given disjoint \\(B_1, \\cdots\\) \\[ \\lim_{m\\to \\infty} \\mu\\left( E\\cap \\bigsqcup_{j=1}^m B_j \\right) \\leq \\mu \\left( E\\cap \\bigsqcup_{j=1}^\\infty B_j \\right) = \\mu \\left(\\bigsqcup_{j=1}^\\infty E\\cap B_j\\right) \\leq \\sum_{j=1}^\\infty \\mu(E\\cap B_j) \\] But the LHS and RHS are exactly those of equation (2.1), so we obtain the equality by sandwich-ing \\[ \\mu \\left( E\\cap \\bigsqcup_{j=1}^\\infty B_j \\right) = \\sum_{j=1}^\\infty \\mu(E\\cap B_j) \\] Lemma 2.3 (Carathéodory-measurable sets form a sigma-algebra) \\(\\Sigma\\) is a \\(\\sigma\\)-algebra; equivalently in light of lemma 2.1, \\[ B_{\\forall j}\\in \\Sigma\\implies \\bigcup_{j=1}^\\infty B_j \\in \\Sigma \\] Proof Without loss of generality assume \\(B_j\\) distinct. One direction follows from countable subadditivity: \\[ \\mu(E) = \\mu((E\\cap B)\\cup (E\\cap B^c)) \\leq \\mu(E\\cap B) + \\mu(E\\cap B^c) \\] For the other direction, the following equation holds for each \\(m\\) thus in limit \\[ \\mu_E = \\lim_{m\\to \\infty} \\mu\\left(E\\cap \\bigcup_{j=1}^m B_j \\right) + \\mu \\left[ E\\cap \\left(\\bigcup_{j=1}^m B_j\\right)^c \\right] \\tag{2.2} \\] The limit of the first term is known to be \\(\\mu(E\\cap B)\\), the second term \\[ \\mu \\left[ E\\cap \\left(\\bigcup_{j=1}^m B_j\\right)^c \\right] \\geq \\mu(E\\cap B^c) \\] by subadditivity; substituting into equation (2.2) completes the proof. \\[ \\mu_E \\geq \\mu\\left(E\\cap \\bigcup_{j=1}^\\infty B_j \\right) + \\mu \\left[ E\\cap \\left(\\bigcup_{j=1}^\\infty B_j\\right)^c \\right] \\] Theorem 2.3 (Carathéodory theorem) Given an outer measure \\(\\mu:2^\\Omega\\to \\mathbb R_{\\geq 0}\\): The collection \\(\\Sigma\\subset 2^\\Omega\\) of subsets satisfying Carathéodory’s criterion is a \\(\\sigma\\)-algebra, \\(\\mu:\\Sigma\\to \\mathbb R_{\\geq 0}\\) is a countably additive measure on \\(\\Sigma\\). "],["realMeasures.html", "3 Lebesgue measure Rectangles, exterior measure Lebesgue measure, Borel regularity", " 3 Lebesgue measure This section establishes the base case of the Lebesgue measure on \\(\\mathbb R^n\\): Exterior measure: foundational properties of the exterior measure and interaction with rectangles. Lebesgue measure and Borel regularity: Borel sets, example of a non-measurable set, and approximation characterizations of measurable sets. Key takeaways: The exterior measure is the natural outer-measure extension of rectangle volume that satisfies monotonicity and countable subadditivity. The Lebesgue measure is the Carathéodory restriction of the exterior measure. Rectangles are measurable (proposition 3.4), so Borel sets are measurable since they are freely-generated by rectangles. The exterior measure (rectangle cover infimum) is equivalent to open cover infimum, and on measurable sets equivalent to compact subset supremum. A set is measurable iff it can be upper-approximated by an open cover or lower-approximated by a closed subset up to arbitrarily small but finite measure 3.3. it can be approximated by a Borel set up to zero measure 3.4. it differs from a measurable set by zero measure 3.7. Rectangles, exterior measure Definition 3.1 (exterior measure) The exterior measure \\(\\mu_*(E)\\) of any subset \\(E\\subset \\mathbb R^n\\) is \\[ \\mu_*(E) = \\inf \\sum_{j=1}^\\infty |R_j| \\] where the \\(\\inf\\) is over all countable coverings of \\(E\\) by closed rectangles, the measure of a closed rectangle \\(R_j = \\prod_{j=1}^n [a_j, b_j]\\) is \\(|Q_j| = \\prod_{j=1}^n (b_j - a_j)\\). Proposition 3.1 The exterior is an outer measure per definition 2.10. \\(E_1\\subset E_2\\implies \\mu_*(E_1)\\leq \\mu_*(E_2)\\). \\(E=\\bigcup_{j=1}^\\infty E_j\\implies \\mu_*(E)\\leq \\sum_{j=1}^\\infty \\mu_*(E_j)\\). Proof To prove monotonicity, every covering of \\(E_2\\) by a countable set of cubes is also a covering of \\(E_1\\). For countable subadditivity, the main idea is to construct increasingly tight covers such that the countable union of these covers is still finitely tight. Assume the nontrivial case \\(\\mu_*(E_j)&lt;\\infty\\). For every \\(\\epsilon&gt;0\\), we can construct for each \\(j\\) a covering \\[ E_j\\subset \\bigcup_{k=1}^\\infty R_{k, j}, \\quad \\sum_{k=1}^\\infty |R_{k, j}| \\leq \\mu_*(E_j) + \\dfrac{\\epsilon}{2^j} \\] The increasingly tight bound ensures that \\[\\begin{align} \\mu_*(E) &amp;\\leq \\sum_{j, k}|R_{k, j}| \\leq \\sum_{j=1}^\\infty \\mu_*(E_j) + \\dfrac\\epsilon {2^j} = \\sum_{j=1}^\\infty \\mu_*(E_j)+\\epsilon \\end{align}\\] Proposition 3.2 (equivalence with open cover infimum) Given \\(E\\subset \\mathbb R^n\\), \\(\\mu_*(E)=\\inf \\mu_*(\\mathcal O)\\), where \\(\\inf\\) is over all open sets \\(\\mathcal O\\) covering \\(E\\). Proof \\(\\mu_*(E)\\leq \\inf \\mu_*(\\mathcal O)\\) holds by monotonicity. For the other direction, choose cubes \\(R_j\\) covering \\(E\\) with margin \\(\\epsilon/2\\), and for each cube choose open cube \\(O_j\\) covering \\(R_j\\) with margin \\(\\epsilon/2^{j+1}\\), then \\((O_j)\\) cover \\(E\\) with margin \\(\\epsilon\\). Given a countable set \\(R_j\\) of disjoint rectangles, it is intuitive (and easy to show that) \\[ \\mu_*\\bigsqcup_{j=1}^\\infty R_j = \\sum_{j=1}^\\infty \\mu_*(R_j) \\] This is our base case for establishing measurability later on. The following proposition is the main reason why we chose closed rectangles (instead of open, though they are effectively the same) as the basic measurable sets. Proposition 3.3 (additivity with finite distance) If \\(E=E_1\\cup E_2\\) and \\(d(E_1, E_2)&gt;0\\), then \\[ \\mu_*(E) = \\mu_*(E_1)+\\mu_*(E_2) \\] Proof By subadditivity, \\(\\mu_*(E)\\leq \\mu_*(E_1)+\\mu_*(E_2)\\). To show the converse, select \\(0&lt;\\delta &lt; d(E_1, E_2)\\) and choose a cover \\((Q_j)\\) of \\(E\\) by closed cubes with margin \\(\\epsilon\\). Subdivide \\((Q_j)\\) so that each has size less than \\(\\delta\\), so that each cube intersects at most one of \\(E_1, E_2\\). Denote by \\(J_1, J_2\\) the indices for which \\(Q_j\\) intersects \\(E_1, E_2\\), then \\(E_1, E_2\\) are covered by \\(Q_{J_1}, Q_{J_2}\\) respectively. Corollary 3.1 (additivity of almost-disjoint rectangles) The exterior measure is additive on countable collections of almost-disjoint rectangles \\(R_j\\in \\mathbb R^d\\). Proof Give \\(\\epsilon&gt;0\\), shrink rectangle \\(j\\) by \\(\\epsilon/2^j\\) so they are closed sets with finite distance, then invoke additivity through proposition 3.3. Proposition 3.4 (Carathéodory criteria for rectangles) Given a rectangle \\(\\subset \\mathbb R^n\\), \\[ \\mu_*(\\forall E\\subset \\mathbb R^n) = \\mu_*(E\\cap R)+ \\mu_*(E\\cap R^c) \\] Proof To prove the nontrivial direction \\(\\mu_*(E\\cap R)+ \\mu_*(E\\cap R^c)\\leq \\mu_*(\\forall E\\subset \\mathbb R^n)\\), choose an \\(\\epsilon\\)-cover \\(R_j\\) of \\(E\\), then rectang-ify \\(R_j\\) into \\(R^1_j, R^2_j\\) covering \\(E\\cap R, E\\cap R^c\\) respectively and invoke corollary 3.1. This shows that \\[ \\mu_*(E\\cap R)+ \\mu_*(E\\cap R^c) \\leq \\mu_*(\\forall E\\subset \\mathbb R^n) + \\epsilon, \\quad \\forall \\epsilon&gt;0 \\] Boundaries to not always have nontrivial measures (e.g. \\(\\mathbb Q\\cap [0, 1]\\)). There are even boundaries of closed sets which have nontrivial measure (e.g. fat Cantor set). Lebesgue measure, Borel regularity Definition 3.2 (Lebesgue measure) The set \\(\\mathcal L\\subset \\mathbb R^n\\) of Lebesgue measurable sets are the Carathéodory-measurable sets of the exterior measure: \\[ S\\in \\mathcal L \\iff \\mu_*(\\forall E\\subset \\mathbb R^n) = \\mu_*(E\\cap S)+\\mu_*(E\\cap S^c) \\] Note that one direction in the Carathéodory criterion always holds by subadditivity: \\[ \\mu_*(E) \\leq \\mu_*(E\\cap B) + \\mu_*(E\\cap B^c) \\] Proposition 3.5 (null sets are measurable) \\(\\mu(E\\subset \\mathbb R^n)=0\\implies E\\in \\mathcal L\\). Proof To show the nontrivial direction, \\(\\mu(E\\cap B)\\leq \\mu(E)=0\\), then \\(\\mu(E\\cap B^c) \\leq \\mu(E)\\) by subadditivity. Proposition 3.6 Proposition 3.7 If \\(\\mu_*(A\\Delta B) = 0\\) for \\(\\in \\mathcal L\\), then \\(A\\) is measurable. Proof Without loss of generality assume \\(B\\subset A\\). We wish to show thenontrivial direction \\[\\begin{align} \\mu_*(\\forall E) &amp;\\geq \\mu_*(E\\cap A) + \\mu_*(E\\cap A^c) \\end{align}\\] The second term \\(\\mu_*(E\\cap A^c)\\leq \\mu_*(E\\cap B^c)\\) by subadditivity, and the first term \\[ \\mu_*(E\\cap A) \\leq \\mu_*(E\\cap B) + \\mu_*(E\\cap (A-B)) \\leq \\mu_*(E\\cap B) + \\mu_*(A-B)_{=0} \\] Then \\(\\mu_*(E\\cap A) + \\mu_*(E\\cap A^c)\\leq \\mu_*(E\\cap B) + \\mu_*(E\\cap B^c) = \\mu_*(E)\\) by \\(B\\) measurable. Definition 3.3 (Borel sets) The Borel set \\(\\mathcal B\\subset 2^{R^n}\\) is the \\(\\sigma\\)-algebra freely generated by rectangles. Theorem 3.1 (Borel sets are Lebesgue measurable) \\(\\mathcal B\\subset \\mathcal L\\). Proof: Proposition 3.4 states that rectangles are measurable; invoking the machinery we built in the section on the Carathéodory theorem we obtain that the elements of the \\(\\sigma\\)-algebra freely generated by rectangles (Borel subsets) are measurable. A non-measurable set Write \\(x\\sim y\\) if \\(x-y\\) is rational and let \\(\\mathcal E_\\alpha\\) be the equivalence class of \\(\\alpha\\). Then \\([0, 1]=\\bigcup \\mathcal E_\\alpha\\) and construct \\(\\mathcal N\\) by choosing one element \\(x_\\alpha\\) from each \\(\\mathcal E_\\alpha\\). Proposition 3.8 \\(\\mathcal N\\) is not measurable. Proof: Assume \\(\\mathcal N\\) measurable and let \\(\\{r_k\\}_{k=1}^\\infty\\) be an enumeration of all rationals in \\([-1, 1]\\) and consider \\(\\mathcal N_k = \\mathcal N + r_k\\). Then all \\(\\{\\mathcal N_k\\}\\) are disjoint. Note that \\[ [0, 1] \\subset \\bigsqcup_{k=1}^\\infty \\mathcal N_k \\subset [-1, 2] \\] Assuming measurability (contradiction!), we have \\[ 1\\leq \\sum_{k=1}^\\infty \\mu(\\mathcal N_k) \\leq 3 \\] Every term in the sum is equal, but there is no real number which satisfies the construction above; contradiction: there cannot be a disjoint-additive function on the disjoint countable collection \\(\\{\\mathcal N_k\\}\\). Approximation of measurable sets We have seen that the exterior measure is equivalent to open cover infinum 3.2. We also have Proposition 3.9 (compact subset supremum) If \\(A\\) is Lebesgue measurable, then \\[ \\mu(A) = \\sup_{K\\subset A\\text{ compact}} \\mu(K) \\] Proof The trivial direction is \\(\\sup_{K\\subset A\\text{ compact}} \\mu(K) \\leq \\mu(A)\\). We wish to show, \\(\\forall \\epsilon&gt;0\\), that \\[ \\exists K\\subset A\\text{ compact}: \\mu(K) + \\epsilon \\geq \\mu(A) \\] Figure 3.1: \\(A\\) bounded First suppose \\(A\\) bounded; consider compact \\(F\\supset A\\), then there is an open set \\(G\\supset F-A\\) which \\(\\epsilon\\)-approximates \\(F-A\\), then \\(K=A\\cap O^c\\) is a compact sub-\\(\\epsilon\\) subset approximation of \\(A\\). \\(K\\) must be compact, else \\(F\\subset K\\cup O\\) will not be compact. \\(A\\) unbounded: we can construct for each \\(j\\in \\mathbb N\\) an \\(\\epsilon\\)-approximation of \\(A_j = A\\cap \\overline{B_j(0)}\\) with \\(A_j\\to A\\implies \\mu(A_j)\\to \\mu(A)\\). Theorem 3.2 (measurability by open cover approximation) \\(A\\subset \\mathbb R^n\\) is Lebesgue measurable iff \\(\\forall \\epsilon&gt;0\\), there exists \\(G\\supset A\\) such that \\[ \\mu_*(G - A) &lt; \\epsilon \\] Proof Given \\(A\\) measurable, the result follows from open cover infimum proposition 3.2. Conversely, suppose \\(A\\subset \\mathbb R^n\\) satisfies the conditions in the theorem, then choose an \\(\\epsilon\\)-cover \\(G\\supset A\\). Note that \\[ E\\cap A^c = E\\cap G^c + E\\cap (G-A) \\] Directly verify the Carathéodory criterion: we use the measurability of \\(G\\) and subadditivity \\[\\begin{align} \\mu_*(E\\cap A) + \\mu_*(E\\cap A^c) &amp;= \\mu_*(E\\cap A) + \\mu_*(E\\cap A^c) \\\\ &amp;\\leq \\mu_*(E\\cap G) + \\mu_*(E\\cap G^c) + \\mu_*(E\\cap (G-A)) \\\\ &amp;\\leq \\mu_*(E\\cap G) + \\mu_*(E\\cap G^c) + \\mu_*(G-A)_{&lt; \\epsilon} \\\\ &amp;&lt; \\mu_*(E\\cap G) + \\mu_*(E\\cap G^c) + \\epsilon = \\mu_*(E\\cap G) + \\epsilon \\end{align}\\] Theorem 3.3 (inner and outer regularity) \\(A\\subset \\mathbb R^n\\) is Lebesgue measurable iff \\(\\forall \\epsilon&gt;0\\), there exists open \\(G\\), closed \\(F\\), with \\(F\\subset A\\subset G\\) such that \\(\\mu_*(G - F) &lt; \\epsilon\\). Proof: If \\(A\\) satisfies the theorem conditions, then \\(\\mu_*(G - A) \\leq \\mu_*(G - F)&lt;\\epsilon\\) so \\(A\\) is measurable by theorem 3.2. Conversely, given \\(A\\) measurable, by theorem 3.2 choose \\(\\epsilon/2\\)-covers of both \\(A\\) and \\(A^c\\). Theorem 3.4 (measurability by Borel approximation) \\(A\\subset \\mathbb R^n\\) is Lebesgue measurable iff there exists Borel sets \\(G, F\\) with \\(F\\subset A\\subset G\\) such that \\[ \\mu(G - A) = \\mu(A - F) = 0 \\] Proof: By theorem 3.3, construct for each \\(k\\in \\mathbb N\\) sets \\(G_k, F_k\\) which \\(1/k\\)-squeeze \\(G\\), then \\(G=\\bigcap G_k, F=\\bigcup F_k\\) proves the theorem. "],["realIntegration.html", "4 Integration on \\(\\mathbb R^n\\) Measurable functions on \\(\\mathbb R^n\\) Littlewood’s three principles Lebesgue integration Convergence theorems", " 4 Integration on \\(\\mathbb R^n\\) This section explores measurable functions and Lebesgue integration on \\(\\mathbb R^n\\). Measurable functions on \\(\\mathbb R^n\\): approximation by simple functions, conditions for measurability, limit of measurable functions. Axler, chapter 3. Littlewood’s three principles: Egorov’s and Luzin’s theorems. Axler, chapter 3. Lebesgue integration: properties of of the Lebesgue integral, \\(L^1\\) norm. Rudin, chapter 11. Convergence theorems: monotone and dominated convergence theorems, Fatou’s lemma, relation to Riemann integral. Rudin, chapter 11. Key takeaways: Limit theorems: Every real measurable function is the pointwise limit of measurable simple functions 4.1. Pointwise limit of measurable functions is measurable 4.5. Littlewood’s three principles: Every measurable set on \\(\\mathbb R\\) can be approximated up to arbitrary but finite tolerance by a finite union of open intervals. Egorov’s theorem 4.3: for every finite (but arbitrary) tolerance to approximating a domain with finite measure, pointwise convergence a.e. is uniform convergence. Luzin’s theorem 4.4: every \\(\\mathbb R\\to \\mathbb R\\) measurable function is continuous in the subspace topology of a finite but arbitrary closed approximation to \\(\\mathbb R\\). Convergence theorems: Monotone convergence theorem: pointwise monotone limit of nonnegative measurable functions can be exchanged with integration. Fatou’s lemma: \\(\\liminf\\) of integral \\(\\leq\\) integral of \\(\\liminf\\) for nonnegative measurable sequences. Dominated convergence theorem: pointwise dominated limit can be exchanged with integration. General technique: prove for characteristic functions, then generalize using approximation and limit theorems. Sufficient conditions for measurability: semicontinuous, monotonic, the pointwise limit of a measurable sequence, or equals a measurable function a.e. Properties of the Lebesgue integral: \\(f\\) integrable iff \\(|f|\\) integrable. disjoint additivity w.r.t. domain. linear and order-preserving. sets of measure zero are negligible. Measurable functions on \\(\\mathbb R^n\\) Simple functions Definition 4.1 (characteristic function) Given \\(E\\subset \\Omega\\), the characteristic function \\(\\chi_E:\\Omega\\to \\mathbb R\\) is \\[ \\chi_E(x) = \\begin{cases} 1 &amp; x\\in E \\\\ 0 &amp; x\\notin E \\end{cases} \\] Proposition 4.1 Given \\((\\Omega, \\Sigma), E\\subset \\Omega\\), then \\(\\chi_E\\) is \\(\\Sigma\\)-measurable iff \\(E\\in \\Sigma\\). Proof: \\(\\chi_E^{-1}(B) = \\{E, \\Omega-E, \\Omega, \\emptyset\\}\\) depending on how \\(B\\subset \\mathbb R\\) intersects with \\(\\{0, 1\\}\\). Definition 4.2 (simple function) A simple function is a finite sum below, where each \\(E_k\\) is a finite-measurable set. \\[ f = \\sum_{k=1}^N a_k \\chi_{E_k} \\] Theorem 4.1 (simple-function approximation) Given a real function \\(f:\\Omega\\to \\mathbb R\\), there exists a sequence \\(\\{s_n\\}\\) of simple functions such that \\(s_n(x)\\to f(x)\\) point-wise. If \\(f\\) is measurable, then \\(\\{s_n\\}\\) may be chosen to be a sequence of measurable functions. If \\(f\\geq 0\\), then \\(\\{s_n\\}\\) may be chosen to be a monotonically increasing sequence. Proof idea: in the \\(n\\)-th approximation, approximate \\(f\\geq 0\\) (general case follows by \\(f=f^+-f^-\\)) up to value \\(n\\) by (1) divide \\(f^{-1}([0, n])\\) into \\(2^{n}\\) pieces, (2) assign a dominated to each of \\(2^n\\) intervals, and (3) approximate \\(f(x)&gt;n\\) with \\(n\\). Proof Given \\(f\\geq 0\\), define \\(F_n = f^{-1}([n, \\infty))\\) and \\[ E_{n, i} = f^{-1} \\left(\\left[2^{-n}(i-1), 2^{-n}i \\right]\\right) \\] For \\(n=1, 2, \\cdots\\) and \\(i=1, 2, \\cdots, n2^n\\), choose \\[ s_n = n\\chi_{F_n} + \\sum_{i=1}^{n2^n} \\dfrac{i-1}{2^n} \\chi_{E_{n, i}} \\] Note that \\(E_{n, i}\\) is the pre-image of the \\(i\\)-th slice of nonnegative real blocks of size \\(2^{-n}\\), and the first term assigns \\(\\inf f=2^{-n}(i-1)\\) on the corresponding intervals. The second term just assigns approximates with \\(n\\) all places where \\(f(x)\\geq n\\). The second term is reserved for cases where \\(f(x)=\\infty\\). If \\(f\\) is measurable, the domains of the characteristic decomposition are measurable so \\(s_n\\) is measurable. The general case follows by \\(f=f^+-f^-\\). Conditions for measurability Example 4.1 If \\(\\Sigma=\\{\\emptyset, \\Omega\\}\\), then the only \\(\\Sigma\\)-measurable functions from \\(\\Omega\\to \\mathbb R^n\\) are constant functions. On the other extreme, if \\(\\Sigma=2^\\Omega\\), then every function is measurable. For a nontrivial example, if \\(\\Sigma=\\{\\emptyset, (-\\infty, 0), [0, \\infty), \\mathbb R\\}\\) then \\(f:\\mathbb R\\to \\mathbb R\\) is measurable iff it is constant on \\((-\\infty, 0), [0, \\infty)\\). Proposition 4.2 (semi-continuity implies measurability) Every (lower or upper) semi-continuous \\(R^n\\)-valued function (definition 1.4) is measurable. Proof: Recall proposition 2.7. The Borel \\(\\sigma\\)-algebra is generated by half-rectangles \\((\\infty, t\\in \\mathbb R^n)\\) or \\((t, \\infty)\\) The explicit proof below demonstrates the relation between continuity and measurability. Proposition 4.3 (continuity implies Borel measurability) Every continuous function \\(f:\\Omega\\to \\mathbb R^n\\) defined on a Borel subset \\(\\Omega\\subset \\mathbb R^m\\) is a Borel-measurable function. Proof Consider the preimage of \\(x&gt;a\\) (\\(x, a\\in \\mathbb R^n\\) and inequality holds elementwise). For any such \\(a\\), consider \\[ f^{-1}(x&gt;a) = \\left[\\bigcup_{x\\in f^{-1}(x&gt;a)} (x-\\delta_x, x+\\delta_x) \\right]\\cap \\Omega \\] Given every \\(x\\in \\mathbb R^m: f(x)&gt;a\\), by continuity \\(\\exists \\delta_x\\in \\mathbb R\\) such that \\(f((x-\\delta_x, x+\\delta_x))&gt;a\\). The term in the paranthesis is an open set, hence its intersection with the Borel set \\(\\Omega\\) is Borel. \\(f:(\\Omega\\subset \\mathbb R)\\to \\mathbb R\\) is increasing if \\(x &lt; y\\implies f(x)\\leq f(y)\\); it is monotonic if \\(f\\) or \\(-f\\) is increasing. Proposition 4.4 if \\(f:\\Omega\\to \\mathbb R\\) is monotonic and \\(\\Omega\\) is Borel, then \\(f\\) is measurable. Proof Fix \\(a\\in \\mathbb R\\), then for \\(b=\\inf f^{-1}((a, \\infty))\\), monotonicity implies \\[ f^{-1}((a, \\infty)) = (b, \\infty)\\cap \\Omega \\text{ or } [b, \\infty)\\cap \\Omega \\] Proposition 4.5 (preservation of measurability under limits) Suppose a measurable sequence \\(\\{f_j\\}\\to f:(\\Omega, \\Sigma)\\to \\mathbb R^n\\) pointwise is \\(\\Sigma\\)-measurable, then \\(f\\) is \\(\\Sigma\\)-measurable. Proof Unrolling the definition of the limit: for any \\(x\\in \\Omega, a\\in \\mathbb R^n\\), \\(f(x)&gt;a\\) iff \\[\\begin{align} &amp; \\lim_{k\\to \\infty} f_k(x) &gt; a \\\\ \\iff &amp; \\exists j&gt;0, \\exists N: f_{\\forall k&gt;N}(x)&gt;a+1/j \\\\ \\iff &amp; x\\in \\bigcup_{j=1}^\\infty \\bigcup_{N=1}^\\infty \\bigcap_{k=1}^\\infty f_k^{-1}(y&gt;a+1/j) \\end{align}\\] Note that we only need some \\(j\\) to exist. Each \\(\\exists\\) translates to \\(\\bigcup\\), and each \\(\\forall\\) translates to \\(\\bigcap\\). Then the preimage of \\(y&gt;a\\) the measurable set above. Definition 4.3 (extended Borel) \\(A\\subset [-\\infty \\infty]\\) is a Borel set if \\(A\\cap \\mathbb R\\) is Borel. Extended measurability is defined similarly. Theorem 4.2 (variational limits are measurable) Given measurable \\(\\{f_k: (\\Omega, \\Sigma)\\to \\mathbb R\\}\\), the following functions are also measurable: \\[ g(x) = \\inf_k f_k(x), \\quad h(x) = \\sup_k f_k(x) \\] Proof It suffices to verify for the \\(\\sup\\) case that \\[\\begin{align} h(x) &gt; a &amp;\\implies \\exists k: f_k(x) &gt; a \\\\ h^{-1}((a, \\infty]) &amp;= \\bigcup_{k=1}^\\infty f_k^{-1}((a, \\infty]) \\end{align}\\] Proposition 4.6 (a.e. measurability) Given \\(f\\) measurable and \\(f=g\\) a.e. (they differ on a set of measure \\(0\\) on the domain), then \\(g\\) is measurable. Proof The symmetric difference of the pre-images \\(f^{-1}, g^{-1}\\) is dominated by a set of measure \\(0\\), then by \\(f\\)-measurability \\(g^{-1}(A)\\) is measurable for \\(A\\) measurable (proposition 3.7). Littlewood’s three principles Littlewood’s three principles (at least the ones we prove) apply to \\(\\mathbb R\\) and real-valued functions on the real domain. Every finite-measurable set is almost a finite union of intervals. Every measurable function is almost continuous. Every pointwise convergent sequence of measurable functions is almost uniformly convergent. It is convenient to first introduce some notation for monotone limits. Definition 4.4 (sequence of sets) An increasing sequence of sets \\(\\{A_n\\}\\) is a sequence \\[ A_1\\subset A_2\\subset \\cdots \\to A = \\bigcup_{n=1}^\\infty A_n \\] also written \\(A_j\\nearrow A\\). Similarly, a decreasing sequence of sets is written \\(A_j\\searrow A\\). \\[ A_1\\supset A_2\\supset \\cdots \\to A = \\bigcap_{n=1}^\\infty A_n \\] Proposition 4.7 (Littlewood's first principle) Given measurable \\(E\\subset \\mathbb R\\) with \\(\\mu(E)&lt;\\infty\\), there exists a finite union \\(O\\) of intervals such that \\(\\mu(O\\Delta E) &lt; \\epsilon\\) for every \\(\\epsilon\\). Proof idea: prove for open \\(E\\) and apply theorem 3.3. Proof Every open set \\(O\\) is the interval of countably many disjoint open intervals (this is because every disjoint interval contains a rational number, of which there are countably many), then \\(\\mu(O) = \\sum_{j=1}^n \\mu((a_j, b_j))\\). Thus for every \\(\\epsilon&gt;0\\) we can choose a \\(\\epsilon\\)-approximation with finite intervals. Apply theorem 3.3 to obtain the result for general measurable sets. To be precise, the third principle is formulated as follows: Theorem 4.3 (Egorov's theorem) Consider a measurable sequence \\(f_k\\to f\\) a.e. on a finite-measurable set \\(E\\) with \\(\\mu(E)&lt;\\infty\\). For every \\(\\epsilon&gt;0\\), there exists a closed set \\(A_\\epsilon \\subset E\\) such that \\(f_k\\to f\\) and \\(\\mu(E-A_\\epsilon)&lt;\\epsilon\\) uniformly on \\(A_\\epsilon\\). Proof idea: given domain tolerance \\(\\epsilon\\), construct by pointwise convergence a family \\(F_n\\) of \\((\\epsilon 2^{-n})\\)-domain approximations on which \\(f_j\\) will uniformly \\(1/n\\)-approximate \\(f\\) on \\(F_n\\). Then \\(f_j\\to f\\) uniformly on the intersection \\(A_\\epsilon\\) of \\(F_n\\), which is also an \\(\\epsilon\\)-domain approximation. Proof Note that we can’t simply use compactness here since the domain approximation may be unbounded. Translate pointwise convergence: fixing \\(n\\in \\mathbb N\\), for every \\(x\\in X\\) there exists \\(m\\in \\mathbb N\\) such that \\(f_{\\forall k\\geq m}\\) will \\(\\epsilon\\)-approximate \\(f\\) at \\(x\\), then \\[ X = \\bigcup_{m=1}^\\infty A_{m, n}, \\quad A_{m, n} = \\bigcap_{k=m}^\\infty \\{x: |f_k(x) - f(x)| &lt; 1/n\\} \\] Here \\(A_{m, n}\\) is the domain on which \\(f_{\\forall k\\geq m}\\) will \\(1/n\\)-approximate \\(f\\). Given domain tolerance \\(\\epsilon&gt;0\\), for each \\(n&gt;0\\) we can find \\(m_n\\) such that \\[ \\mu(X) - \\mu(A_{m_n, n}) &lt; \\dfrac\\epsilon {2^n} \\] This definition implies that \\(f_{\\forall j\\geq m_n}\\) will \\(1/n\\)-approximate \\(f\\) on \\(A_{m_n, n}\\). Let \\(A_\\epsilon = \\bigcap_{n=1}^\\infty A_{m_n, n}\\); then for every \\(\\epsilon&#39;&gt;1/N&gt;0\\), \\(f\\) will be \\(\\epsilon&#39;\\)-approximated by \\(f_{j\\geq m_N}\\) on \\(A_\\epsilon \\subset A_{M_N, N} \\subset A_\\epsilon\\). Argue for \\(\\epsilon\\)-approximation of the domain: \\[\\begin{align} \\mu(\\Omega - A_\\epsilon) &amp;= \\mu \\bigcup_{n=1}^\\infty \\Omega - A_{m_n, n} \\leq \\sum_{n=1}^\\infty \\epsilon/2^n &lt; \\epsilon \\end{align}\\] We can choose \\(A_\\epsilon\\) to be closed by the characterization of measurable sets (theorem 3.3). Similarly, the precise statement of the second principle is as follows. Note that does not claim that \\(f\\) is pointwise continuous on \\(F_\\epsilon\\) in the topology of \\(\\mathbb R\\), only that \\(f_{|F_\\epsilon}\\) is continuous in the subspace topology. Lemma 4.1 Given a Borel-measurable \\(f:\\mathbb R\\to \\mathbb R\\), for every \\(\\epsilon&gt;0\\) there exists a closed \\(F\\subset \\mathbb R\\) with \\(|\\mathbb R- F|&lt;\\epsilon\\) such that \\(f_{|F}\\) is continuous on \\(F\\). Proof idea: establish for (1) simple functions, (2) arbitrary functions on compact interval, using pointwise approximation by simple functions and Egorov’s theorem, and (3) extended domain by pasting local chunks. a.e. Proof First assume \\(f = \\sum_{j=1}^N \\alpha_j \\chi_{E_j}\\). By theorem 3.3 choose \\(U_j\\supset E_j\\supset F_j\\) with \\(U_j\\) open, \\(F_j\\) closed, and both are \\((\\epsilon/2n)\\)-approximations of \\(E_j\\). The closed set is the union of each \\(F_j\\) and \\(U_j^c\\): \\[ E = F \\cup (\\mathbb R- U), \\quad F = \\bigcup_{j=1}^N F_j, \\quad U = \\bigcup_{j=1}^N U_j \\] both \\(F, U^c\\) are closed and \\(\\mu(\\mathbb R-E) &lt; \\epsilon\\). Continuity on \\(E\\) follows by \\(f\\) being constantly zero on disjoint closed intervals, so the pasting lemma applies. Next consider general \\(f\\) on a compact interval. Every \\(f\\) is the pointwise limit of simple functions (theorem 4.1) and their uniform limit on a closed subset (Egorov’s theorem 4.3) thus continuous. To extend the domain, construct \\(\\epsilon\\cdot 2^{-n-1}\\)-approximations to \\(f\\) on \\([-n, 1-n]\\) and \\([n-1, n]\\) and apply the pasting lemma. Theorem 4.4 (Luzin's theorem) Given a Borel measurable \\(f:(E\\subset \\mathbb R)\\to \\mathbb R\\), for every \\(\\epsilon&gt;0\\) there exists a closed \\(\\epsilon\\)-approximation \\(F \\subset E\\) such that \\(f_{|F}\\) is continuous in the subspace topology. Proof: Apply lemma 4.1 to the continuous extension of \\(f\\) to all of \\(\\mathbb R\\). Lebesgue integration Definition 4.5 (function support) The support of a measurable function \\(f\\) is \\[ \\mathrm{supp}(f) = \\overline{f^{-1}(\\{0\\}^C)} \\] the closure of domain on which \\(f\\) does not vanish. Definition 4.6 (S-partition) Given a \\(\\sigma\\)-algebra \\(\\Sigma\\) on \\(\\Omega\\), a \\(S\\)-partition of \\(\\Omega\\) is a finite collection \\(A_1, \\cdots, A_m\\in \\Sigma\\) of disjoint sets such that \\(\\bigsqcup A_j = \\Omega\\). Definition 4.7 (lower Lebesgue sum) Given measure space \\((\\Omega, \\Sigma, \\mu)\\), an \\(\\Sigma\\)-measurable function \\(f:\\Omega\\to [0, \\infty]\\), and a \\(\\Sigma\\)-partition \\(P=\\{A_1, \\cdots, A_m\\}\\) of \\(\\Omega\\), the lower Lebesgue sum is \\[ \\mathcal L_\\mu(f, P) = \\sum_{j=1}^m \\mu(A_j)\\inf_{A_j} f \\] Definition 4.8 (nonnegative integral) The integral of a non-negative function \\(f:\\Omega\\to [0, \\infty]\\) w.r.t. the measure \\((\\Sigma, \\mu)\\) is the following \\(\\sup\\) with \\(P\\) over all S-partitions of \\(\\Omega\\): \\[ \\int f\\, d\\mu = \\sup_P \\mathcal L_\\mu(f, P) \\] Proposition 4.8 (base case for Lebesgue integral) Given \\((\\Omega, \\Sigma, \\mu)\\) and measurable \\(E\\in \\Sigma\\), we have \\(\\int \\chi_E\\, d\\mu = \\mu(E)\\). Proof We have \\(\\mathcal L_\\mu(\\chi_E, \\{E, \\Omega-E\\}) = \\mu(E)\\), then \\(\\int f\\, d\\mu \\geq \\mu(E)\\). Conversely, given any S-partition \\(P=\\{A_1, \\cdots, A_m\\}\\) of \\(\\Omega\\), for each \\(j\\) \\[ \\mu(A_j) \\inf_{A_j} \\chi_E = \\begin{cases} \\mu(A_j) &amp; A_j\\subset E \\\\ 0 &amp; \\text{otherwise} \\end{cases} \\] then \\(\\mathcal L(\\chi_E, P) = \\sum_{A_j\\subset E} \\mu(A_j) \\leq \\mu(E)\\). Proposition 4.9 (integral of a simple function) Given a measure space \\((\\Omega, \\Sigma, \\mu)\\) and disjoint \\(E_1, \\cdots E_n\\), we have \\[ \\int \\left(\\sum_{k=1}^n c_k \\chi_{E_k}\\right)\\, d\\mu = \\sum_{k=1}^n c_k \\mu(E_k) \\] Proof The LHS integral is lower-bounded by the \\(\\Sigma\\)-partition \\(\\{E_j\\}\\cup \\{\\Omega-\\bigcup E_j\\}\\). The converse follows similar to the last proposition. Corollary 4.1 (equivalent definition of nonnegative integral) Given \\((\\Omega, \\Sigma, \\mu)\\) and measurable \\(f:\\Omega\\to [0, \\infty]\\), the integral definition 4.8 is equivalent to \\[ \\int f\\, d\\mu = \\sup_P \\mathcal L_\\mu(f, P) = \\sup_{s\\leq f} \\int s\\, d\\mu \\] where the last \\(\\sup\\) is taken over all simple function \\(f\\) dominated by \\(f\\): \\(\\forall x\\in \\Omega: f(x)\\geq s(x)\\). Proof: Follows from \\(\\mathcal L_\\mu(f, P)\\) being the integral of a simple function. Definition 4.9 (Lebesgue integral) Given \\((\\Omega, \\Sigma, \\mu)\\) and measurable \\(f(x)\\in [-\\infty, \\infty]\\) with \\(f=f^+-f^-\\) and \\(f^+, f^-\\geq 0\\). If at least one of \\(\\int f^+\\, d\\mu, \\int f^-\\, d\\mu\\) is finite, then the Lebesgue integral of \\(f\\) is \\[ \\int f\\, d\\mu = \\int f^+\\, d\\mu - \\int f^-\\, d\\mu \\] Note that, for example, the integral of the following function is not defined: \\[ f(x) = \\begin{cases} 1 &amp; x\\geq 0 \\\\ -1 &amp; x &lt; 0 \\end{cases} \\] Definition 4.10 (integral metric, integrable space) Fix \\((\\Omega, \\Sigma, \\mu)\\); if \\(f:\\Omega\\to [-\\infty, \\infty]\\) is measurable, then the \\(L^1\\)-norm of \\(f\\) is \\[ \\|f_1\\| = \\int |f|\\, d\\mu \\] The Lebesgue space \\(L^1(\\mu)\\) is also defined as \\(L^1(\\mu) = \\{f:\\Omega\\to \\mathbb R\\text{ satisfying } \\|f\\|_1 &lt; \\infty \\}\\). Theorem 4.5 (properties of integration) The following properties are evident for \\(f, g\\in L^1(\\mu)\\): Linearity: \\(\\int cf+g\\, d\\mu = c\\int f\\, d\\mu + \\int g\\, d\\mu\\). Order-preserving: \\(f\\leq g\\implies \\int f\\, d\\mu \\leq \\int g\\, d\\mu\\). \\(\\left|\\int f\\, d\\mu\\right| \\leq \\int |f|\\, d\\mu\\). Proof General idea is to establish for simple functions, then show that the proof commutes with integral construction. For (2), use \\(\\int g\\, d\\mu - \\int f\\, d\\mu = \\int (g-f)\\, d\\mu\\). For (3), \\[\\begin{align} \\left|\\int f\\, d\\mu\\right| &amp;= \\left| \\int f^+\\, d\\mu - \\int f^-\\, d\\mu\\right| \\leq \\int f^+\\, d\\mu + \\int f^-\\, d\\mu \\\\ &amp;= \\int (f^++f^-)\\, d\\mu = \\int |f|\\, d\\mu \\end{align}\\] Definition 4.11 (integration on subset) Given \\((\\Omega, \\Sigma, \\mu)\\) and \\(E\\in \\Sigma\\) and measurable \\(f:\\Omega\\to [-\\infty, \\infty]\\), the subset integral is \\[ \\int_E f\\, d\\mu = \\int \\chi_E f\\, d\\mu \\] Proposition 4.10 (integral bound) Given \\(\\int_E f\\, d\\mu &lt; \\infty\\), \\[ \\left|\\int_E f\\, d\\mu \\right| \\leq \\mu(E) \\sup_E |f| \\] Proof Let \\(c=\\sup_E |f|\\), then \\(\\displaystyle \\left|\\int_E f\\, d\\mu\\right| \\leq \\int \\chi_E |f|\\, d\\mu \\leq \\int c\\chi_E \\, d\\mu = c\\mu(E)\\). Theorem 4.6 (disjoint additivity w.r.t domain) Given measurable \\(f\\), define the function \\(\\phi:\\Sigma\\to [-\\infty, \\infty]\\) by \\[ \\phi(A) = \\int_A f\\, d\\mu \\] then for every \\(A, B\\in \\Sigma\\), we have \\(\\phi(A\\sqcup B) = \\phi(A)+\\phi(B)\\). Proof Without loss of generality consider nonnegative \\(f\\). If \\(f\\) is a characteristic function, then countable additivity is equivalent to the countable subadditivity of \\(\\mu\\). The general proof just demonstrates the commutativity of countable subadditivity with the \\(\\sup\\) integral construction. Corollary 4.2 (sets of zero measure are negligible in integration) Given \\(A, B\\in \\Sigma\\) such that \\(\\mu(A-B)=0\\), then \\[ \\int_A f\\, d\\mu = \\int_B f\\, d\\mu \\] Proof Follows from additivity theorem 4.6 and applying \\(\\mu(A-B)=0\\) to proposition 4.10. The integrability of \\(f\\) implies that of \\(|f|\\), and the Lebesgue integral is often called an absolutely convergent integral. Proposition 4.11 (several conditions for integrability) \\(f\\in L^1(\\mu)\\implies |f|\\in L^1(\\mu)\\). \\(f\\) is measur_Proof:_able and \\(|f|\\leq g \\in L^1(\\mu)\\implies f\\in L^1(\\mu)\\). Proof: for (1), recall that \\(f\\in L^1(\\mu)\\) if both \\(f^+, f^-\\) have finite integrals, then \\(|f|=f^++f^-\\) is integrable. Similarly, (2) follows from \\(f^+, f^-\\leq g\\). Convergence theorems The following convergence theorems are the cornerstone of Lebesgue theory: Theorem 4.7 (Lebesgue's monotone convergence theorem) Given \\(E\\) measurable, let \\(\\{f_n\\}\\) be a sequence of measurable functions such that \\(0\\leq f_1\\leq \\cdots\\) on \\(E\\) and \\(f_n\\to f\\), then \\[ \\lim_{n\\to \\infty} \\int_E f_n \\, d\\mu = \\int_E \\lim_{n\\to \\infty} f_n\\, d\\mu \\] Pointwise monotone convergence of measurable functions on a measurable set implies convergence of integral. Proof idea: one direction of the inequality is trivial; the other is established by first proving for a dominated simple approximations of \\(f\\) then taking the \\(\\sup\\). Proof In one direction, the implied equation holds for each \\(m\\) thus in limit \\[ f_n \\leq f\\implies \\lim_{m\\to \\infty} \\int f_m\\, d\\mu \\leq \\int_E \\lim_{n\\to \\infty} f_n \\, d\\mu \\] To establish the other direction, fix \\(c\\in (0, 1)\\) and a dominated simple approximation \\(s\\leq f\\). Define \\[ E_n = \\{x| f_n \\geq c s\\} \\] Note that \\(E_j \\nearrow E\\) (recall notation 4.4). For every \\(n\\) \\[ \\int_E f_n \\, d\\mu \\geq \\int_{E_n} f_n\\, d\\mu \\geq c\\int_{E_n} s\\, d\\mu \\] Let \\(n\\to \\infty\\) and take the limit \\(c\\to 1\\) to obtain \\[ \\int \\lim_{n\\to \\infty} f_n\\, d\\mu \\geq \\lim_{n\\to \\infty} \\int_{E_n} f_n \\, d\\mu \\geq c\\int_E s\\, d\\mu \\] Take the \\(\\sup\\) over all \\(s\\) and the simple function approximation theorem 4.1 to obtain \\(F\\geq \\int_E f\\, d\\mu\\). Applying the monotone convergence theorem above to partial sums yield Corollary 4.3 Given measurable \\(E\\in \\Sigma\\) and nonnegative measurable sequence \\((f_j)\\); define their sum \\[ f = \\sum_{n=1}^\\infty f_n \\] then \\(\\int_E f = \\sum_{n=1}^\\infty \\int_E f_n\\, d\\mu\\). Lemma 4.2 (Fatou's lemma) For measurable \\(E\\), given nonnegative measurable sequence \\((f_j)\\) and \\[ f(x) = \\liminf_{n\\to \\infty} f_n(x) \\] then the integral is similarly bounded \\[ \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] Apply the dominated convergence theorem (carefully! expand to see details) to \\(g_j = \\inf_{k\\geq j} f_j\\). Proof Define \\(g_n = \\inf_{i\\geq n} f_i\\), then \\(g_n\\) is measurable and \\[ i\\leq j\\implies g_i\\leq g_j, \\quad g_n\\to f \\] Applying the monotone convergence theorem yields \\[ \\int_E g_n\\, d\\mu \\to \\int_E f\\, d\\mu \\] Note that this does not imply equality because the monotone convergence theorem above yields the first equality, and the second inequality may be strict \\[ \\int_E f\\, d\\mu = \\lim_{n\\to \\infty} \\int_E \\inf_{k\\geq n} f_k\\, d\\mu \\leq \\int_E f\\, d\\mu = \\lim_{n\\to \\infty} \\inf_{k\\geq n} \\int_E f_k\\, d\\mu \\] There exist examples (see below) where measure is lost through \\(\\inf f_k\\) but not through the \\(\\inf\\) of the integral. Example 4.2 (strict inequality in Fatou's theorem) Let \\(g(x) = (0\\leq x\\leq 1/2)^?0:1\\) and \\[ f_{2k}(x) = g(x), \\quad f_{2k+1} = g(1-x) \\] then \\(\\liminf_{n\\to \\infty} f_n = 0\\) but \\(\\forall n, \\int_0^1 f_n(x)\\, dx = 1/2\\). Theorem 4.8 (Lebesgue's dominated convergence theorem) Given measurable sequence \\((f_j)\\to f\\) pointwise and \\(|f_j| \\leq g\\) with \\(g\\) measurable, then \\[ \\lim_{n\\to \\infty} \\int_E f_n\\, d\\mu = \\int_E f\\, d\\mu \\] As a corollary, \\(L^1\\) is complete under dominated pointwise convergence. Apply Fatou’s theorem to \\(f_n+g\\geq 0\\) and \\(g-f_n\\geq 0\\). Proof First note that \\(f_j, f\\) are integrable since they’re dominated by \\(g\\). By \\(f_n+g\\geq 0\\), invoke Fatou’s theorem \\[ \\int_E (f + g)\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E (f_n+g)\\, d\\mu \\implies \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] and pull \\(g\\) out of both sides. Again, by \\(g-f_n\\geq 0\\) see \\[\\begin{align} \\int_E (g - f)\\, d\\mu &amp;\\leq \\liminf_{n\\to \\infty} \\int_E (g - f_n)\\, d\\mu \\\\ -\\int_E f\\, d\\mu &amp;\\leq \\liminf_{n\\to \\infty} \\int_E -f_n\\, d\\mu =-\\limsup_{n\\to \\infty} \\int_E f_n\\, d\\mu \\end{align}\\] Combine the two results to obtain equality \\[ \\limsup_{n\\to \\infty} \\int_E f_n\\, d\\mu \\leq \\int_E f\\, d\\mu \\leq \\liminf_{n\\to \\infty} \\int_E f_n\\, d\\mu \\] Corollary 4.4 (bounded convergence theorem) Given finite-measurable \\(\\mu(E) &lt; \\infty\\) and uniformly bounded convergent sequence \\((f_n)\\to f\\) (i.e. \\(|f_n(x)|\\leq M\\) for all \\(n, x\\)), the dominated convergence theorem applies. Proof: Given finite measure \\(\\mu(E)&lt;\\infty\\), the constant-\\(M\\) function is integrable and dominates \\((f_n)\\). Comparison with Riemann integral Denote the Riemann integral by \\(\\mathcal R\\int_a^b f\\, dx\\). Theorem 4.9 (compatibility with Riemann integral) A function \\(f\\) Riemann integrable on \\([a, b]\\) implies \\(f\\in L^1([a, b])\\) and \\[ \\int_a^b f\\, dx = \\mathcal R \\int_a^b f\\, dx \\] By existence of the Riemann integral, there exists a countable sequence of iteratively refined partitions \\(P_k\\) such that \\[ \\lim_{k\\to \\infty} L(P_k, f) = \\mathcal R \\underline{\\int} f\\, dx, \\quad \\lim_{k\\to \\infty} U(P_k, f) = \\mathcal R \\bar \\int f\\, dx \\] For each partition \\(P_k\\), define functions \\(U_k(x\\in [x_{j-1}, x_j])\\) and \\(L_k\\) to be the sup and inf along the interval, respectively, then in the Lebesgue sense, \\[ L(P_k, f) = \\int L_k\\, dx, \\quad U(P_k, f) = \\int U_k\\, dx \\] the functions are also monotone \\(L_1 \\leq L_2 \\leq \\cdots \\leq f \\leq \\cdots \\leq U_1\\). Let \\(L_k\\to L, U_k\\to U\\), then \\(L, U\\) are bounded measurable functions with \\(L\\leq f\\leq U\\). Then \\[ \\int L\\, dx = \\mathcal R \\underline \\int f\\, dx, \\quad \\int U\\, dx = \\mathcal R \\bar \\int f\\, dx \\] by the monotone convergence theorem. Further note that \\(f\\) is Riemann-integrable iff \\(\\int L\\, dx = \\int U\\, dx\\). This implies \\(L=U\\) a.e. since \\(L\\leq U\\), then \\(L=f=U\\) a.e. and \\(f\\) is measurable; equality with Lebesgue integral follows. Theorem 4.10 (Riemann integrability theorem) Given \\(f\\) bounded on \\([a, b]\\), then the Riemann integral \\(\\mathcal R\\int_a^b f\\, dx\\) exists iff \\(f\\) is continuous a.e. on \\([a, b]\\). Proof: Extending the last proof: for any \\(x\\notin P_k\\) for any \\(k\\), we have \\(U(x)=L(x)\\) iff \\(f\\) is continuous at \\(x\\) (think about this! equivalent to saying that \\(\\sup\\approx \\inf\\) arbitrarily close intervals about \\(x\\)); the union \\(\\bigcup P_k\\) is countable of measure \\(0\\), then \\(f\\) is continuous a.e. iff \\(L=U\\) a.e. iff \\(f\\) is Riemann-integrable on \\([a, b]\\). "],["iteratedIntegrals.html", "5 Iterated integrals Product measure Fubini’s theorem", " 5 Iterated integrals Product measure Theorem 5.1 (characterization of product measure) Placeholder. Fubini’s theorem "],["lp-spaces.html", "6 \\(L^p\\) Spaces Definitions Space and norm Major inequalities", " 6 \\(L^p\\) Spaces Key takeaways: The convexity of \\(x\\mapsto |x|^p\\) implies Young’s inequality (proposition 6.2) and the vector space structure of \\(L^p(\\Omega)\\) (proposition 6.3). To be precise, \\(L^p\\) spaces are equivalence classes of functions which agree \\(\\mu\\)-a.e. Definitions Convexity, Young’s inequality Definition 6.1 (convex set and function) A convex set \\(K\\subset \\mathbb R^n\\) is closed under \\((x, y)\\mapsto \\lambda x + \\bar y\\) for all \\(\\lambda \\in [0, 1]\\). A convex function on a convex set \\(K\\) is a real-valued function satisfying \\[ f(\\lambda x + \\bar \\lambda y) \\leq \\lambda f(x) + \\bar \\lambda f(y) \\] the function \\(f\\) is strictly convex at \\(x\\) if the inequality is strict for all \\(y\\). Proposition 6.1 If \\(K\\) is an open set, then a convex function on \\(K\\) is continuous. Definition 6.2 (support plane) The support plane to a graph of \\(f:K\\to \\mathbb R\\) at \\(x\\in K\\subset \\mathbb R^n\\) is a plane in \\(\\mathbb R^{n+1}\\) that touches \\((x, f(x))\\) and that nowhere lies above the graph; if the support plane at \\(x\\) is unique, then it is the tangent plane. For example, there is no unique support plane at \\(x=0\\) for \\(|x|\\). For convex \\(f\\), the existence of a tangent plane is equivalent to differentiability. In particular, the tangent plane for \\(y=f(x)\\) at \\(x_0\\) has expression \\[ y - f(x_0) = \\nabla f(x_0) \\cdot (y - x) \\] Thus for general convex functions, for each \\(x\\) there exists a vector \\(V\\in \\mathbb R^n\\) such that \\[ f(y) \\geq f(x) + V\\cdot (y - x) \\] Definition 6.3 (Hölder conjugate) The Hölder conjugate of \\(p&gt;1\\) is given by the equation \\[ p^{-1} + q^{-1} = 1 \\] It is oftentimes more convenient to note that \\[ p = \\dfrac q {q - 1} \\iff q = \\dfrac p {p - 1} \\] Proposition 6.2 (Young's inequality) Given Hölder conjugates \\(p, q&gt;1\\), \\[ ab \\leq \\dfrac{a^p}{p} + \\dfrac{b^q}{q}, \\quad \\forall a, b\\geq 0 \\] Equality is saturated when \\(a^p = b^q\\). Proof Consider the convex function \\(f(a) = \\dfrac{a^p}{p}\\). Its Legendre transform is \\[\\begin{align} g(b) &amp;= \\sup_a \\left(ab - \\dfrac{a^p}{p}\\right) = a_*b - \\dfrac{a_*^p}{p},\\quad a_* = b^{1/(p-1)} \\\\ &amp;= b^{1 + 1/(p-1)} - \\dfrac 1 p b^{p/(p-1)} = b^q - \\dfrac 1 p b^q = \\dfrac{b^q}{q} \\end{align}\\] Young’s inequality follows from the variational characterization of the Legendre transform. Equality is saturated when \\(a=b^{1/(p-1)} \\iff a^p = b^q\\). Space and norm Definition 6.4 (Lp space, norm) Given a positive (nonnegative) measure \\(\\mu\\) and \\(1\\leq p&lt;\\infty\\), the space \\(L^p(\\Omega, d\\mu)\\) is the space of complex-valued functions \\(f:\\Omega\\to \\mathbb C\\) such that: \\(f\\) is \\(\\mu\\)-measurable. \\(|f|^p\\) is \\(\\mu\\)-integrable. The measure \\(d\\mu\\) is usually omitted if understood. Given \\(f\\in L^p(\\Omega)\\), its norm is \\[ \\|f\\|_p = \\left[\\int_\\Omega |f(x)|^p \\mu(dx)\\right]^{1/p} \\] This definition is extended to \\(L^\\infty(\\Omega, d\\mu)\\) as the space of \\(\\mu\\)-a.e. bounded functions, with \\[ \\|f\\|_\\infty = \\inf \\{ K: f \\leq K \\text{ for } \\mu\\text{-a.e.} \\} \\] The \\(\\infty\\)-norm is also called the essential supremum of \\(|f|\\). Proposition 6.3 (vector space property) \\(L^p(\\Omega, d\\mu)\\) is a vector space. Proof Closure under scalar multiplication is apparant. Closure under addition follows from the convexity of \\(|x|^p\\). \\[ \\left\\|\\dfrac{\\alpha + \\beta}{2}\\right\\|^p \\leq \\dfrac{|\\alpha|^p + |\\beta|^p}{2} \\] which follows from the convexity of \\(|x|^p\\). Proposition 6.4 (norm properties) The \\(L^p\\) norm satisfies: Linearity: \\(\\|\\lambda f\\|_p = |\\lambda| \\|f\\|_p\\). Nonnegativity: \\(\\|f\\|_p\\geq 0\\) with equality iff \\(f=0\\) for \\(\\mu\\)-a.e. Triangle inequality: \\(\\|f+g\\|_p \\leq \\|f_p\\| + \\|g\\|_p\\). Proof Linearity is apparant, for the second part, \\(\\|f\\|_p = 0 \\iff \\|f^p\\|_1 = 0 \\iff f=0\\), the second and third \\(=0\\) are to be understood as \\(\\mu\\)-a.e. Major inequalities From now on we work in a measure space denoted \\((\\Omega, \\Sigma, \\mu)\\). Assuming \\(\\mu(\\Omega)\\) is finite, the average of a measurable function \\(f:\\Omega\\to \\mathbb R\\) is defined as \\[ \\langle f\\rangle= \\dfrac 1 {\\mu(\\Omega)} \\int_\\Omega f\\, d\\mu \\] Theorem 6.1 (Jensen's inequality) Given a convex function \\(J:\\mathbb R\\to \\mathbb R\\) and measurable \\(f:\\Omega\\to \\mathbb R\\), then The negative part \\((J\\circ f)_-\\) is in \\(L^1(\\Omega)\\) (recall the decomposition \\(f=f_+ - f_-\\). \\(\\langle J\\circ f\\rangle\\geq J(\\langle f\\rangle)\\); when \\(J\\) is strictly convex at \\(\\langle f\\rangle\\), there is equality iff \\(f\\) is constant. Proof: Fixing \\(\\langle f\\rangle\\), there exists a constant \\(V\\in \\mathbb R\\) such that \\[ J(\\forall t)\\geq J(\\langle f\\rangle) + V(t - \\langle f\\rangle) \\tag{6.1} \\] This bounds the negative component (but not the positive one!) \\[ [J\\circ f]_-(x) \\leq |J(\\langle f\\rangle)| + |V||\\langle f\\rangle| + |V| |f(x)| \\] using \\(\\mu(\\Omega)&lt;\\infty\\), this bounded function is integrable. To obtain (2), integrate (6.1) for all \\(t=f(x)\\) \\[ \\langle J \\circ f\\rangle\\geq J(\\langle f\\rangle) - V \\langle f\\rangle+ V\\langle f\\rangle \\] with \\(J\\) strictly convex, the inequality is saturated when \\(\\langle J\\circ f\\rangle= J(\\langle f\\rangle)\\). Theorem 6.2 (Hölder's inequality) Given dual \\(p, q\\) with \\(p\\geq 1\\). Let \\(f\\in L^p(\\Omega), g\\in L^q(\\Omega)\\). The pointwise product \\(fg\\in L^1(\\Omega)\\) and \\[ \\|fg\\|_1 \\leq \\int_\\Omega |f||g| \\, d\\mu \\leq \\|f\\|_p \\|g\\|_q \\] "],["bibliography.html", "Bibliography", " Bibliography "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
